var IPCC=IPCC||{};IPCC.Type=IPCC.Type||{};IPCC.Type.prototype=IPCC.Type.prototype||Object.prototype;IPCC.Type.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};IPCC.Sys=IPCC.Sys||{};IPCC.Sys.UI=IPCC.Sys.UI||{};IPCC.Sys.UI.Control=IPCC.Sys.UI.Control||{};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.initializePageViewPlugin=function(KQ,SX){var qg=SX.handleTouchEvents!==false;var MY=new IPCC.Web.UI.PageView(KQ,qg);if(SX){IPCC.aeI(MY,SX);}MY.qv(KQ);MY.initialize();return MY;};IPCC.initializePageListPlugin=function(KQ,bn){var LA=new IPCC.PageList(KQ);if(bn){IPCC.aeI(LA,bn);}LA.qv(KQ);LA.initialize();return LA;};IPCC.Web.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};IPCC.Web.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Qa in baseType.prototype){if(baseType.prototype.hasOwnProperty(Qa)){var aCA=baseType.prototype[Qa];if(!this.prototype[Qa]){this.prototype[Qa]=aCA;}}}}return this;};IPCC.Web.aED=function(aaN,SZ,ahg){if(SZ){if(!ahg){SZ.apply(aaN);}else{SZ.apply(aaN,ahg);}}return aaN;};IPCC.Web.UI.DebugErrorLevel=function(){};IPCC.Web.UI.DebugErrorLevel.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugErrorLevel.prototype={Production:0,Development:1,Detailed:2};IPCC.Web.UI.DebugErrorLevel.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);IPCC.Web.UI.DebugItemCause=function(){};IPCC.Web.UI.DebugItemCause.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugItemCause.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};IPCC.Web.UI.DebugItemCause.registerEnum('IPCC.Web.UI.DebugItemCause',false);IPCC.Web.UI.MouseButton=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.MouseButton.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};IPCC.Web.UI.MouseButton.registerEnum("IPCC.Web.UI.MouseButton");IPCC.Web.UI.Key=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.Key.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};IPCC.Web.UI.Key.registerEnum("IPCC.Web.UI.Key");IPCC.Web.UI.ao=function(aqk){var bL=aqk;var ama=this.type=bL.type.toLowerCase();var Pu=typeof bL.changedTouches!=='undefined';this.rawEvent=bL;this.altKey=bL.altKey;if(typeof(bL.button)!=='undefined'){this.button=(typeof(bL.which)!=='undefined')?bL.button:(bL.button===4)?IPCC.Web.UI.MouseButton.middleButton:(bL.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(ama==='keypress'){this.charCode=bL.charCode||bL.keyCode;}else if(bL.keyCode&&(bL.keyCode===46)){this.keyCode=127;}else{this.keyCode=bL.keyCode;}this.clientX=(Pu)?bL.changedTouches[0].clientX:bL.clientX;this.clientY=(Pu)?bL.changedTouches[0].clientY:bL.clientY;this.ctrlKey=bL.ctrlKey;this.target=bL.target?bL.target:bL.srcElement;function aux(bq){var ad=0;var fp=0;while(bq&& !isNaN(bq.offsetLeft)&& !isNaN(bq.offsetTop)){ad+=bq.offsetLeft-bq.scrollLeft;fp+=bq.offsetTop-bq.scrollTop;if(bq.offsetparent){bq=bq.offsetParent;}else{bq=bq.parentNode;}}return{top:fp,left:ad};};var eN=""+ama;var vv='key';if(eN.substr(0,vv.length)!==vv){if((typeof(bL.offsetX)!=='undefined')&&(typeof(bL.offsetY)!=='undefined')){this.offsetX=bL.offsetX;this.offsetY=bL.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(bL.clientX)==='number')){var ahw=aux(this.target);var cA=this.target;var cB=cA.ownerDocument||cA.document||cA;var kX=cB.defaultView||cB.parentWindow;this.offsetX=(kX.pageXOffset||0)+bL.clientX-ahw.left;this.offsetY=(kX.pageYOffset||0)+bL.clientY-ahw.top;}}this.screenX=(Pu)?bL.changedTouches[0].screenX:bL.screenX;this.screenY=(Pu)?bL.changedTouches[0].screenY:bL.screenY;this.shiftKey=bL.shiftKey;};IPCC.Web.UI.ao.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};IPCC.Web.UI.ao.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ao.registerClass('IPCC.Web.UI.ao');IPCC.aeI=function(de,mO){var Rr;for(var dG in mO){if(mO.hasOwnProperty(dG)){var dI=mO[dG];var arA=de["get_"+dG];var aeb=de["set_"+dG];if(typeof(aeb)==='function'){aeb.apply(de,[dI]);}else if(dI instanceof Array){Rr=arA.apply(de);if(!(Rr instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(dG+" is not an Array property");}for(var K=0,aK=Rr.length,sG=dI.length;K<sG;K++,aK++){Rr[aK]=dI[K];}}}}};IPCC.Web.UI.ao.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.ao.Wf(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.hB.addHandlerCantBeUsedForError);}if(!element.bP){element.bP={};}var eventCache=element.bP[eventName];if(!eventCache){element.bP[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.ao(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var cA=doc.defaultView||doc.parentWindow;e=cA.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.ao(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.ao.alS){element.dispose=IPCC.Web.UI.ao.alS;if(typeof(d)!=="undefined"){element.abH=d;}}}};IPCC.Web.UI.ao.clearHandlers=function(element){IPCC.Web.UI.ao.Wf(element);IPCC.Web.UI.ao.adW(element,false);};IPCC.Web.UI.ao.adW=function(element,autoRemoving){if(element.bP){var cache=element.bP;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.ao.removeHandler(element,name,entry.handler);}}}}element.bP=null;}};IPCC.Web.UI.ao.alS=function(){IPCC.Web.UI.ao.adW(this,true);var d=this.abH,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.abH=null;if(type==="function"){this.dispose();}}};IPCC.Web.UI.ao.removeHandler=function(element,eventName,handler){IPCC.Web.UI.ao.cu(element,eventName,handler);};IPCC.Web.UI.ao.cu=function(element,eventName,handler){IPCC.Web.UI.ao.Wf(element);var browserHandler=null;if((typeof(element.bP)!=='object')|| !element.bP){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.bP[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.ao.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};IPCC.Web.UI.ao.Wf=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.hB.argumentDomNode);}};IPCC.pR=function(dP,xD){var G=this;this.dP=dP;this.xD=xD;this.asz=function(){return G.dP;};this.aDI=function(){return G.xD;};};IPCC.pR.prototype.get_propertyName=function(){return this.dP;};IPCC.pR.prototype.get_propertyInfo=function(){return this.xD;};IPCC.Web.vx=function(ad){return!isNaN(ad-0)&&ad!==null;};IPCC.aCo=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};IPCC.Web.UI.gK=function gK(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.YI={};};IPCC.Web.UI.gK.prototype.dv=function(bX,L){var fM=this.aaT(bX,true);fM[fM.length]=L;};IPCC.Web.UI.gK.prototype.addHandler=function(bX,L){this.dv(bX,L);};IPCC.Web.UI.gK.prototype.cu=function(bX,L){var uM=this.aaT(bX);if(!uM){return;}var bD=IPCC.aCo(uM,L);if(bD>=0){uM.splice(bD,1);}};IPCC.Web.UI.gK.prototype.removeHandler=function(bX,L){this.cu(bX,L);};IPCC.Web.UI.gK.prototype.getHandler=function(bX){var uM=this.aaT(bX);if(!uM||(uM.length===0)){return null;}var fM=uM.slice();uM=fM;return function(source,args){for(var K=0,sG=uM.length;K<sG;K++){uM[K](source,args);}};};IPCC.Web.UI.gK.prototype.aaT=function(bX,aqH){if(!this.YI[bX]){if(!aqH){return null;}this.YI[bX]=[];}return this.YI[bX];};IPCC.Web.JB=IPCC.JB||{};IPCC.Web.JB.Xh=function(bA){if(!this.EA[0][0][0]){this.WM();}var K,aK,eN,Lv,SG,mL=this.EA[0][4],yt=this.EA[1],uF=bA.length,Ql=1;if(uF!==4&&uF!==6&&uF!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.bA=[Lv=bA.slice(0),SG=[]];for(K=uF;K<4*uF+28;K++){eN=Lv[K-1];if(K%uF===0||(uF===8&&K%uF===4)){eN=mL[eN>>>24]<<24^mL[eN>>16&255]<<16^mL[eN>>8&255]<<8^mL[eN&255];if(K%uF===0){eN=eN<<8^eN>>>24^Ql<<24;Ql=Ql<<1^(Ql>>7)*283;}}Lv[K]=Lv[K-uF]^eN;}for(aK=0;K;aK++,K--){eN=Lv[aK&3?K:K-4];if(K<=4||aK<4){SG[aK]=eN;}else{SG[aK]=yt[0][mL[eN>>>24]]^yt[1][mL[eN>>16&255]]^yt[2][mL[eN>>8&255]]^yt[3][mL[eN&255]];}}};IPCC.Web.JB.Xh.prototype={Pa:function(bY){return this.arO(bY,1);},EA:[[[],[],[],[],[]],[[],[],[],[],[]]],WM:function(){var MQ=this.EA[0],yt=this.EA[1],mL=MQ[4],aAK=yt[4],K,ad,yo,fD=[],fI=[],Xd,aaw,abG,iV,Pz,Qo;for(K=0;K<256;K++){fI[(fD[K]=K<<1^(K>>7)*283)^K]=K;}for(ad=yo=0;!mL[ad];ad^=Xd||1,yo=fI[yo]||1){iV=yo^yo<<1^yo<<2^yo<<3^yo<<4;iV=iV>>8^iV&255^99;mL[ad]=iV;aAK[iV]=ad;abG=fD[aaw=fD[Xd=fD[ad]]];Qo=abG*0x1010101^aaw*0x10001^Xd*0x101^ad*0x1010100;Pz=fD[iV]*0x101^iV*0x1010100;for(K=0;K<4;K++){MQ[K][ad]=Pz=Pz<<24^Pz>>>8;yt[K][iV]=Qo=Qo<<24^Qo>>>8;}}for(K=0;K<5;K++){MQ[K]=MQ[K].slice(0);yt[K]=yt[K].slice(0);}},arO:function(Ke,HM){if(Ke.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var bA=this.bA[HM],cC=Ke[0]^bA[0],eB=Ke[HM?3:1]^bA[1],eS=Ke[2]^bA[2],fD=Ke[HM?1:3]^bA[3],vT,aez,akf,aBS=bA.length/4-2,K,Ek=4,et=[0,0,0,0],Hs=this.EA[HM],Mo=Hs[0],Mk=Hs[1],Qn=Hs[2],Rm=Hs[3],mL=Hs[4];for(K=0;K<aBS;K++){vT=Mo[cC>>>24]^Mk[eB>>16&255]^Qn[eS>>8&255]^Rm[fD&255]^bA[Ek];aez=Mo[eB>>>24]^Mk[eS>>16&255]^Qn[fD>>8&255]^Rm[cC&255]^bA[Ek+1];akf=Mo[eS>>>24]^Mk[fD>>16&255]^Qn[cC>>8&255]^Rm[eB&255]^bA[Ek+2];fD=Mo[fD>>>24]^Mk[cC>>16&255]^Qn[eB>>8&255]^Rm[eS&255]^bA[Ek+3];Ek+=4;cC=vT;eB=aez;eS=akf;}for(K=0;K<4;K++){et[HM?3& -K:K]=mL[cC>>>24]<<24^mL[eB>>16&255]<<16^mL[eS>>8&255]<<8^mL[fD&255]^bA[Ek++];vT=cC;cC=eB;eB=eS;eS=fD;fD=vT;}return et;}};IPCC.Web.are='8.4';IPCC.Web.ayg=24;IPCC.Web.rU=IPCC.Web.rU||{};IPCC.Web.rU.Vi=function(rU){if(!this.bA[0]){this.WM();}if(rU){this.eh=rU.eh.slice(0);this.vL=rU.vL.slice(0);this.dw=rU.dw;}else{this.aej();}};IPCC.Web.rU.Vi.rU=function(bY){return(new IPCC.Web.rU.Vi()).aqB(bY).aqv();};IPCC.Web.rU.Vi.prototype={aEE:512,aej:function(){this.eh=this.RU.slice(0);this.vL=[];this.dw=0;return this;},aqB:function(bY){if(typeof bY==="string"){bY=IPCC.Web.Codec.Ga.sk(bY);}var K,eB=this.vL=IPCC.Web.gO.Ss(this.vL,bY),agb=this.dw,aAZ=this.dw=agb+IPCC.Web.gO.vG(bY);for(K=512+agb& -512;K<=aAZ;K+=512){this.OU(eB.splice(0,16));}return this;},aqv:function(){var K,eB=this.vL,eh=this.eh;eB=IPCC.Web.gO.Ss(eB,[IPCC.Web.gO.JG(1,1)]);for(K=eB.length+2;K&15;K++){eB.push(0);}eB.push(Math.floor(this.dw/0x100000000));eB.push(this.dw|0);while(eB.length){this.OU(eB.splice(0,16));}this.aej();return eh;},RU:[],bA:[],WM:function(){var K=0,JA=2,ac;function afJ(ad){return(ad-Math.floor(ad))*0x100000000|0;};axF:for(;K<64;JA++){for(ac=2;ac*ac<=JA;ac++){if(JA%ac===0){continue axF;}}if(K<8){this.RU[K]=afJ(Math.pow(JA,1/2));}this.bA[K]=afJ(Math.pow(JA,1/3));K++;}},OU:function(mP){var K,eN,cC,eB,kX=mP.slice(0),eh=this.eh,cP=this.bA,SS=eh[0],sc=eh[1],KH=eh[2],Sb=eh[3],tN=eh[4],Rf=eh[5],KK=eh[6],SN=eh[7];for(K=0;K<64;K++){if(K<16){eN=kX[K];}else{cC=kX[(K+1)&15];eB=kX[(K+14)&15];eN=kX[K&15]=((cC>>>7^cC>>>18^cC>>>3^cC<<25^cC<<14)+(eB>>>17^eB>>>19^eB>>>10^eB<<15^eB<<13)+kX[K&15]+kX[(K+9)&15])|0;}eN=(eN+SN+(tN>>>6^tN>>>11^tN>>>25^tN<<26^tN<<21^tN<<7)+(KK^tN&(Rf^KK))+cP[K]);SN=KK;KK=Rf;Rf=tN;tN=Sb+eN|0;Sb=KH;KH=sc;sc=SS;SS=(eN+((sc&KH)^(Sb&(sc^KH)))+(sc>>>2^sc>>>13^sc>>>22^sc<<30^sc<<19^sc<<10))|0;}eh[0]=eh[0]+SS|0;eh[1]=eh[1]+sc|0;eh[2]=eh[2]+KH|0;eh[3]=eh[3]+Sb|0;eh[4]=eh[4]+tN|0;eh[5]=eh[5]+Rf|0;eh[6]=eh[6]+KK|0;eh[7]=eh[7]+SN|0;}};IPCC.Web.Ab=function(ts,cU){return IPCC.Web.afb(false,arguments);};IPCC.Web.ahH=function(ts,cU){return IPCC.Web.afb(true,arguments);};IPCC.Web.afb=function(useLocale,cU){var aG='';var ts=cU[0];for(var K=0;;){var GW=ts.indexOf('{',K);var lZ=ts.indexOf('}',K);if((GW<0)&&(lZ<0)){aG+=ts.slice(K);break;}if((lZ>0)&&((lZ<GW)||(GW<0))){if(ts.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aG+=ts.slice(K,lZ+1);K=lZ+2;continue;}aG+=ts.slice(K,GW);K=GW+1;if(ts.charAt(K)==='{'){aG+='{';K++;continue;}if(lZ<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var PM=ts.substring(K,lZ);var Rj=PM.indexOf(':');var aio=parseInt((Rj<0)?PM:PM.substring(0,Rj),10)+1;if(isNaN(aio)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Wq=(Rj<0)?'':PM.substring(Rj+1);var tZ=cU[aio];if(typeof(tZ)==="undefined"||tZ===null){tZ='';}if(tZ.toFormattedString){aG+=tZ.toFormattedString(Wq);}else if(useLocale&&tZ.ahH){aG+=tZ.ahH(Wq);}else if(tZ.format){aG+=tZ.format(Wq);}else{aG+=tZ.toString();}K=lZ+1;}return aG;};IPCC.Web.UI.ImGearException=function(message,errorInfo){this.message=message;var G=this;if(errorInfo){for(var _v in errorInfo){if(errorInfo.hasOwnProperty(_v)){G[_v]=errorInfo[_v];}}}};IPCC.Web.UI.ImGearException.prototype=new Error();IPCC.Web.UI.ImGearException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearException.registerClass('IPCC.Web.UI.ImGearException');IPCC.Web.UI.ImGearHttpException=function(statusCode,message,customErrorCode){var ge="IPCC.Web.UI.ImGearHttpException: ";if(message){ge+=message;}this.message=ge;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};IPCC.Web.UI.ImGearHttpException.prototype=new Error();IPCC.Web.UI.ImGearHttpException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearHttpException.registerClass('IPCC.Web.UI.ImGearHttpException');IPCC.Web.UI.ImGearArgumentException=function(paramName,message){var ge="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.hB.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ge+="\n"+IPCC.Web.Ab(IPCC.hB.paramName,paramName);}}this.message=ge;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentException.prototype=new Error();IPCC.Web.UI.ImGearArgumentException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentException.registerClass('IPCC.Web.UI.ImGearArgumentException');IPCC.Web.UI.ImGearArgumentNullException=function(paramName,message){var ge="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.hB.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ge+="\n"+IPCC.Web.Ab(IPCC.Res.paramName,paramName);}}this.message=ge;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentNullException.prototype=new Error();IPCC.Web.UI.ImGearArgumentNullException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentNullException.registerClass('IPCC.Web.UI.ImGearArgumentNullException');IPCC.Web.UI.ImGearArgumentOutOfRangeException=function(paramName,actualValue,message){var ge="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.hB.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ge+="\n"+IPCC.Web.Ab(IPCC.hB.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){ge+="\n"+IPCC.Web.Ab(IPCC.hB.actualValue,actualValue);}this.message=ge;this.paramName=paramName;this.actualValue=actualValue;};IPCC.Web.UI.ImGearArgumentOutOfRangeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');IPCC.Web.UI.ImGearArgumentTypeException=function(paramName,actualType,expectedType,message){var ge="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){ge+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){ge+=IPCC.Web.Ab(IPCC.hB.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{ge+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{ge+=IPCC.hB.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ge+="\n"+IPCC.Web.Ab(IPCC.hB.paramName,paramName);}}this.message=ge;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};IPCC.Web.UI.ImGearArgumentTypeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentTypeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentTypeException.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');IPCC.Web.UI.ImGearArgumentUndefinedException=function(paramName,message){var ge="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.hB.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ge+="\n"+IPCC.Web.Ab(IPCC.Res.paramName,paramName);}}this.message=ge;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentUndefinedException.prototype=new Error();IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');IPCC.Web.UI.ImGearInvalidOperationException=function(message){var ge="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.hB.invalidOperation);this.message=ge;};IPCC.Web.UI.ImGearInvalidOperationException.protype=new Error();IPCC.Web.UI.ImGearInvalidOperationException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearInvalidOperationException.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');IPCC.Web.UI.ImGearNotImplementedException=function(message){var ge="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.hB.notImplemented);this.message=ge;};IPCC.Web.UI.ImGearNotImplementedException.prototype=new Error();IPCC.Web.UI.ImGearNotImplementedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearNotImplementedException.registerClass('IPCC.Web.UI.ImGearNotImplementedException');IPCC.Web.UI.ImGearParameterCountException=function(message){var ge="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.hB.parameterCount);this.message=ge;};IPCC.Web.UI.ImGearParameterCountException.prootype=new Error();IPCC.Web.UI.ImGearParameterCountException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearParameterCountException.registerClass('IPCC.Web.UI.ImGearParameterCountException');IPCC.Web.bA=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];IPCC.Web.gO={Vg:function(cC,vh,afR){cC=IPCC.Web.gO.adV(cC.slice(vh/32),32-(vh&31)).slice(1);return(afR===undefined)?cC:IPCC.Web.gO.awk(cC,afR-vh);},Yu:function(cC,vh,WV){var ad,SR=Math.floor((-vh-WV)&31);if((vh+WV-1^vh)& -32){ad=(cC[vh/32|0]<<(32-SR))^(cC[vh/32+1|0]>>>SR);}else{ad=cC[vh/32|0]>>>SR;}return ad&((1<<WV)-1);},Ss:function(Cn,vT){if(Cn.length===0||vT.length===0){return Cn.concat(vT);}var vU=Cn[Cn.length-1],ud=IPCC.Web.gO.RH(vU);if(ud===32){return Cn.concat(vT);}else{return IPCC.Web.gO.adV(vT,ud,vU|0,Cn.slice(0,Cn.length-1));}},vG:function(cC){var sG=cC.length,ad;if(sG===0){return 0;}ad=cC[sG-1];return(sG-1)*32+IPCC.Web.gO.RH(ad);},awk:function(cC,cL){if(cC.length*32<cL){return cC;}cC=cC.slice(0,Math.ceil(cL/32));var sG=cC.length;cL=cL&31;if(sG>0&&cL){cC[sG-1]=IPCC.Web.gO.JG(cL,cC[sG-1]&0x80000000>>(cL-1),1);}return cC;},JG:function(cL,ad,fC){if(cL===32){return ad;}return(fC?ad|0:ad<<(32-cL))+cL*0x10000000000;},RH:function(ad){return Math.round(ad/0x10000000000)||32;},apY:function(cC,eB){if(IPCC.Web.gO.vG(cC)!==IPCC.Web.gO.vG(eB)){return false;}var ad=0,K;for(K=0;K<cC.length;K++){ad|=cC[K]^eB[K];}return(ad===0);},adV:function(cC,ud,Kh,et){var K,ahP=0,UM;if(et===undefined){et=[];}for(;ud>=32;ud-=32){et.push(Kh);Kh=0;}if(ud===0){return et.concat(cC);}for(K=0;K<cC.length;K++){et.push(Kh|cC[K]>>>ud);Kh=cC[K]<<(32-ud);}ahP=cC.length?cC[cC.length-1]:0;UM=IPCC.Web.gO.RH(ahP);et.push(IPCC.Web.gO.JG(ud+UM&31,(ud+UM>32)?Kh:et.pop(),1));return et;},afI:function(ad,fp){return[ad[0]^fp[0],ad[1]^fp[1],ad[2]^fp[2],ad[3]^fp[3]];}};IPCC.Web.gl=IPCC.Web.gl||{};IPCC.Web.tW=false;IPCC.Web.Sr=[];IPCC.Web.gl.Ga={lO:function(fM){var et="",qq=IPCC.Web.gO.vG(fM),K,eN;for(K=0;K<qq/8;K++){if((K&3)===0){eN=fM[K/4];}et+=String.fromCharCode(eN>>>24);eN<<=8;}return decodeURIComponent(escape(et));},sk:function(cW){cW=unescape(encodeURIComponent(cW));var et=[],K,eN=0;for(K=0;K<cW.length;K++){eN=eN<<8|cW.charCodeAt(K);if((K&3)===3){et.push(eN);eN=0;}}if(K&3){et.push(IPCC.Web.gO.JG(8*(K&3),eN));}return et;}};IPCC.Web.wN=false;IPCC.Web.gl.pw={yQ:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lO:function(fM,aAW,dh){var et="",K,ct=0,eS=IPCC.Web.gl.pw.yQ,ys=0,qq=IPCC.Web.gO.vG(fM);if(dh){eS=eS.substr(0,62)+'-_';}for(K=0;et.length*6<qq;){et+=eS.charAt((ys^fM[K]>>>ct)>>>26);if(ct<6){ys=fM[K]<<(6-ct);ct+=26;K++;}else{ys<<=6;ct-=6;}}while((et.length&3)&& !aAW){et+="=";}return et;},sk:function(cW,dh){cW=cW.replace(/\s|=/g,'');var et=[],K,ct=0,eS=IPCC.Web.gl.pw.yQ,ys=0,ad;if(dh){eS=eS.substr(0,62)+'-_';}for(K=0;K<cW.length;K++){ad=eS.indexOf(cW.charAt(K));if(ad<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(ct>26){ct-=26;et.push(ys^ad>>>ct);ys=ad<<(32-ct);}else{ct+=6;ys^=ad<<(32-ct);}}if(ct&56){et.push(IPCC.Web.gO.JG(ct&56,ys,1));}return et;}};IPCC.Web.gl.Er={lO:function(fM){return IPCC.Web.gl.pw.lO(fM,1,1);},sk:function(cW){return IPCC.Web.gl.pw.sk(cW,1);}};IPCC.Web.mQ=[];IPCC.Web.Qg=IPCC.Web.Qg||{};IPCC.Web.Qg.aao={dG:"cbc",afO:function(OD,WU,gD,zq){if(zq&&zq.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gO.vG(gD)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var K,kX=IPCC.Web.gO,PA=kX.afI,qq=kX.vG(WU),ajR=0,qA=[];if(qq&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(K=0;ajR+128<=qq;K+=4,ajR+=128){gD=OD.afO(PA(gD,WU.slice(K,K+4)));qA.splice(K,0,gD[0],gD[1],gD[2],gD[3]);}qq=(16-((qq>>3)&15))*0x1010101;gD=OD.afO(PA(gD,kX.Ss(WU,[qq,qq,qq,qq]).slice(K,K+4)));qA.splice(K,0,gD[0],gD[1],gD[2],gD[3]);return qA;},Pa:function(OD,Pk,gD,zq){if(zq&&zq.length){throw new IPCC.Web.UI.ImGearArgumentException(zq,"cbc can't authenticate data");}if(IPCC.Web.gO.vG(gD)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gO.vG(Pk)&127)|| !Pk.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var K,kX=IPCC.Web.gO,PA=kX.afI,uE,uR,qA=[];zq=zq||[];for(K=0;K<Pk.length;K+=4){uE=Pk.slice(K,K+4);uR=PA(gD,OD.Pa(uE));qA.splice(K,0,uR[0],uR[1],uR[2],uR[3]);gD=uE;}uE=qA[K-1]&255;if(uE===0||uE>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}uR=uE*0x1010101;if(!kX.apY(kX.Vg([uR,uR,uR,uR],0,uE*8),kX.Vg(qA,qA.length*32-uE*8,qA.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return kX.Vg(qA,0,qA.length*32-uE*8);}};IPCC.Web.azn=0;IPCC.Web.bP=new IPCC.Web.UI.gK();IPCC.Web.aDh=function(L){IPCC.Web.bP.dv(IPCC.hB.prodInfo,L);};IPCC.Web.aGx=function(L){IPCC.Web.bP.cu(IPCC.hB.prodInfo,L);};IPCC.Web.aDS=function(L){IPCC.Web.bP.dv(IPCC.hB.prodFailInfo,L);};IPCC.Web.aFK=function(L){IPCC.Web.bP.cu(IPCC.hB.prodFailInfo,L);};IPCC.Web.ai=function(aC,C){var L=IPCC.Web.bP.getHandler(aC);if(L!==null){L(IPCC.Web,C);}};IPCC.Web.aiy=function(ER){var tc=ER.length;var xn=Math.ceil(tc/4),Sd;var ct=[];ct.length=xn;for(var lK=0,hF=0;lK<xn;lK++,hF+=4){ct[lK]=((ER[hF]&0xff)<<24)+((ER[hF+1]&0xff)<<16)+((ER[hF+2]&0xff)<<8)+(ER[hF+3]&0xff);}if(hF<tc){Sd[lK]=0;for(var yl=0;hF<tc;hF++,yl++){Sd[lK]+=(ER[hF++]&0xff)<<(3-yl);}}return ct;};IPCC.Web.abz=function(bo){var tc=bo.length;var xn=Math.ceil(tc/4);var ct=[];ct.length=xn;for(var lK=0,hF=0;lK<xn;lK++,hF+=4){ct[lK]=((bo.charCodeAt(hF)&0xff)<<24)+((bo.charCodeAt(hF+1)&0xff)<<16)+((bo.charCodeAt(hF+2)&0xff)<<8)+((bo.charCodeAt(hF+3)&0xff));}if(hF<tc){ct[lK]=0;for(var yl=0;hF<tc;hF++,yl++){ct[lK]+=(bo.charCodeAt(hF++)&0xff)<<(3-yl);}}return ct;};IPCC.Web.avp=function(vL){var EI=new Uint8Array(vL);var tc=EI.length;var xn=Math.ceil(tc/4),Sd;var ct=[];ct.length=xn;for(var lK=0,hF=0;lK<xn;lK++,hF+=4){ct[lK]=(EI[hF]<<24)+(EI[hF+1]<<16)+(EI[hF+2]<<8)+EI[hF+3];}if(hF<tc){ct[lK]=0;for(var yl=0;hF<tc;hF++,yl++){Sd[lK]+=EI[hF++]<<(3-yl);}}return ct;};IPCC.Web.Dy=function(ct,gD){var bA=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.As(ct,bA,gD);};IPCC.Web.As=function(ct,bA,gD){try{var Mj=new IPCC.Web.JB.Xh(bA);var bY=IPCC.Web.Qg.aao.Pa(Mj,ct,gD);return bY;}catch(am){return;}};IPCC.Web.Cr=function(bG){var ct;if(typeof(VBArray)!=="undefined"){ct=IPCC.Web.aiy(new VBArray(bG.responseBody).toArray());}else{ct=IPCC.Web.abz(bG.responseText);}return ct;};IPCC.Web.aEp=function(vL,bG){var ct;if(typeof(ArrayBuffer)!=="undefined"){ct=IPCC.Web.avp(vL);}else if(typeof(VBArray)!=="undefined"){ct=IPCC.Web.aiy(new VBArray(bG.responseBody).toArray());}else{ct=IPCC.Web.abz(bG.responseText);}return ct;};IPCC.Web.ayD=function(azv,gD,AL){var Un;var bY;var Mj;var ct;try{Mj=new IPCC.Web.JB.Xh(AL.Sr);ct=IPCC.Web.gl.pw.sk(azv);Un=IPCC.Web.Qg.aao.Pa(Mj,ct,gD);bY=IPCC.Web.gl.Ga.lO(Un);}catch(am){IPCC.Web.mQ[0]=0;IPCC.Web.tW=false;return;}var aG;if(Un){aG=IPCC.cT.pa(bY);if(aG){if(aG.v===IPCC.Web.os.akQ()&&aG.p===IPCC.Web.os.akp()){if(aG.f){var cL=aG.f.length,fM=aG.f;if(aG.f.length>0){IPCC.Web.mQ.splice(0);for(var K=0;K<cL;K++){IPCC.Web.mQ.push(fM[K]);}IPCC.Web.tW=true;IPCC.Web.wN=false;}}else{IPCC.Web.tW=false;IPCC.Web.wN=false;}}}}};IPCC.Web.MH=function(ahN){if(IPCC.Web.tW){return;}if(IPCC.Web.wN){return;}if(!ahN){return;}var bG=new XMLHttpRequest();var gD=IPCC.Web.os.Qb(4);var AL={Sr:[]};function auv(){try{if(bG.readyState===4){if(bG.status===200){IPCC.Web.ayD(bG.responseText,gD,AL);}else{IPCC.Web.mQ[0]=0;IPCC.Web.tW=false;IPCC.Web.wN=false;throw new IPCC.Web.UI.ImGearHttpException(bG.status,'failure to get product info');}}}catch(e){IPCC.Web.wN=false;throw new IPCC.Web.UI.ImGearException('failure to get product info',{name:'Product Infomation'});}finally{if(bG.readyState===4){if(bG.status===200){if(IPCC.Web.tW===true){IPCC.Web.ai(IPCC.hB.prodInfo,null);}else{IPCC.Web.ai(IPCC.hB.prodFailInfo,null);}}else{IPCC.Web.ai(IPCC.hB.prodFailInfo,null);}}}};setTimeout(function(){bG.open('GET',IPCC.Web.os.arR(ahN,gD,AL),true);bG.setRequestHeader('Content-Type','application/json');bG.onreadystatechange=auv;bG.send();},500);IPCC.Web.azn++;IPCC.Web.wN=true;};IPCC.Web.RX=function(){var Fi=new Date();var aCb=new Date(Fi.getYear(),Fi.getMonth(),Fi.getDate(),Fi.getHours(),Fi.getMinutes(),Fi.getSeconds());return(+aCb);};IPCC.Web.os={Qb:function(dX){var HD=[];var aae=IPCC.Web.afQ().afc;for(var K=0;K<dX;K++){HD.push(aae());}return HD;},UF:function(dX,fo){var HD=[];var aae=IPCC.Web.afQ(fo).afc;for(var K=0;K<dX;K++){HD.push(aae());}return HD;},arR:function(cW,gD,AL){return cW+IPCC.hB.fwdslash+IPCC.hB.svctype+IPCC.hB.fwdslash+IPCC.hB.viewer+IPCC.hB.querySymb+IPCC.hB.version+IPCC.Web.os.akQ()+'&'+IPCC.hB.iv+IPCC.Web.os.axR(gD,AL)+'&'+IPCC.hB.param+IPCC.Web.os.akp();},akQ:function(){return IPCC.Web.are;},akp:function(){return IPCC.Web.ayg;},axR:function(gD,AL){var dX,lv=true,et="",JQ,aad,abw,NN,NV,aec;for(dX=0;dX<4;dX++){if(!lv){et+='-';}else{lv=false;}NV=0;for(JQ=0;JQ<4;JQ++){NN=dX*32+JQ*8;aad=IPCC.Web.gO.Yu(gD,NN,4);et+=aad.toString(16).toUpperCase();abw=IPCC.Web.gO.Yu(gD,NN+4,4);et+=abw.toString(16).toUpperCase();aec=(aad*16+abw+IPCC.Web.gO.Yu(IPCC.Web.bA,NN,8))%256;NV=NV|(aec<<(24-(JQ*8)));}AL.Sr[dX]=NV;}return et;}};IPCC.cT=IPCC.cT||{};IPCC.cT.pa=IPCC.cT.pa||function(cW,axI){if(cW===""){cW='""';}try{if(typeof YUI!=='undefined'){var ajb;YUI().use('json-parse',function(Y){ajb=Y.JSON.parse(cW);});return ajb;}else{var acg=cW.replace(new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g'),"$1new Date($2)");var azu=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');var aAm=new RegExp('"(\\\\.|[^"\\\\])*"','g');if(axI&&azu.test(acg.replace(aAm,''))){throw null;}return eval('('+acg+')');}}catch(e){throw new IPCC.Web.UI.ImGearArgumentException('str','Cannot deserialize. The data does not correspond to valid JSON.');}};IPCC.ha={};IPCC.ha.InternetExplorer={};IPCC.ha.Firefox={};IPCC.ha.Safari={};IPCC.ha.Opera={};IPCC.ha.agent=null;IPCC.ha.hasDebuggerStatement=false;IPCC.ha.name=navigator.appName;IPCC.ha.version=parseFloat(navigator.appVersion);IPCC.ha.documentMode=0;if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.ha.agent=IPCC.ha.InternetExplorer;IPCC.ha.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.ha.version>=8){if(document.documentMode>=7){IPCC.ha.documentMode=document.documentMode;}}IPCC.ha.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.ha.agent=IPCC.ha.Firefox;IPCC.ha.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.ha.name='Firefox';IPCC.ha.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.ha.agent=IPCC.ha.Safari;IPCC.ha.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.ha.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.ha.agent=IPCC.ha.Opera;}IPCC.Es=function(QD){this.sd=(typeof(QD)!=='undefined'&&QD!==null&&QD!=='')?[QD.toString()]:[];this.H={};this.cL=0;};IPCC.Es.prototype.ps=function(bo){this.sd[this.sd.length]=bo;};IPCC.Es.prototype.aEG=function(bo){this.sd[this.sd.length]=((typeof(bo)==='undefined')||(bo===null)||(bo===''))?'\r\n':bo+'\r\n';};IPCC.Es.prototype.aGk=function(){this.sd=[];this.H={};this.cL=0;};IPCC.Es.prototype.aFy=function(){if(this.sd.length===0){return true;}return this.toString()==='';};IPCC.Es.prototype.ams=function(BL){BL=BL||'';var parts=this.sd;if(this.cL!==parts.length){this.H={};this.cL=parts.length;}var val=this.H;if(typeof(val[BL])==='undefined'){if(BL!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[BL]=this.sd.join(BL);}return val[BL];};IPCC.Web.hG=function(fM,elt){var len=fM.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in fM&&fM[from]===elt){return from;}}return-1;};IPCC.cT.QX=[];IPCC.cT.Jy=[];IPCC.cT.aEs=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g');IPCC.cT.Dh={};IPCC.cT.aqe=new RegExp('["\\\\\\x00-\\x1F]','i');IPCC.cT.aqh=new RegExp('["\\\\\\x00-\\x1F]','g');IPCC.cT.aDT=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');IPCC.cT.aEn=new RegExp('"(\\\\.|[^"\\\\])*"','g');IPCC.cT.azh='__type';IPCC.cT.RU=function(){var replaceChars=['\\u0000','\\u0001','\\u0002','\\u0003','\\u0004','\\u0005','\\u0006','\\u0007','\\b','\\t','\\n','\\u000b','\\f','\\r','\\u000e','\\u000f','\\u0010','\\u0011','\\u0012','\\u0013','\\u0014','\\u0015','\\u0016','\\u0017','\\u0018','\\u0019','\\u001a','\\u001b','\\u001c','\\u001d','\\u001e','\\u001f'];IPCC.cT.Jy[0]='\\';IPCC.cT.QX['\\']=new RegExp('\\\\','g');IPCC.cT.Dh['\\']='\\\\';IPCC.cT.Jy[1]='"';IPCC.cT.QX['"']=new RegExp('"','g');IPCC.cT.Dh['"']='\\"';for(var i=0;i<32;i++){var c=String.fromCharCode(i);IPCC.cT.Jy[i+2]=c;IPCC.cT.QX[c]=new RegExp(c,'g');IPCC.cT.Dh[c]=replaceChars[i];}};IPCC.cT.ach=function(object,gP){gP.ps(object.toString());};IPCC.cT.ada=function(object,gP){if(isFinite(object)){gP.ps(String(object));}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize non finite numbers.');}};IPCC.cT.adz=function(string,gP){gP.ps('"');if(IPCC.cT.aqe.test(string)){if(IPCC.cT.Jy.length===0){IPCC.cT.RU();}if(string.length<128){string=string.replace(IPCC.cT.aqh,function(x){return IPCC.cT.Dh[x];});}else{for(var i=0;i<34;i++){var c=IPCC.cT.Jy[i];if(string.indexOf(c)!== -1){if(IPCC.ha.agent===IPCC.ha.Opera||IPCC.ha.agent===IPCC.ha.FireFox){string=string.split(c).join(IPCC.cT.Dh[c]);}else{string=string.replace(IPCC.cT.QX[c],IPCC.cT.Dh[c]);}}}}}gP.ps(string);gP.ps('"');};IPCC.cT.Os=function(object,gP,sort,prevObjects){var i;switch(typeof object){case 'object':if(object){if(prevObjects){for(var j=0;j<prevObjects.length;j++){if(prevObjects[j]===object){throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize object with cyclic reference within child properties.');}}}else{prevObjects=[];}try{prevObjects[prevObjects.length]=object;if(typeof(object)==="number"){IPCC.cT.ada(object,gP);}else if(typeof(object)==="boolean"){IPCC.cT.ach(object,gP);}else if(typeof(object)==="string"){IPCC.cT.adz(object,gP);}else if(object instanceof Array){gP.ps('[');for(i=0;i<object.length;++i){if(i>0){gP.ps(',');}IPCC.cT.Os(object[i],gP,false,prevObjects);}gP.ps(']');}else{var properties=[];var propertyCount=0;for(var name in object){if(object.hasOwnProperty(name)){var eN=""+name;var vv='$';if((eN.substr(0,vv.length)===vv)){continue;}if(name===IPCC.cT.azh&&propertyCount!==0){properties[propertyCount++]=properties[0];properties[0]=name;}else{properties[propertyCount++]=name;}}}if(sort){properties.sort();}gP.ps('{');var needComma=false;for(i=0;i<propertyCount;i++){var value=object[properties[i]];if(typeof value!=='undefined'&&typeof value!=='function'){if(needComma){gP.ps(',');}else{needComma=true;}IPCC.cT.Os(properties[i],gP,sort,prevObjects);gP.ps(':');IPCC.cT.Os(value,gP,sort,prevObjects);}}gP.ps('}');}}finally{prevObjects.splice(prevObjects.length-1);}}else{gP.ps('null');}break;case 'number':IPCC.cT.ada(object,gP);break;case 'string':IPCC.cT.adz(object,gP);break;case 'boolean':IPCC.cT.ach(object,gP);break;default:gP.ps('null');break;}};IPCC.cT.Zb=IPCC.cT.Zb||function(object){var gP=new IPCC.Es();IPCC.cT.Os(object,gP,false);return gP.ams();};IPCC.hB={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};IPCC.Web.aCF=function aDB(){var jY=0xefc8249d;var rN=function(bY){bY=bY.toString();for(var K=0;K<bY.length;K++){jY+=bY.charCodeAt(K);var eh=0.02519603282416938*jY;jY=eh>>>0;eh-=jY;eh*=jY;jY=eh>>>0;eh-=jY;jY+=eh*0x100000000;}return(jY>>>0)*2.3283064365386963e-10;};rN.aph='Mash 0.9';return rN;};IPCC.Web.afQ=function aEN(){return(function(cU){var Ei=0;var Ds=0;var zX=0;var eS=1;if(cU.length===0){cU=[+new Date()];}var rN=IPCC.Web.aCF();Ei=rN(' ');Ds=rN(' ');zX=rN(' ');for(var K=0;K<cU.length;K++){Ei-=rN(cU[K]);if(Ei<0){Ei+=1;}Ds-=rN(cU[K]);if(Ds<0){Ds+=1;}zX-=rN(cU[K]);if(zX<0){zX+=1;}}rN=null;var xv=function(){var ww=2091639*Ei+eS*2.3283064365386963e-10;Ei=Ds;Ds=zX;zX=ww-(eS=ww|0);return zX;};xv.afc=function(){return xv()*0x100000000;};xv.aDu=function(){return xv()+(xv()*0x200000|0)*1.1102230246251565e-16;};xv.aph='Alea 0.9';xv.cU=cU;return xv;}(Array.prototype.slice.call(arguments)));};IPCC.aJ={aI:function(H,dG,aI){if(typeof(H)!==aI){throw new IPCC.Web.UI.ImGearArgumentTypeException(dG,typeof(H),aI);}},ii:function(H,dG){IPCC.aJ.aI(H,dG,'string');},gA:function(H,dG){if(!(H instanceof Date)){throw new IPCC.Web.UI.ImGearArgumentTypeException(dG,typeof(H),"Date");}},iw:function(H,dG){IPCC.aJ.aI(H,dG,'number');if(!isFinite(H)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(dG,H,'The value must be a number.');}},mE:function(H,dG,AM,xI){IPCC.aJ.aI(H,dG,'number');if(H<AM||H>xI|| !isFinite(H)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(dG,H,'The value must be a number between '+AM+' and '+xI+' inclusive.');}},Tn:function(H,dG,HT){IPCC.aJ.aI(H,dG,'number');var K;for(K=0;K<HT.length;K++){if(H===HT[K]){return;}}var PG='';for(K=0;K<HT.length;K++){if(K>0){if(K===HT.length-1){PG+=' or ';}else{PG+=', ';}}PG+=HT[K];}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(dG,H,'The value must be '+PG+'.');},nQ:function(H,dG,AM,xI){IPCC.aJ.mE(H,dG,AM,xI);if(H!==Math.floor(H)){throw new IPCC.Web.UI.ImGearArgumentException(dG,'The value must be an integer.');}},eK:function(H,dG){IPCC.aJ.aI(H,dG,'string');if(!H.match(/#[0-9A-Fa-f]{6}/)){throw new IPCC.Web.UI.ImGearArgumentException(dG,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},Wl:function(H,dG){IPCC.aJ.aI(H,dG,'string');if(!H.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new IPCC.Web.UI.ImGearArgumentException(dG,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},iY:function(H,dG,iY,aja){IPCC.aJ.aI(H,dG,'number');var dP;var Wt=0;for(dP in iY){if(iY.hasOwnProperty(dP)){if(aja){Wt|=iY[dP];}else{if(H===iY[dP]){return;}}}}var cW="";if(aja){if((H|Wt)===Wt){return;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(dG,H,'The value must be zero or more members of the '+cW+' enumeration.');}}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(dG,H,'The value must be a member of the '+cW+' enumeration.');},ba:function(H,dG){IPCC.aJ.iw(H.x,dG+'.x');IPCC.aJ.iw(H.y,dG+'.y');},F:function(H,dG){IPCC.aJ.iw(H.x,dG+'.x');IPCC.aJ.iw(H.y,dG+'.y');IPCC.aJ.iw(H.width,dG+'.width');IPCC.aJ.iw(H.height,dG+'.height');}};IPCC.CD=function(){function Gh(){return Math.floor((Math.random()*10)).toString();};var gA=new Date();return Gh()+Gh()+'_'+gA.getTime()+"_"+Gh()+Gh()+Gh()+Gh();};IPCC.ei={hW:function(kd,Pm){var aI,cW,hx;if(kd===null){return 'null';}if(!Pm){Pm=0;}aI=typeof(kd);if(aI==='undefined'){return 'undefined';}else if(aI==='number'||aI==='boolean'){return kd.toString();}else if(aI==='string'){return '\''+kd+'\'';}else if(aI==='function'){return 'function';}else{if(Pm<0){return 'kd';}cW='{';for(hx in kd){if(kd.hasOwnProperty(hx)){if(cW.length>2){cW+=', ';}cW+=hx;cW+=': ';cW+=IPCC.ei.hW(kd[hx],Pm-1);}}cW+='}';return cW;}},NQ:function(bo){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bo+'\n';}},aDH:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},iS:function(hm,Jf,aD,Gx,AT){var bo="PCC Controls - ";bo+=(Gx)?Gx:" ";bo+=" parent Div id = ";bo+=(AT)?AT:" ";if(Jf){switch(Jf){case 0:bo+=" FunctionCall ";break;case 1:bo+=" Exception ";break;case 2:bo+=" Custom ";break;case 3:bo+=" UserAction ";break;case 4:bo+=" Warning ";break;default:bo+=" unknown ";}}bo+=" - "+hm;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bo);}if(window.console&&window.console.log){window.console.log(bo);}if(window.opera){window.opera.postError(bo);}if(window.debugService){window.debugService.trace(bo);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bo+'\n';}var Mc;try{Mc=onPCCItemLogged;}catch(ex){}if(Mc&&(typeof(Mc)).toLowerCase()==='function'){var cU=new IPCC.Web.UI.LogItemEventArgs();cU.message=hm;cU.cause=Jf;cU.level=aD;cU.id=AT;Mc(cU);}}};IPCC.uT={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};IPCC.Web.oT=function(){if(this.acI===undefined){var CB=document.createElement("div");CB.style.overflow='scroll';CB.style.position='absolute';CB.style.top='-9999px';document.body.appendChild(CB);this.acI=CB.offsetWidth-CB.clientWidth;document.body.removeChild(CB);}return this.acI;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MouseTool=function(){};IPCC.Web.UI.MouseTool.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseTool.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22};IPCC.Web.UI.MouseTool.registerEnum('IPCC.Web.UI.MouseTool',false);IPCC.Web.UI.FitType=function(){};IPCC.Web.UI.FitType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FitType.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};IPCC.Web.UI.FitType.registerEnum('IPCC.Web.UI.FitType',false);IPCC.Web.UI.ScrollBars=function(){};IPCC.Web.UI.ScrollBars.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ScrollBars.prototype={None:0,Both:3,Auto:4};IPCC.Web.UI.ScrollBars.registerEnum('IPCC.Web.UI.ScrollBars',false);IPCC.Web.UI.MarkHandleMode=function(){};IPCC.Web.UI.MarkHandleMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkHandleMode.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};IPCC.Web.UI.MarkHandleMode.registerEnum('IPCC.Web.UI.MarkHandleMode',false);IPCC.Web.UI.ImGearArtDataServices=function(){};IPCC.Web.UI.ImGearArtDataServices.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearArtDataServices.prototype={None:0,ArtDataService:1};IPCC.Web.UI.ImGearArtDataServices.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);IPCC.Web.UI.Rectangle=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};IPCC.Web.UI.Rectangle.prototype={intersect:function(rectangle){var ad=Math.max(this.x,rectangle.x);var bN=Math.min(this.x+this.width,rectangle.x+rectangle.width)-ad;var fp=Math.max(this.y,rectangle.y);var cN=Math.min(this.y+this.height,rectangle.y+rectangle.height)-fp;if(bN<=0||cN<=0){ad=fp=bN=cN=0;}this.x=ad;this.y=fp;this.width=bN;this.height=cN;},union:function(rectangle){var gs=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var ho=Math.max(this.x+this.width,rectangle.x+rectangle.width);var hM=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=gs;this.y=_top;this.width=ho-gs;this.height=hM-_top;return this;},scale:function(Wd,Oj){Oj=Oj||Wd;var gs=this.x*Wd;var _top=this.y*Oj;var bN=this.width*Wd;var cN=this.height*Oj;this.x=gs;this.y=_top;this.width=bN;this.height=cN;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};IPCC.Web.UI.Rectangle.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Rectangle.registerClass('IPCC.Web.UI.Rectangle');IPCC.Web.UI.Point=function(x,y){this.x=x;this.y=y;return this;};IPCC.Web.UI.Point.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};IPCC.Web.UI.Point.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Point.registerClass('IPCC.Web.UI.Point');IPCC.Web.UI.PointCollection=function(){var bE=[];var bP=new IPCC.Web.UI.gK();this.avS=function(ba){var C=new IPCC.Web.UI.PointEventArgs();C.point=ba;C.length=1;bE.push(new IPCC.Web.UI.Point(ba.x,ba.y));C.index=bE.length-1;this.ai('pointAdded',C);};this.axd=function(amC){var C=new IPCC.Web.UI.PointEventArgs();C.index=bE.length;C.length=amC.get_length();function nb(ba){bE.push(ba);};amC.forEach(nb,{});if(C.length>0){this.ai('pointAdded',C);}};this.np=function(og,dH){var SI=[].concat(bE);var K;for(K=0;K<SI.length;K++){og.call(dH,new IPCC.Web.UI.Point(SI[K].x,SI[K].y),K,this);}};this.AQ=function(bD){mR(bD);var hx=bE[bD];return new IPCC.Web.UI.Point(hx.x,hx.y);};this.aoV=function(bD,ba){mR(bD);IPCC.aJ.ba(ba,'point');var Op=bE[bD];if(Op.x===ba.x&&Op.y===ba.y){return;}Op.x=ba.x;Op.y=ba.y;var C=new IPCC.Web.UI.PointEventArgs();C.point=ba;C.index=bD;C.length=1;this.ai('pointChanged',C);};this.eI=function(){return bE.length;};this.aAn=function(bD){mR(bD);var C=new IPCC.Web.UI.PointEventArgs();C.point=bE[bD];C.index=bD;C.length=1;bE.splice(bD,1);this.ai('pointRemoved',C);};this.azN=function(){if(bE.length<1){return;}var C=new IPCC.Web.UI.PointEventArgs();C.index=0;C.length=bE.length;bE=[];this.ai('pointRemoved',C);};this.ahI=function(fz,er){if(fz===0&&er===0){return;}IPCC.aJ.iw(fz,'deltaX');IPCC.aJ.iw(er,'deltaY');var K;for(K=0;K<bE.length;K++){bE[K].x+=fz;bE[K].y+=er;}var C=new IPCC.Web.UI.PointEventArgs();C.index=0;C.length=bE.length;this.ai('pointChanged',C);};this.vj=function(){if(bE.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var K,gs=bE[0].x,ho=bE[0].x,_top=bE[0].y,hM=bE[0].y;for(K=1;K<bE.length;K++){var ba=bE[K];gs=Math.min(gs,ba.x);ho=Math.max(ho,ba.x);_top=Math.min(_top,ba.y);hM=Math.max(hM,ba.y);}return new IPCC.Web.UI.Rectangle(gs,_top,ho-gs,hM-_top);};function mR(bD){if(bD>bE.length-1||(bD<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bD);}};this.awz=function(L){bP.addHandler('pointAdded',L);};this.azE=function(L){bP.removeHandler('pointAdded',L);};this.avX=function(L){bP.addHandler('pointChanged',L);};this.aAb=function(L){bP.removeHandler('pointChanged',L);};this.avT=function(L){bP.addHandler('pointRemoved',L);};this.aAc=function(L){bP.removeHandler('pointRemoved',L);};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){L(this,C);}};return this;};IPCC.Web.UI.PointCollection.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.avS(point);},addPoints:function(pointCollection){this.axd(pointCollection);},forEach:function(method,context){this.np(method,context);},getPoint:function(index){return this.AQ(index);},setPoint:function(index,point){this.aoV(index,point);},get_length:function(){return this.eI();},removePoint:function(index){this.aAn(index);},removeAllPoints:function(){this.azN();},moveAllPoints:function(deltaX,deltaY){this.ahI(deltaX,deltaY);},add_pointAdded:function(handler){this.awz(handler);},remove_pointAdded:function(handler){this.azE(handler);},add_pointChanged:function(handler){this.avX(handler);},remove_pointChanged:function(handler){this.aAb(handler);},add_pointRemoved:function(handler){this.avT(handler);},remove_pointRemoved:function(handler){this.aAc(handler);}};IPCC.Web.UI.PointCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointCollection.registerClass('IPCC.Web.UI.PointCollection');IPCC.Web.UI.PageViewState=function(){return this;};IPCC.Web.UI.PageViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:IPCC.Web.UI.FitType.FullImage,viewRectangle:new IPCC.Web.UI.Rectangle(0,0,0,0),viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};IPCC.Web.UI.PageViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageViewState.registerClass('IPCC.Web.UI.PageViewState');IPCC.Web.UI.ThumbnailViewState=function(){return this;};IPCC.Web.UI.ThumbnailViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,selected:false};IPCC.Web.UI.ThumbnailViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailViewState.registerClass('IPCC.Web.UI.ThumbnailViewState');IPCC.Web.UI.LogItemEventArgs=function(){return this;};IPCC.Web.UI.LogItemEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.LogItemEventArgs.prototype={};IPCC.Web.UI.LogItemEventArgs.registerClass('IPCC.Web.UI.LogItemEventArgs');IPCC.Web.UI.LogItem=IPCC.Web.UI.LogItemEventArgs;IPCC.Web.UI.MouseEventArgs=function(){var akr=false;this.axL=function(){akr=true;};this.akW=function(){return akr;};return this;};IPCC.Web.UI.MouseEventArgs.prototype={preventDefault:function(){this.axL();}};IPCC.Web.UI.MouseEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MouseEventArgs.registerClass('IPCC.Web.UI.MouseEventArgs');IPCC.Web.UI.MouseEvent=IPCC.Web.UI.MouseEventArgs;IPCC.Web.UI.PointEventArgs=function(){return this;};IPCC.Web.UI.PointEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointEventArgs.prototype={};IPCC.Web.UI.PointEventArgs.registerClass('IPCC.Web.UI.PointEventArgs');IPCC.Web.UI.CommentEventArgs=function(){return this;};IPCC.Web.UI.CommentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.CommentEventArgs.prototype={};IPCC.Web.UI.CommentEventArgs.registerClass('IPCC.Web.UI.CommentEventArgs');IPCC.Web.UI.ImGearPageOpenFailedEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageOpenFailedEventArgs.prototype={};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');IPCC.Web.UI.TextSelectedEventArgs=function(){return this;};IPCC.Web.UI.TextSelectedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.TextSelectedEventArgs.prototype={};IPCC.Web.UI.TextSelectedEventArgs.registerClass('IPCC.Web.UI.TextSelectedEventArgs');IPCC.Web.UI.PageView=function(element,qg){var cj=this;var ah;var V;var qM=0;var nX='';var yp=false;var bP=new IPCC.Web.UI.gK();var ek=null;var uT=IPCC.uT;var ajP=IPCC.uT;var Jl=0.0;var Il=false;var NP=0;var afe= -1;var aef= -1;var aep= -1;function hh(yT){if(!V){return false;}return V.hh(yT);};this.T=function(fi,gW){if(hh(IPCC.Web.UI.DebugErrorLevel.Production)){V.T(fi,gW);}};this.bS=function(fi,eU,it){if(!hh(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],(it?it:0));}aV+=')';this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);};this.wg=function(fi,eU,jy,it){if(!hh(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],(it?it:0));}aV+=') = ';aV+=IPCC.ei.hW(jy,1);this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);};this.aZ=function(fi,eU,jy){if(!hh(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],0);}aV+=') = ';aV+=IPCC.ei.hW(jy,1);this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.nl=function(hm,aD){if(V){V.iS(hm,IPCC.Web.UI.DebugItemCause.FunctionCall,aD);}};this.iS=function(hm){if(V){V.iS(hm,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.sI=function(){return V.get_debug();};this.BQ=function(H){V.set_debug(H);};this.or=function(){return V.or();};this.rC=function(H){IPCC.aJ.iY(H,'value',IPCC.Web.UI.DebugErrorLevel);V.rC(H);};this.aCZ=function(H){Il=H;};this.aEA=function(){return Il;};var oC=function(){if(V.dB()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function dv(aC,L){bP.addHandler(aC,L);};function cu(aC,L){bP.removeHandler(aC,L);};this.JM=function(hL,cU){V.axw(hL,cU);};this.ayr=function(cU,O){V.zg(O);V.co();};this.Hq=function(L){dv('pageOpening',L);};this.IU=function(L){cu('pageOpening',L);};this.HL=function(L){dv('pageOpened',L);};this.Jq=function(L){cu('pageOpened',L);};this.abO=function(L){dv('pageClosed',L);};this.Vv=function(L){cu('pageClosed',L);};this.Cy=function(L){dv('pageOpenFailed',L);};this.zJ=function(L){cu('pageOpenFailed',L);};this.Ih=function(L){dv('pageDisplayed',L);};this.Ki=function(L){cu('pageDisplayed',L);};this.zE=function(L){dv('mouseDown',L);};this.Fj=function(L){cu('mouseDown',L);};this.GG=function(L){dv('mouseMove',L);};this.GI=function(L){cu('mouseMove',L);};this.Ac=function(L){dv('mouseUp',L);};this.FY=function(L){cu('mouseUp',L);};this.YB=function(L){dv('contextMenu',L);};this.Vu=function(L){cu('contextMenu',L);};this.Af=function(L){dv('markAdded',L);};this.yU=function(L){cu('markAdded',L);};this.Yk=function(L){dv('markCreating',L);};this.XG=function(L){cu('markCreating',L);};this.CL=function(L){dv('markChanged',L);};this.Fo=function(L){cu('markChanged',L);};this.za=function(L){dv('markRemoved',L);};this.ye=function(L){cu('markRemoved',L);};this.Co=function(L){dv('markReordered',L);};this.Gk=function(L){cu('markReordered',L);};this.Oz=function(L){dv('marksLoaded',L);};this.OA=function(L){cu('marksLoaded',L);};this.BZ=function(L){dv('markSelectionChanged',L);};this.Fw=function(L){cu('markSelectionChanged',L);};this.wF=function(L){dv('textPageReady',L);};this.yf=function(L){cu('textPageReady',L);};this.abj=function(L){dv('selectTextMouseToolCompleted',L);};this.Vw=function(L){cu('selectTextMouseToolCompleted',L);};this.YL=function(L){dv('exceptionThrown',L);};this.abq=function(L){dv('scaleChanged',L);};this.VT=function(L){cu('scaleChanged',L);};this.Uu=function(L){cu('exceptionThrown',L);};this.Bb=function(L){dv('textExtractionFailed',L);};this.FR=function(L){cu('textExtractionFailed',L);};this.iT=function(L){dv('propertyChanged',L);};this.kA=function(L){cu('propertyChanged',L);};var ai=function(aC,C){try{var L;L=bP.getHandler(aC);if(L){L(cj,C);}}catch(e){cj.T(aC+'Event',e);}};var jR=function(aC){function oz(aj,C){ai(aC,C);};V['add_'+aC](oz);};var Jv=function(aC){function oz(aj,C){if(yp&&V.FX()){En();}ai(aC,C);};V['add_'+aC](oz);};function En(){var eE,gk,ss;if(nX!==''){ss=document.getElementById(nX);if(ss){eE=cj.vH();gk='{encodedDocumentIdentifier:"'+eE.encodedDocumentIdentifier;gk+='",pageNumber:'+eE.pageNumber.toString();gk+=',viewFitType:'+eE.viewFitType.toString();if(eE.viewRectangle&&eE.viewFitType===IPCC.Web.UI.FitType.Rectangle){gk+=',viewRectangle:{x:'+eE.viewRectangle.x.toFixed(5);gk+=',y:'+eE.viewRectangle.y.toFixed(5);gk+=',width:'+eE.viewRectangle.width.toFixed(5);gk+=',height:'+eE.viewRectangle.height.toFixed(5);gk+='}';}if(eE.viewRotationDegreesClockwise){gk+=',viewRotationDegreesClockwise:'+eE.viewRotationDegreesClockwise.toString();}if(eE.viewMirror){gk+=',viewMirror:'+eE.viewMirror.toString();}if(eE.viewZoomFactor){gk+=',viewZoomFactor:'+eE.viewZoomFactor.toString();}if(yp){var bH=V.dV();if(bH){gk+=',artPageJson:"'+IPCC.gQ.rz(bH.saveToJson())+'"';}}gk+='}';ss.value=gk;}}};var aaO=function(){function oz(aj,C){var zx=true;switch(C.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':En();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Da':case 'vV':zx=false;break;case 'FI':if(V.FX()){En();}zx=false;break;}if(zx){ai('propertyChanged',C);}};V.iT(oz);};this.Xn=function(aI){IPCC.aJ.iY(aI,'type',IPCC.Web.UI.FitType);if(aI===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}oC();ek={aAB:true,viewFitType:aI};RZ();};this.gj=function(){return V.dB()!==undefined;};this.mH=function(){oC();return V.dB().width;};this.mj=function(){oC();return V.dB().height;};this.arF=function(){oC();return V.dB().hf;};this.arT=function(){return V.bF().gh().CV();};this.ass=function(){oC();return V.dB().gC;};this.vO=function(){if(!V|| !(V.dB())){return '';}return V.dB().get_identifier();};this.BP=function(){if(!V|| !(V.dB())){return '';}return V.dB().get_encodedIdentifier();};this.mp=function(){if(!V|| !(V.dB())){return-1;}return V.dB().aM;};this.XY=function(){if(!V|| !(V.dB())){return 0;}return V.dB().eQ;};this.aeA=function(){var aY=V.dB();if(!aY){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var bu=V.eC();bu.x=bu.y=0;var rE=V.bF().gh();rE.xT();var fh=rE.rK(bu);if(fh.x<0){fh.width+=fh.x;fh.x=0;}if(fh.y<0){fh.height+=fh.y;fh.y=0;}if(fh.x+fh.width>aY.width){fh.width=aY.width-fh.x;}if(fh.y+fh.height>aY.height){fh.height=aY.height-fh.y;}return fh;};function AX(){var cY={},dn=V.bF().gh();cY.documentIdentifier=cj.vO();cY.encodedDocumentIdentifier=cj.BP();cY.pageNumber=cj.mp();cY.artPage=cj.dV();cY.referenceDocumentIdentifier=cj.vO();cY.referencePageNumber=cj.mp();cY.viewFitType=IPCC.Web.UI.FitType.Rectangle;cY.viewRectangle=cj.aeA();cY.imGearPage=cj.nn();cY.transientArtPage=cj.kT();var ca=dn.CV();if(ca!==0){cY.viewRotationDegreesClockwise=ca;}if(dn.IH()){cY.viewMirror=true;}return cY;};this.MJ=function(bK,dw){V.MJ(bK,dw);};this.vH=function(){var cY;if(ah){cY=new IPCC.Web.UI.PageViewState();cY.documentIdentifier=ah.documentIdentifier;cY.encodedDocumentIdentifier=ah.encodedDocumentIdentifier;cY.pageNumber=ah.pageNumber;cY.artPage=ah.artPage;cY.artPageJson=ah.artPageJson;cY.referenceDocumentIdentifier=ah.documentIdentifier;cY.referencePageNumber=ah.pageNumber;cY.viewFitType=ah.viewFitType;cY.viewRectangle=ah.viewRectangle;cY.viewRotationDegreesClockwise=ah.viewRotationDegreesClockwise;cY.viewMirror=ah.viewMirror;cY.viewZoomFactor=ah.viewZoomFactor;cY.transientArtPage=ah.transientArtPage;}else{cY=AX();}return cY;};this.NF=function(ac){var bu=V.eC();this.aci(ac,{x:bu.width/2,y:bu.height/2});};this.aci=function(ac,dQ){IPCC.aJ.mE(ac,'factor',1.01,20);IPCC.aJ.ba(dQ,'point');oC();var bw=V.bF();var bg=bw.gh();var bz=V.dB();var kF=bg.uz();if(kF*ac>bz.sq){ac=bz.sq/kF;}bg.yK(ac,ac,dQ.x,dQ.y);bg.ka(bz,V.eC());ek=null;bw.ic(bg);};this.WZ=function(ac){var bu=V.eC();this.acr(ac,{x:bu.width/2,y:bu.height/2});};this.acr=function(ac,dQ){IPCC.aJ.mE(ac,'factor',1.01,20);IPCC.aJ.ba(dQ,'point');oC();var bw=V.bF();var bg=bw.gh();var bz=V.dB();var kF=bg.uz();if(kF/ac<bz.ti){ac=kF/bz.ti;}bg.yK(1/ac,1/ac,dQ.x,dQ.y);bg.ka(bz,V.eC());ek=null;bw.ic(bg);};this.lu=function(ac){var bu=V.eC();this.anz(ac,{x:bu.width/2,y:bu.height/2});};this.anz=function(ac,dQ){IPCC.aJ.ba(dQ,'point');oC();var bw=V.bF();var bg=bw.gh();var bz=V.dB();var kF=bg.uz();if(ac>bz.sq){ac=bz.sq;}else if(ac<bz.ti){ac=bz.ti;}bg.yK(ac/kF,ac/kF,dQ.x,dQ.y);bg.ka(bz,V.eC());ek=null;bw.ic(bg);};this.zo=function(tY){IPCC.aJ.Tn(tY,'degreesClockwise',[90,180,270,-90,-180,-270]);oC();var bw=V.bF();var bg=bw.gh();var bu=V.eC();bg.afg(tY,bu.width/2,bu.height/2);bg.ka(V.dB(),V.eC());ek=null;bw.ic(bg);};this.ahj=function(){oC();var bw=V.bF();var bg=bw.gh();var bu=V.eC();bg.yK(-1,1,bu.width/2,bu.height/2);bg.ka(V.dB(),V.eC());ek=null;bw.ic(bg);};this.anH=function(fh){IPCC.aJ.F(fh,'pageRectangle');oC();var bw=V.bF();var bg=bw.gh();var bu=V.eC();var bz=V.dB();bg.Sj(bz,bu,fh);bg.ka(bz,V.eC());ek=null;bw.ic(bg);};this.apo=function(cD){IPCC.aJ.ba(cD,'imagePoint');oC();var bw=V.bF();var bg=bw.gh();var bu=V.eC();bg.aiK(bu,cD);bg.ka(V.dB(),V.eC());ek=null;bw.ic(bg);};this.acY=function(){oC();ek=null;var bw=V.bF();var bg=bw.gh();var bu=V.eC();bg.yK(1,-1,bu.width/2,bu.height/2);bg.ka(V.dB(),V.eC());ek=null;bw.ic(bg);};this.co=function(){V.co();};var RZ=function(){var bz=V.dB();var bu=V.eC();var bg;if(!ek){bg=V.bF().gh();bg.ka(bz,bu);V.bF().ic(bg);return;}if(ek.aAB){bg=V.bF().gh();}else{bg=new IPCC.eF();bg.aem(bz,bu);if(ek.viewRotationDegreesClockwise){bg.rotate(ek.viewRotationDegreesClockwise);}if(ek.viewMirror){bg.amX(bu);}}if(ek.viewZoomFactor){if(ek.viewZoomFactor>bz.sq){ek.viewZoomFactor=bz.sq;}else if(ek.viewZoomFactor<bz.ti){ek.viewZoomFactor=bz.ti;}ek.viewFitType=IPCC.Web.UI.FitType.ActualSize;bg.Xg(ek.viewFitType,bz,bu);bg.scale(ek.viewZoomFactor,ek.viewZoomFactor);}else{if(!ek.viewFitType&&ek.viewFitType!==0){ek.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ek.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !ek.viewRectangle){ek.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ek.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bg.Xg(ek.viewFitType,bz,bu);}else{bg.Sj(bz,bu,ek.viewRectangle);}}bg.ka(bz,bu);V.bF().ic(bg);};var agF=function(aCK){ek=aCK;NP=0;RZ();};this.ZD=function(dX){var nT=false;if(IPCC.Web.mQ.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mQ.indexOf(dX)>=0){return true;}}else{if(IPCC.Web.hG(IPCC.Web.mQ,dX)>=0){return true;}}}return nT;};this.Eq=function(bj){qM++;var LE=qM;var WL={};Jl=0.0;V.PF=0.0;IPCC.gQ.SO(bj);if(hh(IPCC.Web.UI.DebugErrorLevel.Development)){var aV='opening documentIdentifier "'+bj.documentIdentifier+'", pageNumber '+bj.pageNumber;this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);}ah=new IPCC.Web.UI.PageViewState();var K;for(K in bj){if(bj.hasOwnProperty(K)){ah[K]=bj[K];}}if(bj.documentIdentifier===''){this.yZ();return;}if(IPCC.Web.UI.ArtPage){if(ah){if(!ah.artPage){var bH=new IPCC.Web.UI.ArtPage();if(ah.artPageJson){bH.loadFromJson(ah.artPageJson);}ah.artPage=bH;}if(!ah.documentArtPage){var fJ=new IPCC.Web.UI.ArtPage();ah.documentArtPage=fJ;}if(this.iz()===true){if(!ah.imGearPage){var cB=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bj.documentIdentifier,imageServicePath:this.nu()});ah.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bj.pageNumber,aR:cB});cB.get_pages().addPage(ah.imGearPage);}if(!ah.transientArtPage){ah.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(ah.viewRotationDegreesClockwise){IPCC.aJ.Tn(ah.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(ah.viewFitType){IPCC.aJ.iY(ah.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(ah.viewZoomFactor){IPCC.aJ.mE(ah.viewZoomFactor,'parameters.viewZoomFactor',0,20);}ai('pageOpening',bj);var aY=new IPCC.gQ(bj.encodedDocumentIdentifier,bj.pageNumber,0,0,0,0);var mo=function(){if(LE!==qM){return;}var oG=null;if(V.dB()){oG=AX();}V.bF().pE();V.vF(aY);agF(ah);if(bj.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ah){if(ah.artPage){V.kf(ah.artPage);V.dV().loadFromJson(aY.aiH);}}}else{if(ah){if(ah.artPage){V.kf(ah.artPage);}if(ah.documentArtPage){V.Le(ah.documentArtPage);}if(V.iz()===true){if(ah.imGearPage){var Tc=ah.imGearPage.get_pageWidth();var US=ah.imGearPage.get_pageHeight();ah.imGearPage.hX(cj.dU());if(!Tc){ah.imGearPage.JE(cj.get_pageWidth());}if(!US){ah.imGearPage.LW(cj.get_pageHeight());}V.rw(ah.imGearPage);if(typeof(V.nn().Bj==='function')){if(!V.nn().cf().Ai()){ah.imGearPage.sm(cj.ia());setTimeout(V.nn().Bj,1000);}}}if(ah.transientArtPage){V.tQ(ah.transientArtPage);}}}}ah=null;if(oG){ai('pageClosed',oG);}En();ai('pageOpened',bj);};if(bj.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ah){if(!ah.artPageJson){aY.axO(V.nu(),V,mo,WL);}else{aY.GN(V.nu(),V,mo);}}}else{aY.GN(V.nu(),V,mo);}};this.yZ=function(){qM++;if(!(V.dB())){return;}var oG=AX();V.vF(undefined);V.kf(undefined);V.rw(undefined);V.tQ(undefined);this.co();En();var as;as=cj.ht();if(as.igElements){if(as.igElements.sU){as.igElements.sU.Iq=null;as.igElements.sU.Dz=null;as.igElements.sU.GU=null;as.igElements.sU=null;}as.igElements.DU=null;as.igElements.ig=null;as.igElements.fX=null;as.igElements.pn=null;as.igElements.lW=null;as.igElements.mF=null;as.igElements.sS=null;as.igElements.OY=null;as.igElements.WO=null;}cj=null;as.aH=null;ai('pageClosed',oG);};this.axn=function(bj){qM++;var LE=qM;Jl=0.0;V.PF=0.0;IPCC.gQ.SO(bj);if(hh(IPCC.Web.UI.DebugErrorLevel.Development)){var aV='opening documentIdentifier "'+bj.documentIdentifier+'", pageNumber '+bj.pageNumber;this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);}ah=new IPCC.Web.UI.PageViewState();var K;for(K in bj){if(bj.hasOwnProperty(K)){ah[K]=bj[K];}}if(bj.documentIdentifier===''){this.yZ();return;}if(IPCC.Web.UI.ArtPage){if(ah){if(!ah.artPage){var bH=new IPCC.Web.UI.ArtPage();ah.artPage=bH;}if(!ah.documentArtPage){var fJ=new IPCC.Web.UI.ArtPage();ah.documentArtPage=fJ;}if(this.iz()===true){if(!ah.imGearPage){var cB=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bj.documentIdentifier,imageServicePath:this.nu()});ah.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bj.pageNumber,aR:cB});cB.get_pages().addPage(ah.imGearPage);}if(!ah.transientArtPage){ah.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(ah.viewRotationDegreesClockwise){IPCC.aJ.Tn(ah.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(ah.viewFitType){IPCC.aJ.iY(ah.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(ah.viewZoomFactor){IPCC.aJ.mE(ah.viewZoomFactor,'parameters.viewZoomFactor',0,20);}ai('pageOpening',bj);var aY=new IPCC.gQ(bj.encodedDocumentIdentifier,bj.pageNumber,0,0,0,0);var mo=function(){if(LE!==qM){return;}var oG=null;if(V.dB()){oG=AX();}V.bF().pE();V.vF(aY);agF(ah);if(ah){if(ah.artPage){V.kf(ah.artPage);}if(ah.documentArtPage){V.Le(ah.documentArtPage);}if(V.iz()===true){if(ah.imGearPage){var Tc=ah.imGearPage.get_pageWidth();var US=ah.imGearPage.get_pageHeight();ah.imGearPage.hX(cj.dU());if(!Tc){ah.imGearPage.JE(cj.get_pageWidth());}if(!US){ah.imGearPage.LW(cj.get_pageHeight());}V.rw(ah.imGearPage);if(typeof(V.nn().Bj==='function')){if(!V.nn().cf().Ai()){ah.imGearPage.sm(cj.ia());setTimeout(V.nn().Bj,1000);}}}if(ah.transientArtPage){V.tQ(ah.transientArtPage);}}}ah=null;if(oG){ai('pageClosed',oG);}En();ai('pageOpened',bj);};aY.ayT(V.nu(),V,mo);};this.avu=function(){qM++;if(!(V.dB())){return;}var aY=V.dB();V.vF(undefined);this.co();V.vF(aY);};this.Et=function(zL){V.Et(zL);};this.kf=function(H){V.kf(H);};this.dV=function(){return V.dV();};this.Le=function(H){V.Le(H);};this.PR=function(){return V.PR();};this.kT=function(){return V.kT();};this.tQ=function(H){V.tQ(H);};this.xQ=function(){return V.xQ();};this.ZZ=function(H){V.ZZ(H);};this.uV=function(H){V.uV(H);};this.mN=function(){return V.mN();};this.azL=function(H){ajP=this.apr(H);};this.ip=function(){return ajP;};this.MI=function(H){V.MI(H);};this.Kx=function(){return V.Kx();};this.mI=function(){return V.mI();};this.qZ=function(H){V.qZ(H);};this.xu=function(H){V.xu(H);};this.Kj=function(){return V.Kj();};this.yM=function(BH){V.yM(BH);};this.yL=function(){return V.yL();};this.apr=function(bx){var bA='',My='',Rx=function(by){var tq=0,bA;for(bA in by){if(by.hasOwnProperty(bA)){tq+=1;}}return tq;};for(bA in uT){if(uT.hasOwnProperty(bA)){if(typeof bx[bA]==='undefined'){bx[bA]=uT[bA];}if(typeof bx[bA]==='object'){if(!Rx(bx[bA])){bx[bA]=uT[bA];}else if(Rx(bx[bA])!==Rx(uT[bA])){for(My in uT[bA]){if(typeof bx[bA][My]==='undefined'){bx[bA][My]=uT[bA][My];}}}}}}return bx;};this.anR=function(aqX){if(aqX===false){IPCC.io=false;V.en([new IPCC.oc(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}else{IPCC.io=true;IPCC.aiJ=this.ip();V.en([new IPCC.oc(),new IPCC.fg(),new IPCC.hg(),new IPCC.cQ(),new IPCC.df(false)]);}};this.pE=function(){var bw=V.bF();if(!bw.AP()){return;}V.bF().pE();};this.aod=function(fh){IPCC.aJ.F(fh,'pageRectangle');var aY=V.dB();if(aY){V.bF().showSelection(fh);}};this.Fy=function(cD){IPCC.aJ.ba(cD,'imagePoint');if(V.dB()){V.bF().Fy(new IPCC.Web.UI.Point(cD.x,cD.y));}};this.BJ=function(cD){IPCC.aJ.ba(cD,'imagePoint');if(V.dB()){V.bF().BJ(new IPCC.Web.UI.Point(cD.x,cD.y));}};this.yj=function(){if(V.dB()&&V.bF().AP()){return V.bF().yj();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.asM=function(){if(V.dB()&&V.bF().AP()){var fh=V.bF().yj();return V.bF().gh().rK(fh);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.AP=function(){return! !(V.dB()&&V.bF().AP());};this.nu=function(){return V.nu();};this.GC=function(H){IPCC.aJ.ii(H,'value');V.GC(H);if(!IPCC.Web.tW){if(IPCC.Web.wN===false){IPCC.Web.MH(H);}}};this.Jw=function(){return nX;};this.Kt=function(H){IPCC.aJ.ii(H,'value');nX=H;};this.Sy=function(){return yp;};this.Xs=function(H){yp=H;};var nz='';this.qv=function(H){V.qv(H);nz=H;};this.ht=function(){return nz;};this.auN=function(){return V.bF().get_magnifierMagnification();};this.ane=function(H){IPCC.aJ.mE(H,'value',1.5,8);V.bF().set_magnifierMagnification(H);};this.asB=function(){return V.bF().vk().width;};this.amU=function(H){IPCC.aJ.mE(H,'value',25,500);var tq=V.bF().vk();tq.width=H;V.bF().set_magnifierWindowSize(tq);};this.aua=function(){return V.bF().vk().height;};this.alM=function(H){IPCC.aJ.mE(H,'value',25,500);var tq=V.bF().vk();tq.height=H;V.bF().set_magnifierWindowSize(tq);};this.QH=function(){return V.bF().QH();};this.Yt=function(H){IPCC.aJ.mE(H,'value',-500,500);V.bF().Yt(H);};this.QI=function(){return V.bF().QI();};this.Xw=function(H){IPCC.aJ.mE(H,'value',-500,500);V.bF().Xw(H);};this.SM=function(){return V.bF().SM();};this.WR=function(H){IPCC.aJ.mE(H,'value',0.1,0.5);V.bF().WR(H);};this.zp=function(){return V.bF().zp();};this.Mv=function(H){V.bF().Mv(H);};this.raisePropertyChanged=function(dP,xD){if(V){V.aA(dP,xD);}};var dz= -1;this.VU=function(){return dz;};this.aEo=function(H){V.us=H;};this.Mg=function(H){IPCC.aJ.iY(H,'value',IPCC.Web.UI.MouseTool);if(dz!==H){dz=H;var hU="None";switch(dz){case IPCC.Web.UI.MouseTool.None:V.en([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.io===true){V.en([new IPCC.ve(),new IPCC.fg(),new IPCC.hg(false,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ve(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);hU="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.io===true){V.en([new IPCC.oc(),new IPCC.fg(),new IPCC.hg(false,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.oc(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.io===true){V.en([new IPCC.sK(),new IPCC.fg(),new IPCC.hg(false,this.ip()),new IPCC.cQ(),new IPCC.df(true)]);}else{V.en([new IPCC.sK(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(true)]);}hU="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.io===true){V.en([new IPCC.rS(),new IPCC.fg(),new IPCC.hg(false,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.rS(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.io===true){V.en([new IPCC.ez(IPCC.Web.UI.MarkType.Rectangle),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ez(IPCC.Web.UI.MarkType.Rectangle),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.io===true){V.en([new IPCC.ez(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ez(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.io===true){V.en([new IPCC.ez(IPCC.Web.UI.MarkType.Ellipse),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ez(IPCC.Web.UI.MarkType.Ellipse),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.io===true){V.en([new IPCC.qF(),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.qF(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.io===true){V.en([new IPCC.lP(IPCC.Web.UI.MarkType.Polyline),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.lP(IPCC.Web.UI.MarkType.Polyline),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.io===true){V.en([new IPCC.nZ(),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.nZ(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.io===true){V.en([new IPCC.lP(IPCC.Web.UI.MarkType.Polygon),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.lP(IPCC.Web.UI.MarkType.Polygon),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.io===true){V.en([new IPCC.ez(IPCC.Web.UI.MarkType.Text),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ez(IPCC.Web.UI.MarkType.Text),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.io===true){V.en([new IPCC.ez(IPCC.Web.UI.MarkType.TextLine),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ez(IPCC.Web.UI.MarkType.TextLine),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.io===true){V.en([new IPCC.nK(IPCC.Web.UI.MarkType.Text),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.nK(IPCC.Web.UI.MarkType.Text),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.io===true){V.en([new IPCC.Jx(IPCC.Web.UI.MarkType.Text),new IPCC.fg(),new IPCC.hg(false,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.Jx(IPCC.Web.UI.MarkType.Text),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.io===true){V.en([new IPCC.ez(IPCC.Web.UI.MarkType.Stamp),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ez(IPCC.Web.UI.MarkType.Stamp),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.io===true){V.en([new IPCC.ez(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ez(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.io===true){V.en([new IPCC.ez(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.fg(),new IPCC.hg(true,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.ez(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:V.Il=true;if(IPCC.io===true){V.en([new IPCC.nJ(),new IPCC.fg(),new IPCC.hg(false,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.nJ(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:V.Il=false;if(IPCC.io===true){V.en([new IPCC.nJ(),new IPCC.fg(),new IPCC.hg(false,this.ip()),new IPCC.cQ(),new IPCC.df(false)]);}else{V.en([new IPCC.nJ(),new IPCC.fg(),new IPCC.cQ(),new IPCC.df(false)]);}hU="SelectText";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:hU});}};this.IY=function(aqu){dz= -1;V.en(aqu);};this.ati=function(){return V.bF().get_presentationQuality();};this.aot=function(H){IPCC.aJ.mE(H,'value',0,100);V.bF().set_presentationQuality(H);};this.asu=function(){return V.bF().get_scrollBars();};this.apT=function(H){IPCC.aJ.iY(H,'value',IPCC.Web.UI.ScrollBars);V.bF().set_scrollBars(H);};this.aoq=function(cD,aqo){IPCC.aJ.ba(cD,'imagePoint');if(!(V.dB())){return new IPCC.Web.UI.Point(0,0);}var dQ=V.bF().gh().transform(cD);if(aqo){dQ.constrain(V.eC());}return dQ;};this.Jm=function(dQ,aqp){IPCC.aJ.ba(dQ,'windowPoint');var aY=V.dB();if(!aY){return new IPCC.Web.UI.Point(0,0);}var rE=V.bF().gh();rE.xT();var cD=rE.transform(dQ);if(aqp){cD.constrain(aY);}return cD;};function Va(){var as;as=cj.ht();var agq=as.clientWidth;var akL=as.clientHeight;var azG=(ek&&ek.viewFitType===afe&&agq===aef&&akL===aep);if(azG){if(NP>2){return;}NP++;}else{afe=ek?ek.viewFitType: -1;aef=agq;aep=akL;NP=0;}RZ();};function awU(){ek=null;};function atm(aj,C){switch(C.fA){case IPCC.ef.adk:cj.aci(1.25,C.VD.windowPoint);break;case IPCC.ef.acc:cj.acr(1.25,C.VD.windowPoint);break;case IPCC.ef.ZQ:cj.zo(C.H);break;case IPCC.ef.acA:cj.acY();break;case IPCC.ef.age:cj.ahj();break;case IPCC.ef.ado:cj.Xn(C.H);break;case IPCC.ef.aeM:cj.Mg(C.H);break;}};this.iz=function(){return V.iz();};this.yW=function(H){V.yW(H);};this.cf=function(){return V.cf();};this.nn=function(){return V.nn();};this.rw=function(H){V.rw(H);};this.nY=function(){return V.get_requireRequestsOptimize();};this.sJ=function(H){V.sJ(H);};this.ia=function(){return V.ia();};this.sm=function(H){V.sm(H);};this.JL=function(cD){IPCC.aJ.ba(cD,'imagePoint');return V.JL(cD);};this.Ad=function(cb){V.Ad(cb);};this.Ra=function(){V.Ra();};this.OB=function(wo,dw){var Mu=V.cf().fE().eI();IPCC.aJ.nQ(wo,'wo',0,Mu-1);V.OB(wo,dw);};this.vB=function(cb){if(cb===undefined){V.bF().vB(cb);return false;}var Mu=V.cf().fE().eI();IPCC.aJ.nQ(cb,'textIndex',0,Mu-1);V.vB(cb);return true;};this.IK=function(){return! !(V.dB()&&V.iz()&&V.cf().nr()===true&&V.bF().IK());};this.UB=function(){var bw=V.bF();bw.UB();};this.RE=function(){if(V.iz()&&V.cf().nr()===true){return Math.min(V.bF().acZ(),V.bF().Gg());}};this.Ea=function(){if(V.iz()&&V.cf().nr()===true){return V.bF().Ea();}};this.Ci=function(){if(V.iz()&&V.cf().nr()===true&&V.bF().IK()){return V.Ci();}else{return "";}};this.Gg=function(){return V.bF().Gg();};this.asT=function(){return V.bF().get_cursor();};this.aAH=function(H){V.bF().set_cursor(H);};this.zf=function(){return V.zf();};this.XR=function(H){V.XR(H);};this.dU=function(){return V.dU();};this.hX=function(H){V.hX(H);};this.aCs=function(){V.bF().hideMagnifier();};this.apl=function(dQ){V.bF().showMagnifier(dQ);};this.zg=function(O){if(V.kg().igElements){V.zg(O);V.co();}};this.pz=function(){if(V.kg().igElements){V.pz(true);}};function awX(aj,C){var xW=C.scaleFactor;var aq={scaleType:"scaledDown",pageNumber:C.pageNumber};if(Jl!==xW){if(xW>Jl){aq.scaleType="scaledUp";}Jl=xW;ai('scaleChanged',aq);}};this.initialize=function(){V.adB(this.ht().id);V.qv(this.ht().id);if(dz=== -1){this.Mg(IPCC.Web.UI.MouseTool.RectangleZoom);}jR('mouseDown');jR('mouseMove');jR('mouseUp');jR('contextMenu');jR('markCreating');jR('pageOpenFailed');jR('textPageReady');jR('pageDisplayed');jR('exceptionThrown');jR('selectTextMouseToolCompleted');Jv('markAdded');Jv('markChanged');Jv('markRemoved');jR('textExtractionFailed');Jv('markReordered');Jv('marksLoaded');jR('markSelectionChanged');aaO();V.ahQ(Va);V.awi(awU);V.avR(atm);V.add_scaleChanged(awX);V.ags();var as=this.ht();as.aH=this;};qg=(qg!==false);V=new IPCC.afT(qg);V.adf('PageView');};IPCC.Web.UI.PageView.prototype={dispose:function(){this.bS('dispose',arguments);this.yZ();},get_debug:function(){try{var R=this.sI();this.aZ('get_debug',arguments,R);return R;}catch(e){this.T('get_debug',e);throw e;}},set_debug:function(value){try{this.bS('set_debug',arguments);var mr=this.sI();this.BQ(value);if(!mr){this.bS('set_debug',arguments);}}catch(e){this.T('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var R=this.or();this.aZ('get_debugErrorLevel',arguments,R);return R;}catch(e){this.T('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bS('set_debugErrorLevel',arguments);var mr=this.or();this.rC(value);if(mr<IPCC.Web.UI.DebugErrorLevel.Development){this.bS('set_debugErrorLevel',arguments);}}catch(e){this.T('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var R=this.yL();this.aZ('get_artServiceOption',arguments,R);return R;}catch(e){this.T('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bS('set_artServiceOption',arguments);this.yM(value);}catch(e){this.T('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.Hq(handler);}catch(e){this.T('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.IU(handler);}catch(e){this.T('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.HL(handler);}catch(e){this.T('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Jq(handler);}catch(e){this.T('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.abO(handler);}catch(e){this.T('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.Vv(handler);}catch(e){this.T('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Cy(handler);}catch(e){this.T('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.zJ(handler);}catch(e){this.T('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Ih(handler);}catch(e){this.T('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Ki(handler);}catch(e){this.T('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.zE(handler);}catch(e){this.T('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Fj(handler);}catch(e){this.T('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.GG(handler);}catch(e){this.T('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.GI(handler);}catch(e){this.T('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Ac(handler);}catch(e){this.T('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.FY(handler);}catch(e){this.T('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.YB(handler);}catch(e){this.T('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.Vu(handler);}catch(e){this.T('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.Af(handler);}catch(e){this.T('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.yU(handler);}catch(e){this.T('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Yk(handler);}catch(e){this.T('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.XG(handler);}catch(e){this.T('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.CL(handler);}catch(e){this.T('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Fo(handler);}catch(e){this.T('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.za(handler);}catch(e){this.T('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.ye(handler);}catch(e){this.T('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Co(handler);}catch(e){this.T('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gk(handler);}catch(e){this.T('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Oz(handler);}catch(e){this.T('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.OA(handler);}catch(e){this.T('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.BZ(handler);}catch(e){this.T('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Fw(handler);}catch(e){this.T('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.abj(handler);}catch(e){this.T('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Vw(handler);}catch(e){this.T('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.wF(handler);}catch(e){this.T('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.yf(handler);}catch(e){this.T('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.YL(handler);},remove_exceptionThrown:function(handler){this.Uu(handler);},add_scaleChanged:function(handler){try{this.abq(handler);}catch(e){this.T('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.VT(handler);}catch(e){this.T('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.iT(handler);}catch(e){this.T('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.kA(handler);}catch(e){this.T('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.Bb(handler);},remove_textExtractionFailed:function(handler){this.FR(handler);},writeToLog:function(message){try{this.iS(message);}catch(e){this.T('writeToLog',e);throw e;}},fitPage:function(type){try{this.bS('fitPage',arguments);this.Xn(type);}catch(e){this.T('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var R=this.gj();this.aZ('get_pageIsOpen',arguments,R);return R;}catch(e){this.T('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var R=this.mH();this.aZ('get_pageWidth',arguments,R);return R;}catch(e){this.T('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var R=this.mj();this.aZ('get_pageHeight',arguments,R);return R;}catch(e){this.T('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var R=this.arF();this.aZ('get_pageXResolution',arguments,R);return R;}catch(e){this.T('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var R=this.ass();this.aZ('get_pageYResolution',arguments,R);return R;}catch(e){this.T('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var R=this.vO();this.aZ('get_documentIdentifier',arguments,R);return R;}catch(e){this.T('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var R=this.BP();this.aZ('get_encodedDocumentIdentifier',arguments,R);return R;}catch(e){this.T('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var R=this.mp();this.aZ('get_pageNumber',arguments,R);return R;}catch(e){this.T('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var R=this.XY();this.aZ('get_documentPageCount',arguments,R);return R;}catch(e){this.T('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var R=this.aeA();this.aZ('get_displayedPageRectangle',arguments,R);return R;}catch(e){this.T('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var R=this.vH();this.aZ('get_currentState',arguments,R);return R;}catch(e){this.T('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.bS('zoomIn',arguments);this.NF(factor);}catch(e){this.T('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bS('zoomOut',arguments);this.WZ(factor);}catch(e){this.T('zoomOut',e);throw e;}},zoom:function(factor){try{this.bS('zoom',arguments);this.lu(factor);}catch(e){this.T('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.bS('rotate',arguments);this.zo(degreesClockwise);}catch(e){this.T('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.bS('showPageRectangle',arguments,1);this.anH(imageRectangle);}catch(e){this.T('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.bS('showPagePointAtCenter',arguments,1);this.apo(imagePoint);}catch(e){this.T('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.bS('mirror',arguments);this.ahj();}catch(e){this.T('mirror',e);throw e;}},flip:function(){try{this.bS('flip',arguments);this.acY();}catch(e){this.T('flip',e);throw e;}},display:function(){try{this.bS('display',arguments);this.co();}catch(e){this.T('display',e);throw e;}},openPage:function(parameters){try{this.bS('openPage',arguments,1);this.Eq(parameters);}catch(e){this.T('openPage',e);throw e;}},closePage:function(){try{this.bS('closePage',arguments);this.yZ();}catch(e){this.T('closePage',e);throw e;}},hideSelection:function(){try{this.bS('hideSelection',arguments);this.pE();}catch(e){this.T('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.bS('showSelection',arguments);this.aod(imageRectangle);}catch(e){this.T('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.bS('showEmptySelection',arguments);this.Fy(imagePoint);}catch(e){this.T('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.bS('extendSelection',arguments);this.BJ(imagePoint);}catch(e){this.T('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.bS('saveArtPage',arguments);this.Et(onSave);}catch(e){this.T('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var R=this.yj();this.aZ('get_selectionPageRectangle',arguments,R);return R;}catch(e){this.T('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var R=this.asM();this.aZ('get_selectionWindowRectangle',arguments,R);return R;}catch(e){this.T('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var R=this.AP();this.aZ('get_selectionIsVisible',arguments,R);return R;}catch(e){this.T('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var R=this.Jw();this.aZ('get_controlStateElementId',arguments,R);return R;}catch(e){this.T('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bS('set_controlStateElementId',arguments);this.Kt(value);}catch(e){this.T('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var R=this.Sy();this.aZ('get_includeArtInPostBack',arguments,R);return R;}catch(e){this.T('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bS('set_includeArtInPostBack',arguments);this.Xs(value);}catch(e){this.T('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var R=this.dV();this.aZ('get_artPage',arguments,R);return R;}catch(e){this.T('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bS('set_artPage',arguments);this.kf(value);}catch(e){this.T('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var R=this.PR();this.aZ('get_documentArtPage',arguments,R);return R;}catch(e){this.T('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.bS('set_documentArtPage',arguments);this.Le(value);}catch(e){this.T('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var R=this.kT();this.aZ('get_transientArtPage',arguments,R);return R;}catch(e){this.T('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bS('set_transientArtPage',arguments);this.tQ(value);}catch(e){this.T('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var R=this.nu();this.aZ('get_imageHandlerUrl',arguments,R);return R;}catch(e){this.T('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bS('set_imageHandlerUrl',arguments);this.GC(value);}catch(e){this.T('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var R=this.mN();this.aZ('get_resourcePath',arguments,R);return R;}catch(e){this.T('get_resourcePath',e);throw e;}},set_resourcePath:function(H){try{this.bS('set_resourcePath',arguments);this.uV(H);}catch(e){this.T('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var R=this.ip();this.aZ('get_contextMenuLanguageDictionary',arguments,R);return R;}catch(e){this.T('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(H){try{this.bS('set_contextMenuLanguageDictionary',arguments);this.azL(H);}catch(e){this.T('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var R=this.iz();this.aZ('get_textRequired',arguments,R);return R;}catch(e){this.T('get_textRequired',e);throw e;}},set_textRequired:function(H){try{this.bS('set_textRequired',arguments);this.yW(H);}catch(e){this.T('set_textRequired',e);throw e;}},get_textPage:function(){try{var R=this.cf();this.aZ('get_textPage',arguments,R);return R;}catch(e){this.T('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var R=this.IK();this.wg('textSelectionIsVisible',arguments,R,1);return R;}catch(e){this.T('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var R=this.Ci();this.wg('getSelectedText',arguments,R,1);return R;}catch(e){this.T('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var R=this.nY();this.aZ('get_requireRequestsOptimize',arguments,R);return R;}catch(e){this.T('nY',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bS('set_requireRequestsOptimize',arguments);this.sJ(value);}catch(e){this.T('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var R=this.auN();this.aZ('get_magnifierMagnification',arguments,R);return R;}catch(e){this.T('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.bS('set_magnifierMagnification',arguments);this.ane(value);}catch(e){this.T('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var R=this.asB();this.aZ('get_magnifierWidth',arguments,R);return R;}catch(e){this.T('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.bS('set_magnifierWidth',arguments);this.amU(value);}catch(e){this.T('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var R=this.aua();this.aZ('get_magnifierHeight',arguments,R);return R;}catch(e){this.T('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.bS('set_magnifierHeight',arguments);this.alM(value);}catch(e){this.T('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var R=this.QH();this.aZ('get_magnifierXOffset',arguments,R);return R;}catch(e){this.T('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.bS('set_magnifierXOffset',arguments);this.Yt(value);}catch(e){this.T('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var R=this.QI();this.aZ('get_magnifierYOffset',arguments,R);return R;}catch(e){this.T('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.bS('set_magnifierYOffset',arguments);this.Xw(value);}catch(e){this.T('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.bS('showMagnifier',arguments,1);this.apl(windowPoint);}catch(e){this.T('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.bS('hideMagnifier',arguments);this.aCs();}catch(e){this.T('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var R=this.SM();this.aZ('get_markHandleSize',arguments,R);return R;}catch(e){this.T('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.bS('set_markHandleSize',arguments);this.WR(value);}catch(e){this.T('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var R=this.zp();this.aZ('get_markHandleMode',arguments,R);return R;}catch(e){this.T('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.bS('set_markHandleMode',arguments);this.Mv(value);}catch(e){this.T('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var R=this.VU();this.aZ('get_mouseTool',arguments,R);return R;}catch(e){this.T('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bS('set_mouseTool',arguments);this.Mg(value);}catch(e){this.T('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var R=this.ati();this.aZ('get_presentationQuality',arguments,R);return R;}catch(e){this.T('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.bS('set_presentationQuality',arguments);this.aot(value);}catch(e){this.T('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var R=this.asu();this.aZ('get_scrollBars',arguments,R);return R;}catch(e){this.T('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.bS('set_scrollBars',arguments);this.apT(value);}catch(e){this.T('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var R=this.nn();this.aZ('get_imGearPage',arguments,R);return R;}catch(e){this.T('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bS('set_imGearPage',arguments);this.rw(value);}catch(e){this.T('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var R=this.ia();this.aZ('get_serviceResponseTimeout',arguments,R);return R;}catch(e){this.T('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bS('set_serviceResponseTimeout',arguments);this.sm(value);}catch(e){this.T('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var R=this.Gg();this.aZ('get_currentTextIndex',arguments,R);return R;}catch(e){this.T('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var R=this.asT();this.aZ('get_cursor',arguments,R);return R;}catch(e){this.T('get_cursor',e);throw e;}},set_cursor:function(value){try{this.bS('set_cursor',arguments);this.aAH(value);}catch(e){this.T('set_cursor',e);throw e;}},get_encryption:function(){try{var R=this.dU();this.aZ('get_encryption',arguments,R);return R;}catch(e){this.T('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bS('set_encryption',arguments);this.hX(value);}catch(e){this.T('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var R=this.aoq(imagePoint,constrainResultToWindow);this.wg('transformPagePointToWindow',arguments,R,1);return R;}catch(e){this.T('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var R=this.Jm(windowPoint,constrainResultToImage);this.wg('transformWindowPointToPage',arguments,R,1);return R;}catch(e){this.T('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var R=this.JL(pagePoint);this.wg('transformPagePointToTextIndex',arguments,R,1);return R;}catch(e){this.T('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.bS('removeAllHighlights',arguments);this.Ra();}catch(e){this.T('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.bS('showTextSelection',arguments);this.OB(indexOfFirstCharacter,length);}catch(e){this.T('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.bS('showEmptyTextSelection',arguments);this.Ad(textIndex);}catch(e){this.T('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.bS('extendTextSelection',arguments);this.vB(textIndex);}catch(e){this.T('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.bS('initializeViewControllers',arguments);this.anR(showArtContextMenu);}catch(e){this.T('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var R=this.zf();this.aZ('get_autoUpdate',arguments,R);return R;}catch(e){this.T('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.bS('set_autoUpdate',arguments);this.XR(value);}catch(e){this.T('set_autoUpdate',e);throw e;}}};IPCC.Web.UI.PageView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageView.registerClass('IPCC.Web.UI.PageView',IPCC.Sys.UI.Control);IPCC.Web.UI.ThumbnailView=function(element){var cj=this;var ah;var V;var qM=0;var nX='';var yp=false;var KE='';var sX=null;var qN=null;var Nd=null;var nF=false;var bP=new IPCC.Web.UI.gK();function hh(yT){if(!V){return false;}return V.hh(yT);};this.T=function(fi,gW){if(hh(IPCC.Web.UI.DebugErrorLevel.Production)){V.logException(fi,gW);}};this.bS=function(fi,eU,it){if(!hh(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],(it?it:0));}aV+=')';this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);};this.wg=function(fi,eU,jy,it){if(!hh(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],(it?it:0));}aV+=') = ';aV+=IPCC.ei.hW(jy,1);this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);};this.aZ=function(fi,eU,jy){if(!hh(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],0);}aV+=') = ';aV+=IPCC.ei.hW(jy,1);this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.nl=function(hm,aD){if(V){V.iS(hm,IPCC.Web.UI.DebugItemCause.FunctionCall,aD);}};this.iS=function(hm){if(V){V.iS(hm,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.sI=function(){return V.get_debug();};this.BQ=function(H){V.set_debug(H);};this.or=function(){return V.or();};this.rC=function(H){IPCC.aJ.iY(H,'value',IPCC.Web.UI.DebugErrorLevel);V.rC(H);};function dv(aC,L){bP.addHandler(aC,L);};function cu(aC,L){bP.removeHandler(aC,L);};this.Hq=function(L){dv('pageOpening',L);};this.IU=function(L){cu('pageOpening',L);};this.HL=function(L){dv('pageOpened',L);};this.Jq=function(L){cu('pageOpened',L);};this.abO=function(L){dv('pageClosed',L);};this.Cy=function(L){dv('pageOpenFailed',L);};this.zJ=function(L){cu('pageOpenFailed',L);};this.Ih=function(L){dv('pageDisplayed',L);};this.Ki=function(L){cu('pageDisplayed',L);};this.Vv=function(L){cu('pageClosed',L);};this.zE=function(L){dv('mouseDown',L);};this.Fj=function(L){cu('mouseDown',L);};this.GG=function(L){dv('mouseMove',L);};this.GI=function(L){cu('mouseMove',L);};this.Ac=function(L){dv('mouseUp',L);};this.FY=function(L){cu('mouseUp',L);};this.YB=function(L){dv('contextMenu',L);};this.Vu=function(L){cu('contextMenu',L);};this.Af=function(L){dv('markAdded',L);};this.yU=function(L){cu('markAdded',L);};this.CL=function(L){dv('markChanged',L);};this.Fo=function(L){cu('markChanged',L);};this.za=function(L){dv('markRemoved',L);};this.ye=function(L){cu('markRemoved',L);};this.Co=function(L){dv('markReordered',L);};this.Gk=function(L){cu('markReordered',L);};this.Oz=function(L){dv('marksLoaded',L);};this.OA=function(L){cu('marksLoaded',L);};this.awg=function(L){dv('marksSaved',L);};this.azl=function(L){cu('marksSaved',L);};this.BZ=function(L){dv('markSelectionChanged',L);};this.Fw=function(L){cu('markSelectionChanged',L);};this.wF=function(L){dv('textPageReady',L);};this.yf=function(L){cu('textPageReady',L);};this.nY=function(){return V.get_requireRequestsOptimize();};this.sJ=function(H){V.sJ(H);};this.raisePropertyChanged=function(dP){if(V){V.aA(dP);}};var ai=function(aC,C){try{var L;L=bP.getHandler(aC);if(L){L(cj,C);}}catch(e){cj.T(aC+'Event',e);}};var jR=function(aC){function oz(aj,C){ai(aC,C);};V['add_'+aC](oz);};var Mw=function(aC){function oz(aj,C){if(V.FX()){pL();}};V['add_'+aC](oz);};function pL(){var ss,eE,gk;if(nX!==''){ss=document.getElementById(nX);if(ss){eE=cj.vH();gk='{encodedDocumentIdentifier:"'+eE.encodedDocumentIdentifier;gk+='",pageNumber:'+eE.pageNumber.toString();gk+=',selected:'+nF.toString();if(yp){var bH=V.dV();if(bH){gk+=',artPageJson:"'+IPCC.gQ.rz(bH.saveToJson())+'"';}}gk+='}';ss.value=gk;}}};var aaO=function(){function oz(aj,C){var zx=true;switch(C.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':pL();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Da':case 'vV':zx=false;break;case 'FI':if(V.FX()){pL();}zx=false;break;}if(zx){ai('propertyChanged',C);}};V.iT(oz);};this.vO=function(){if(!V|| !(V.dB())){return '';}return V.dB().get_identifier();};this.BP=function(){if(!V|| !(V.dB())){return '';}return V.dB().get_encodedIdentifier();};this.mp=function(){if(!V|| !(V.dB())){return-1;}return V.dB().aM;};this.XY=function(){if(!V|| !(V.dB())){return 0;}return V.dB().eQ;};this.mH=function(){if(!V|| !(V.dB())){return 0;}return V.dB().width;};this.mj=function(){if(!V|| !(V.dB())){return 0;}return V.dB().height;};function AX(){var cY={};cY.documentIdentifier=cj.vO();cY.encodedDocumentIdentifier=cj.BP();cY.pageNumber=cj.mp();cY.referenceDocumentIdentifier=cj.vO();cY.referencePageNumber=cj.mp();cY.selected=cj.RI();cY.artPage=cj.dV();cY.imGearPage=cj.nn();cY.transientArtPage=cj.kT();return cY;};this.vH=function(){var cY;if(ah){cY=new IPCC.Web.UI.ThumbnailViewState();cY.documentIdentifier=ah.documentIdentifier;cY.encodedDocumentIdentifier=ah.encodedDocumentIdentifier;cY.pageNumber=ah.pageNumber;cY.referenceDocumentIdentifier=ah.documentIdentifier;cY.referencePageNumber=ah.pageNumber;cY.selected=ah.selected;cY.artPage=ah.artPage;cY.imGearPage=ah.imGearPage;cY.transientArtPage=ah.transientArtPage;}else{cY=AX();}return cY;};this.asI=function(){return qN;};this.aos=function(value){qN=value;};var Uy=function(){var bw=V.bF();var bz=V.dB();var bu=V.eC();var bg=bw.gh();bg.aem(bz,bu);bg.ajt(bz,bu);bg.ka(bz,bu);bw.ic(bg);};this.co=function(){V.co();};function ajL(){if(Nd){Nd.remove_pageOpened(akq);Nd=null;}};function akq(sender,eventArgs){var ah=cj.vH();if(eventArgs.documentIdentifier!==ah.documentIdentifier||eventArgs.pageNumber!==ah.pageNumber){ajL();cj.LQ(false);}};function agy(){if(!KE){return;}if(!sX){sX=document.getElementById(KE).aH;}if(sX){var aBP=cj.get_imGearPage();if(aBP){sX.set_imGearPage(cj.get_imGearPage());}}if(!sX){return;}ajL();sX.add_pageOpened(akq);Nd=sX;var ah=cj.vH();if(ah.encodedDocumentIdentifier!==''){sX.openPage({encodedDocumentIdentifier:ah.encodedDocumentIdentifier,pageNumber:ah.pageNumber,viewFitType:qN.viewFitType,viewRotationDegreesClockwise:qN.viewRotationDegreesClockwise,viewZoomFactor:qN.viewZoomFactor,artPage:ah.artPage,imGearPage:cj.nn()});}};this.ZD=function(dX){var nT=false;if(IPCC.Web.mQ.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mQ.indexOf(dX)>=0){return true;}}else{if(IPCC.Web.hG(IPCC.Web.mQ,dX)>=0){return true;}}}return nT;};this.Eq=function(bj){qM++;var LE=qM;var WL;IPCC.gQ.SO(bj);ah=new IPCC.Web.UI.ThumbnailViewState();var K;for(K in bj){if(bj.hasOwnProperty(K)){ah[K]=bj[K];}}if(bj.documentIdentifier===''){this.yZ();return;}if(IPCC.Web.UI.ArtPage){if(ah){if(!ah.artPage){var bH=new IPCC.Web.UI.ArtPage();if(ah.artPageJson){bH.loadFromJson(ah.artPageJson);}ah.artPage=bH;}if(this.iz()===true){if(!ah.imGearPage){var cB=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bj.documentIdentifier,imageServicePath:this.nu()});cB.hX(cj.dU());ah.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bj.pageNumber,aR:cB});ah.imGearPage.hX(cj.dU());cB.get_pages().addPage(ah.imGearPage);}if(!ah.transientArtPage){ah.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}ai('pageOpening',bj);if(nF){agy();}var aY=new IPCC.gQ(bj.encodedDocumentIdentifier,bj.pageNumber,0,0,0,0);function ave(){Uy();if(bj.selected!==undefined){cj.set_selected(bj.selected);}ah=null;};var mo=function(){if(LE!==qM){return;}var oG=null;if(V.dB()){oG=AX();}V.vF(aY);if(bj.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ah){if(ah.artPage){V.kf(ah.artPage);V.dV().loadFromJson(aY.aiH);}}}else{if(ah){if(ah.artPage){V.kf(ah.artPage);}if(V.iz()===true){if(ah.imGearPage){V.rw(ah.imGearPage);}if(ah.transientArtPage){V.tQ(ah.transientArtPage);}}}}ave();pL();if(oG){ai('pageClosed',oG);}pL();ai('pageOpened',bj);};if(bj.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ah){if(!ah.artPageJson){aY.axO(V.nu(),V,mo,WL);}else{aY.GN(V.nu(),V,mo);}}}else{aY.GN(V.nu(),V,mo);}};this.yZ=function(){ah=null;V.vF(undefined);cj.co();pL();ai('pageClosed',{});};this.Et=function(zL){V.Et(zL);};this.kf=function(H){V.kf(H);};this.dV=function(){return V.dV();};this.kT=function(){return V.kT();};this.tQ=function(H){V.tQ(H);};this.xQ=function(){return V.xQ();};this.ZZ=function(H){V.ZZ(H);};this.uV=function(H){V.uV(H);};this.mN=function(){return V.mN();};this.MJ=function(bK,dw){V.MJ(bK,dw);};this.yM=function(BH){V.yM(BH);};this.yL=function(){return V.yL();};this.RI=function(){return nF;};this.LQ=function(H){if(nF!==H){nF=H;pL();if(nF){agy();}this.raisePropertyChanged('selected');}};this.nu=function(){return V.nu();};this.GC=function(H){IPCC.aJ.ii(H,'value');V.GC(H);if(!IPCC.Web.tW){if(IPCC.Web.wN===false){IPCC.Web.MH(H);}}};this.Jw=function(){return nX;};this.Kt=function(H){IPCC.aJ.ii(H,'value');nX=H;};this.Sy=function(){return yp;};this.Xs=function(H){yp=H;};this.arK=function(){return KE;};this.anA=function(H){if(KE!==H){KE=H;sX=null;this.raisePropertyChanged('pageViewClientID');}};this.MI=function(H){V.MI(H);};this.Kx=function(){return V.Kx();};this.xu=function(H){V.xu(H);};this.Kj=function(){return V.Kj();};var nz='';this.qv=function(H){V.qv(H);nz=H;};this.ht=function(){return nz;};function Va(){Uy();};this.iz=function(){return V.iz();};this.yW=function(H){V.yW(H);};this.cf=function(){return V.cf();};this.nn=function(){return V.nn();};this.rw=function(H){V.rw(H);};this.ia=function(){return V.ia();};this.sm=function(H){V.sm(H);};this.dU=function(){return V.dU();};this.hX=function(H){V.hX(H);};this.initialize=function(){var as;V.adB(this.ht().id);as=this.ht();as.aH=this;var K;for(K=as.childNodes.length-1;K>=0;K--){if(as.childNodes[K].tagName!=='INPUT'){as.removeChild(as.childNodes[K]);}}V.ags();V.bF().set_cursor(IPCC.an.None);V.bF().set_scrollBars(IPCC.Web.UI.ScrollBars.None);V.bF().set_presentationQuality(100);jR('mouseDown');jR('mouseMove');jR('mouseUp');jR('pageOpenFailed');jR('contextMenu');jR('textPageReady');jR('pageDisplayed');Mw('markAdded');Mw('markChanged');Mw('markRemoved');Mw('markReordered');Mw('marksLoaded');aaO();V.ahQ(Va);as.aH=this;};V=new IPCC.afT();V.adf('ThumbnailView');};IPCC.Web.UI.ThumbnailView.prototype={dispose:function(){this.bS('dispose',arguments);this.yZ();},get_debug:function(){try{var R=this.sI();this.aZ('get_debug',arguments,R);return R;}catch(e){this.T('get_debug',e);throw e;}},set_debug:function(value){try{this.bS('set_debug',arguments);var mr=this.sI();this.BQ(value);if(!mr){this.bS('set_debug',arguments);}}catch(e){this.T('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var R=this.or();this.aZ('get_debugErrorLevel',arguments,R);return R;}catch(e){this.T('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bS('set_debugErrorLevel',arguments);var mr=this.or();this.rC(value);if(mr<IPCC.Web.UI.DebugErrorLevel.Development){this.bS('set_debugErrorLevel',arguments);}}catch(e){this.T('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var R=this.yL();this.aZ('get_artServiceOption',arguments,R);return R;}catch(e){this.T('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bS('set_artServiceOption',arguments);this.yM(value);}catch(e){this.T('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.Hq(handler);}catch(e){this.T('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.IU(handler);}catch(e){this.T('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.HL(handler);}catch(e){this.T('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Jq(handler);}catch(e){this.T('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.abO(handler);}catch(e){this.T('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.Vv(handler);}catch(e){this.T('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Cy(handler);}catch(e){this.T('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.zJ(handler);}catch(e){this.T('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Ih(handler);}catch(e){this.T('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Ki(handler);}catch(e){this.T('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.zE(handler);}catch(e){this.T('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Fj(handler);}catch(e){this.T('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.GG(handler);}catch(e){this.T('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.GI(handler);}catch(e){this.T('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Ac(handler);}catch(e){this.T('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.FY(handler);}catch(e){this.T('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.YB(handler);}catch(e){this.T('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.Vu(handler);}catch(e){this.T('remove_contextMenu',e);throw e;}},writeToLog:function(message){try{this.iS(message);}catch(e){this.T('writeToLog',e);throw e;}},get_documentIdentifier:function(){try{var R=this.vO();this.aZ('get_documentIdentifier',arguments,R);return R;}catch(e){this.T('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var R=this.BP();this.aZ('get_encodedDocumentIdentifier',arguments,R);return R;}catch(e){this.T('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var R=this.mp();this.aZ('get_pageNumber',arguments,R);return R;}catch(e){this.T('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var R=this.XY();this.aZ('get_documentPageCount',arguments,R);return R;}catch(e){this.T('get_documentPageCount',e);throw e;}},get_pageWidth:function(){try{var R=this.mH();this.aZ('get_pageWidth',arguments,R);return R;}catch(e){this.T('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var R=this.mj();this.aZ('get_pageHeight',arguments,R);return R;}catch(e){this.T('get_pageHeight',e);throw e;}},get_currentState:function(){try{var R=this.vH();this.aZ('get_currentState',arguments,R);return R;}catch(e){this.T('get_currentState',e);throw e;}},openPage:function(parameters){try{this.bS('openPage',arguments,1);this.Eq(parameters);}catch(e){this.T('openPage',e);throw e;}},closePage:function(){try{this.bS('closePage',arguments);this.yZ();}catch(e){this.T('closePage',e);throw e;}},saveArtPage:function(onSave){try{this.bS('saveArtPage',arguments);this.Et(onSave);}catch(e){this.T('saveArtPage',e);throw e;}},display:function(){try{this.bS('display',arguments);this.co();}catch(e){this.T('display',e);throw e;}},get_controlStateElementId:function(){try{var R=this.Jw();this.aZ('get_controlStateElementId',arguments,R);return R;}catch(e){this.T('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bS('set_controlStateElementId',arguments);this.Kt(value);}catch(e){this.T('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var R=this.Sy();this.aZ('get_includeArtInPostBack',arguments,R);return R;}catch(e){this.T('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bS('set_includeArtInPostBack',arguments);this.Xs(value);}catch(e){this.T('set_includeArtInPostBack',e);throw e;}},get_pageViewClientID:function(){try{var R=this.arK();this.aZ('get_pageViewClientID',arguments,R);return R;}catch(e){this.T('get_pageViewClientID',e);throw e;}},set_pageViewClientID:function(value){try{this.bS('set_pageViewClientID',arguments);this.anA(value);}catch(e){this.T('set_pageViewClientID',e);throw e;}},get_artPage:function(){try{var R=this.dV();this.aZ('get_artPage',arguments,R);return R;}catch(e){this.T('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bS('set_artPage',arguments);this.kf(value);}catch(e){this.T('set_artPage',e);throw e;}},get_transientArtPage:function(){try{var R=this.kT();this.aZ('get_transientArtPage',arguments,R);return R;}catch(e){this.T('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bS('set_transientArtPage',arguments);this.tQ(value);}catch(e){this.T('set_transientArtPage',e);throw e;}},get_resourcePath:function(){try{var R=this.mN();this.aZ('get_resourcePath',arguments,R);return R;}catch(e){this.T('get_resourcePath',e);throw e;}},set_resourcePath:function(H){try{this.bS('set_resourcePath',arguments);this.uV(H);}catch(e){this.T('set_resourcePath',e);throw e;}},get_imageHandlerUrl:function(){try{var R=this.nu();this.aZ('get_imageHandlerUrl',arguments,R);return R;}catch(e){this.T('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bS('set_imageHandlerUrl',arguments);this.GC(value);}catch(e){this.T('set_imageHandlerUrl',e);throw e;}},get_selected:function(){try{var R=this.RI();this.aZ('get_selected',arguments,R);return R;}catch(e){this.T('get_selected',e);throw e;}},set_selected:function(value){try{this.bS('set_selected',arguments);this.LQ(value);}catch(e){this.T('set_selected',e);throw e;}},get_textRequired:function(){try{var R=this.iz();this.aZ('get_textRequired',arguments,R);return R;}catch(e){this.T('get_textRequired',e);throw e;}},set_textRequired:function(H){try{this.bS('set_textRequired',arguments);this.yW(H);}catch(e){this.T('set_textRequired',e);throw e;}},get_textPage:function(){try{var R=this.cf();this.aZ('get_textPage',arguments,R);return R;}catch(e){this.T('get_textPage',e);throw e;}},set_textPage:function(value){try{this.bS('set_textPage',arguments);this.anJ(value);}catch(e){this.T('set_textPage',e);throw e;}},get_imGearPage:function(){try{var R=this.nn();this.aZ('get_imGearPage',arguments,R);return R;}catch(e){this.T('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bS('set_imGearPage',arguments);this.rw(value);}catch(e){this.T('set_imGearPage',e);throw e;}},add_textPageReady:function(handler){try{this.wF(handler);}catch(e){this.T('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.yf(handler);}catch(e){this.T('remove_textPageReady',e);throw e;}},get_requireRequestsOptimize:function(){try{var R=this.nY();this.aZ('get_requireRequestsOptimize',arguments,R);return R;}catch(e){this.T('nY',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bS('set_requireRequestsOptimize',arguments);this.sJ(value);}catch(e){this.T('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var R=this.ia();this.aZ('get_serviceResponseTimeout',arguments,R);return R;}catch(e){this.T('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bS('set_serviceResponseTimeout',arguments);this.sm(value);}catch(e){this.T('set_serviceResponseTimeout',e);throw e;}},get_encryption:function(){try{var R=this.dU();this.aZ('get_encryption',arguments,R);return R;}catch(e){this.T('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bS('set_encryption',arguments);this.hX(value);}catch(e){this.T('set_encryption',e);throw e;}}};IPCC.Web.UI.ThumbnailView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailView.registerClass('IPCC.Web.UI.ThumbnailView',IPCC.Sys.UI.Control);IPCC.eF=function(im,ix,hV,jC,fs,fF){if(arguments.length===0){im=jC=1;ix=hV=fs=fF=0;}this.afm=function(){return im*jC-ix*hV;};this.aGz=function(){return im===1&&ix===0&&hV===0&&jC===1&&fs===0&&fF===0;};this.qH=function(){return im;};this.qO=function(){return ix;};this.sb=function(){return hV;};this.tp=function(){return jC;};this.xm=function(){return fs;};this.yq=function(){return fF;};this.append=function(dn){var Iy=im*dn.qH()+ix*dn.sb();var GZ=im*dn.qO()+ix*dn.tp();var Hj=hV*dn.qH()+jC*dn.sb();var Ix=hV*dn.qO()+jC*dn.tp();var Hy=fs*dn.qH()+fF*dn.sb()+dn.xm();var GY=fs*dn.qO()+fF*dn.tp()+dn.yq();im=Iy;ix=GZ;hV=Hj;jC=Ix;fs=Hy;fF=GY;};this.equals=function(H){if(im!==H.qH()){return false;}if(ix!==H.qO()){return false;}if(hV!==H.sb()){return false;}if(jC!==H.tp()){return false;}if(fs!==H.xm()){return false;}if(fF!==H.yq()){return false;}return true;};this.xT=function(){if(!this.adp()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Gc=this.afm();var Iy=jC/Gc;var GZ= -ix/Gc;var Hj= -hV/Gc;var Ix=im/Gc;var Hy=(hV*fF-jC*fs)/Gc;var GY=(ix*fs-im*fF)/Gc;im=Iy;ix=GZ;hV=Hj;jC=Ix;fs=Hy;fF=GY;};this.zr=function(dn){var Iy=dn.qH()*im+dn.qO()*hV;var GZ=dn.qH()*ix+dn.qO()*jC;var Hj=dn.sb()*im+dn.tp()*hV;var Ix=dn.sb()*ix+dn.tp()*jC;var Hy=dn.xm()*im+dn.yq()*hV+fs;var GY=dn.xm()*ix+dn.yq()*jC+fF;im=Iy;ix=GZ;hV=Hj;jC=Ix;fs=Hy;fF=GY;};this.yK=function(jG,tj,nR,oq){fs-=nR;fF-=oq;this.scale(jG,tj);fs+=nR;fF+=oq;};this.anL=function(){im=jC=1;ix=hV=fs=fF=0;};this.transform=function(ba){var ad=ba.x*im+ba.y*hV+fs;var fp=ba.y*jC+ba.x*ix+fF;return new IPCC.Web.UI.Point(ad,fp);};this.oD=function(Xj,Wz){fs+=Xj;fF+=Wz;};this.aBZ=function(H){if(Math.abs(im-H.qH())>1e-8){return false;}if(Math.abs(ix-H.qO())>1e-8){return false;}if(Math.abs(hV-H.sb())>1e-8){return false;}if(Math.abs(jC-H.tp())>1e-8){return false;}if(Math.abs(fs-H.xm())>1e-8){return false;}if(Math.abs(fF-H.yq())>1e-8){return false;}return true;};this.toString=function(){return '{'+im.toFixed(6)+', '+ix.toFixed(6)+', '+hV.toFixed(6)+', '+jC.toFixed(6)+', '+fs.toFixed(3)+', '+fF.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.eF(im,ix,hV,jC,fs,fF);};this.Rk=function(hE){im=hE.qH();ix=hE.qO();hV=hE.sb();jC=hE.tp();fs=hE.xm();fF=hE.yq();};this.aem=function(bz,bu){im=1;jC=bu.gC*bz.hf/(bz.gC*bu.hf);ix=hV=fs=fF=0;};this.Xg=function(aI,bz,bu){switch(aI){case IPCC.Web.UI.FitType.FullImage:this.ajt(bz,bu);break;case IPCC.Web.UI.FitType.FullWidth:this.aiW(bz,bu);break;case IPCC.Web.UI.FitType.FullHeight:this.ahK(bz,bu);break;case IPCC.Web.UI.FitType.ActualSize:this.ajo(bz,bu);break;case IPCC.Web.UI.FitType.OneToOne:if(!(bz.st)){this.ajo(bz,bu);}else{this.aqw(bz,bu);}break;}};this.aiW=function(bz,bu){var pg=this.rA(bz);var Cw=bu.width-2;if(Cw<1){Cw=1;}var ac=Cw/pg.width;this.scale(ac,ac);pg=this.rA(bz);if(pg.y<0){this.oD(0,-pg.y);}};this.ahK=function(bz,bu){var pg=this.rA(bz);var Cw=bu.height-2;if(Cw<1){Cw=1;}var ac=Cw/pg.height;this.scale(ac,ac);pg=this.rA(bz);if(pg.x<0){this.oD(-pg.x,0);}};this.ajt=function(bz,bu){var mC=this.clone();mC.aiW(bz,bu);this.ahK(bz,bu);if(Math.max(Math.abs(im),Math.abs(ix))>Math.max(Math.abs(mC.qH()),Math.abs(mC.qO()))){this.Rk(mC);}};this.ajo=function(bz,bu){var pg=this.rA({x:0,y:0,width:bz.hf,height:bz.gC});var ac=bu.hf/pg.width;this.scale(ac,ac);};this.aqw=function(bz,bu){var pg=this.rA({x:0,y:0,width:1,height:1});var ac=1/Math.min(pg.width,pg.height);this.scale(ac,ac);if(Math.abs(im-1)<0.0001){im=1;}if(Math.abs(jC-1)<0.0001){jC=1;}};return this;};IPCC.eF.prototype.adp=function(){return Math.abs(this.afm())>1e-14;};IPCC.eF.prototype.rotate=function(Cj){this.afg(Cj,0,0);};IPCC.eF.prototype.afg=function(Cj,nR,oq){var Hz=Cj*Math.PI*2/360;var iV=Math.sin(Hz);var eS=Math.cos(Hz);var dn=new IPCC.eF(eS,iV,-iV,eS,nR*(1-eS)+oq*iV,oq*(1-eS)-nR*iV);this.append(dn);};IPCC.eF.prototype.azJ=function(Cj,nR,oq){var Hz=Cj*Math.PI*2/360;var iV=Math.sin(Hz);var eS=Math.cos(Hz);var dn=new IPCC.eF(eS,iV,-iV,eS,nR*(1-eS)+oq*iV,oq*(1-eS)-nR*iV);this.zr(dn);};IPCC.eF.prototype.aGo=function(Cj){this.azJ(Cj,0,0);};IPCC.eF.prototype.scale=function(jG,tj){var dn=new IPCC.eF(jG,0,0,tj,0,0);this.append(dn);};IPCC.eF.prototype.aDY=function(jG,tj,nR,oq){var dn=new IPCC.eF(jG,0,0,tj,nR*(1-jG),oq*(1-tj));this.zr(dn);};IPCC.eF.prototype.aEl=function(jG,tj){var dn=new IPCC.eF(jG,0,0,tj,0,0);this.zr(dn);};IPCC.eF.prototype.skew=function(pN,pW){var dn=new IPCC.eF(1,Math.tan(pW*Math.PI*2/360),Math.tan(pN*Math.PI*2/360),1,0,0);this.append(dn);};IPCC.eF.prototype.aDl=function(pN,pW){var dn=new IPCC.eF(1,Math.tan(pW*Math.PI*2/360),Math.tan(pN*Math.PI*2/360),1,0,0);this.zr(dn);};IPCC.eF.prototype.aEt=function(Xj,Wz){var dn=new IPCC.eF(1,0,0,1,Xj,Wz);this.zr(dn);};IPCC.eF.prototype.rK=function(F){var hx=this.transform({x:F.x,y:F.y});var mh=hx.x;var pj=hx.x;var nj=hx.y;var oW=hx.y;hx=this.transform({x:F.x+F.width,y:F.y});mh=Math.min(mh,hx.x);pj=Math.max(pj,hx.x);nj=Math.min(nj,hx.y);oW=Math.max(oW,hx.y);hx=this.transform({x:F.x+F.width,y:F.y+F.height});mh=Math.min(mh,hx.x);pj=Math.max(pj,hx.x);nj=Math.min(nj,hx.y);oW=Math.max(oW,hx.y);hx=this.transform({x:F.x,y:F.y+F.height});mh=Math.min(mh,hx.x);pj=Math.max(pj,hx.x);nj=Math.min(nj,hx.y);oW=Math.max(oW,hx.y);return new IPCC.Web.UI.Rectangle(mh,nj,pj-mh,oW-nj);};IPCC.eF.prototype.amg=function(bz,bu,ew){var aiM=this.clone();aiM.xT();var axK=aiM.transform({x:ew.x+ew.width/2,y:ew.y+ew.height/2});var ac=Math.min(bu.width/ew.width,bu.height/ew.height);ac-=1e-10;var kF=this.uz();if(kF*ac>bz.sq){ac=bz.sq/kF;}if(kF*ac<bz.ti){ac=bz.ti/kF;}this.scale(ac,ac);this.aiK(bu,axK);};IPCC.eF.prototype.Sj=function(bz,bu,fh){this.amg(bz,bu,this.rK(fh));};IPCC.eF.prototype.aDv=function(bu){this.yK(1,-1,bu.width/2,bu.height/2);};IPCC.eF.prototype.amX=function(bu){this.yK(-1,1,bu.width/2,bu.height/2);};IPCC.eF.prototype.ZF=function(awA,agQ){var aaH=this.transform(awA);this.oD(agQ.x-aaH.x,agQ.y-aaH.y);};IPCC.eF.prototype.aiK=function(bu,cD){var aeJ=this.transform(cD);this.oD(bu.width/2-aeJ.x,bu.height/2-aeJ.y);};IPCC.eF.prototype.ka=function(aY,bu){var ad=0,fp=0,end;var pd=this.rA(aY);if(pd.width<bu.width){ad=(bu.width-pd.width)/2-pd.x;}else{end=pd.x+pd.width;if(end<bu.width){ad=bu.width-end;}if(pd.x>0){ad= -pd.x;}}if(pd.height<bu.height){fp=(bu.height-pd.height)/2-pd.y;}else{end=pd.y+pd.height;if(end<bu.height){fp=bu.height-end;}if(pd.y>0){fp= -pd.y;}}this.oD(ad,fp);};IPCC.eF.prototype.rA=function(aY){return this.rK({x:0,y:0,width:aY.width,height:aY.height});};IPCC.eF.prototype.IH=function(){var hT,zQ,ho,yO,aeN,ju;hT=this.transform({x:0,y:0});zQ=this.transform({x:0,y:1});ho=this.transform({x:1,y:0});yO=Math.atan2(zQ.y-hT.y,zQ.x-hT.x);aeN=Math.atan2(ho.y-hT.y,ho.x-hT.x);ju=yO-aeN;if(ju>Math.PI){ju=ju-2*Math.PI;}if(ju< -Math.PI){ju=ju+2*Math.PI;}return ju<0;};IPCC.eF.prototype.CV=function(){var hT,zQ,yO;hT=this.transform({x:0,y:0});zQ=this.transform({x:0,y:1});yO=Math.atan2(zQ.y-hT.y,zQ.x-hT.x)-Math.PI/2;if(yO<0){yO=yO+2*Math.PI;}return yO*360/(Math.PI*2);};IPCC.eF.prototype.uz=function(){var gr;var hT,pP;var fz,er,aF;hT=this.transform({x:0,y:0});pP=this.transform({x:1,y:0});fz=pP.x-hT.x;er=pP.y-hT.y;gr=fz*fz+er*er;pP=this.transform({x:0,y:1});fz=pP.x-hT.x;er=pP.y-hT.y;aF=Math.min(gr,fz*fz+er*er);pP=this.transform({x:1,y:1});fz=pP.x-hT.x;er=pP.y-hT.y;aF=Math.min(gr,fz*fz+er*er);pP=this.transform({x:1,y: -1});fz=pP.x-hT.x;er=pP.y-hT.y;aF=Math.min(gr,fz*fz+er*er);return Math.sqrt(gr);};IPCC.eF.aFQ=function(){return new IPCC.eF(1,0,0,1,0,0);};IPCC.Du=function(bN,cN,hf,gC){this.width=bN;this.height=cN;this.hf=hf;this.gC=gC;return this;};IPCC.Du.prototype=new IPCC.Web.UI.Rectangle(0,0,0,0);IPCC.Du.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.hf+', '+this.gC+')';};IPCC.gQ=function(mY,aM,bN,cN,hf,gC){this.width=bN;this.height=cN;this.hf=hf;this.gC=gC;this.aM=aM||0;this.eQ=0;this.st=true;this.aiH={};this.zO=false;var G=this;this.aM=aM;this.get_url=function(gE,fN,bj){fN=fN||'Image';bj=bj||'';var Fm=IPCC.gQ.JI(mY);var EU=false;if(/^[\x00-\x7F]*$/.test(Fm)){EU=true;}if(bj===null||bj===''){if(fN==='Attributes'){var sv='';if(!IPCC.wE.CA()){sv='&ContentType=png';}if(!EU){return gE+'/Page/q/'+aM.toString()+'/'+fN+'?DocumentID=e'+mY+sv;}else{return gE+'/Page/q/'+aM.toString()+'/'+fN+'?DocumentID=u'+encodeURIComponent(Fm)+sv;}}else{if(fN==='SvgImage'){if(!EU){return gE+'/Page/q/'+aM.toString()+'?DocumentID=e'+mY+'&'+bj;}else{return gE+'/Page/q/'+aM.toString()+'?DocumentID=u'+encodeURIComponent(Fm)+'&'+bj;}}if(!EU){return gE+'/Page/q/'+aM.toString()+'/'+fN+'?DocumentID=e'+mY+'&'+bj;}else{return gE+'/Page/q/'+aM.toString()+'/'+fN+'?DocumentID=u'+encodeURIComponent(Fm)+'&'+bj;}}}else{if(fN==='SvgImage'){if(!EU){return gE+'/Page/q/'+aM.toString()+'?DocumentID=e'+mY+'&'+bj;}else{return gE+'/Page/q/'+aM.toString()+'?DocumentID=u'+encodeURIComponent(Fm)+'&'+bj;}}if(!EU){return gE+'/Page/q/'+aM.toString()+'/'+fN+'?DocumentID=e'+mY+'&'+bj;}else{return gE+'/Page/q/'+aM.toString()+'/'+fN+'?DocumentID=u'+encodeURIComponent(Fm)+'&'+bj;}}};this.get_urlArt=function(gE,fN,bj){fN=fN||'Art';bj=bj||'';if(bj===null||bj===''){if(fN==='Art'){return gE+'/Page/q/'+aM.toString()+'/'+fN+'?DocumentID=e'+mY;}}else{return gE+'/Page/q/'+aM.toString()+'/'+fN+'?DocumentID=e'+mY+'&'+bj;}};this.get_identifier=function(){return IPCC.gQ.JI(mY);};this.get_encodedIdentifier=function(){return mY;};this.toString=function(){return 'Image("'+mY+'", '+this.aM+', '+this.width+' x '+this.height+', '+this.hf+', '+this.gC+')';};function aeL(amJ,V){if(V.Kx()){G.st=true;G.zO=false;return;}var VN=amJ.split(',');var kn=false;for(var ae=0;ae<VN.length;ae++){if(VN[ae]==="SVG"||VN[ae]==="svg"){if(IPCC.wE.CA()){G.zO=true;G.st=false;}else{G.zO=false;}kn=true;break;}}if(!kn){G.zO=false;G.st=true;}if(V){if(V.Mn){V.Mn(G.zO);}}};this.GN=function(gE,V,Ax){V.aM=this.aM;var ll=0;var nx=V.nY();if(nx){if(document.documentMode<9){nx=false;}}var ja=true;if(V.ia()===0){ja=false;}var mo=function(eo){try{if(eo===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(eo.errorCode){if(eo.errorCode==='SvgNotAvailable'){nx=false;G.width= +(eo.pageAttributes.imageWidth);G.height= +(eo.pageAttributes.imageHeight);G.hf= +(eo.pageAttributes.imageXResolution);if(G.hf<=0){G.hf=72;}G.gC= +(eo.pageAttributes.imageYResolution);if(G.gC<=0){G.gC=72;}G.eQ= +(eo.pageAttributes.pageCount);G.st=eo.pageAttributes.isRaster!=='false';aeL(eo.pageAttributes.contentType,V);}}else{G.width= +(eo.imageWidth);G.height= +(eo.imageHeight);G.hf= +(eo.imageXResolution);if(G.hf<=0){G.hf=72;}G.gC= +(eo.imageYResolution);if(G.gC<=0){G.gC=72;}G.eQ= +(eo.pageCount);G.st=eo.isRaster!=='false';aeL(eo.contentType,V);}var nt=bG.getResponseHeader("Accusoft-Data-Encrypted");var Ht=false;if(nt==="true"){Ht=true;}V.acU(Ht);if(Ax){Ax();}}catch(e){V.T('openPage',e);if(typeof(V.ai)==='function'){var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}}};var bG=new XMLHttpRequest(),sF,kJ,Ur=function(){sF=null;kJ=true;bG.abort();},ND=function(){kJ=false;sF=setTimeout(Ur,V.ia());},Kv=function(){if(!sF){return;}clearTimeout(sF);sF=null;};function Nf(){nx=false;if(ll<1){bG.open('GET',G.get_url(gE,'Attributes'),true);bG.setRequestHeader('Content-Type','application/json');bG.onreadystatechange=lH;ll++;if(ja===true){ND();}bG.send();}};var axC=function(fT){var bN;var cN;function atV(){var Ot;try{if(typeof JSON!=='undefined'){Ot=JSON.parse(fT);}else{Ot=IPCC.cT.pa(fT);}}catch(am){Ot=undefined;nx=true;}return Ot;};try{bN=fT.match(/width=\"([0-9.]+)\"/);cN=fT.match(/height=\"([0-9.]+)\"/);if(bN&&cN){bN=Number(bN[1]);cN=Number(cN[1]);}else{throw "error";}if(isNaN(bN)||isNaN(cN)){throw "error";}G.width=bN;G.height=cN;G.hf=72;G.gC=72;G.zO=true;G.st=false;if(V){if(typeof(V.Mn==='function')){V.Mn(G.zO);}}if(Ax){Ax();}}catch(e){var aG=atV();if(aG){mo(aG,bG.status);return;}if(nx){if(ll<1){nx=false;setTimeout(Nf,10);return;}}V.T('openPage',e);if(typeof(V.ai)==='function'){var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}}};function lH(){try{var di,aG,bZ,ks;var jS;var hS=di;if(bG.readyState===4){di=bG.status;if(bG.status===200){aG=null;try{if(ja===true){Kv();}if(!nx){if(typeof JSON!=='undefined'){aG=JSON.parse(bG.responseText);}else{aG=IPCC.cT.pa(bG.responseText);}mo(aG,bG.status);}else{var jQ;var nt=bG.getResponseHeader("Accusoft-Data-Encrypted");if(nt==='true'&&V.dU()===true){var rF=IPCC.Web.gl.pw.sk(bG.getResponseHeader("Accusoft-Data-SK"));var bA=IPCC.Web.Dy(rF,fP);var ct=IPCC.Web.Cr(bG);var tg=IPCC.Web.As(ct,bA,fP);jQ=IPCC.Web.gl.Ga.lO(tg);}else{jQ=bG.responseText;}var BN;if(jQ.length>=1000){BN=jQ.substring(0,1000);}else{BN=jQ.substring(0,jQ.length);}axC(BN);}}catch(ex){if(nx){nx=false;if(ll<1){setTimeout(Nf,10);return;}}bZ="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,bZ);}}else if((di<200)||(di>=300)){if(ja===true){Kv();}if(di===480){ll++;if(bG.statusText&&bG.statusText!==""){bZ=bZ="PDF file password required, error message from the server: "+bG.statusText;}else{bZ="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(di,bZ);}if(di===403){ll++;if(bG.statusText&&bG.statusText!==""){bZ="Expired viewer session ID, error message from the server: "+bG.statusText;}else{bZ="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(di,bZ);}if(nx){nx=false;if(ll<1){setTimeout(Nf,10);return;}}hS=bG.status;ks=bG.getResponseHeader('Accusoft-Status-Message');if(ks){var ov;jS=bG.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vx(jS)){ov=parseInt(jS,10);}throw new IPCC.Web.UI.ImGearHttpException(hS,ks,ov);}else if(kJ){throw new IPCC.Web.UI.ImGearHttpException(hS,"Client timed out on load");}else{if(bG.statusText&&bG.statusText!==""){bZ="Error message from the service: "+bG.statusText;}else{bZ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hS,bZ);}}}}catch(e){if(nx){nx=false;if(ll<1){setTimeout(Nf,10);return;}}V.T('openPage',e);if(typeof(V.ai)==='function'){var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}}};var fP=IPCC.Web.os.Qb(4,IPCC.Web.RX());var mc=IPCC.Web.gl.Er.lO(fP);if(!nx){bG.open('GET',this.get_url(gE,'Attributes'),true);bG.setRequestHeader('Content-Type','application/json');}else{var dh;if(V.dU()===true){fP=IPCC.Web.os.UF(4,IPCC.Web.RX());mc=IPCC.Web.gl.Er.lO(fP);if(document.documentMode===10||IPCC.aN.CJ){dh=this.get_url(gE,'SvgImage','Scale=1&ContentType=svg'+'&iv='+mc);}else{dh=this.get_url(gE,'SvgImage','Scale=1&ContentType=svga'+'&iv='+mc);}}else{if(document.documentMode===10||IPCC.aN.CJ){dh=this.get_url(gE,'SvgImage','Scale=1&ContentType=svg');}else{dh=this.get_url(gE,'SvgImage','Scale=1&ContentType=svga');}}bG.open('GET',dh,true);bG.responseType='text';bG.open('GET',dh,true);}bG.onreadystatechange=lH;if(ja===true){ND();}bG.send();};this.ayT=function(gE,V,Ax){V.aM=this.aM;var ll=0;var ja=true;if(V.ia()===0){ja=false;}var mo=function(eo){try{if(eo===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}G.width= +(eo.imageWidth);G.height= +(eo.imageHeight);G.hf= +(eo.imageXResolution);if(G.hf<=0){G.hf=72;}G.gC= +(eo.imageYResolution);if(G.gC<=0){G.gC=72;}G.eQ= +(eo.pageCount);G.st=true;var nt=bG.getResponseHeader("Accusoft-Data-Encrypted");var Ht=false;if(nt==="true"){Ht=true;}V.acU(Ht);if(Ax){Ax();}}catch(e){V.T('openPage',e);if(typeof(V.ai)==='function'){var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}}};var bG=new XMLHttpRequest(),sF,kJ,Ur=function(){sF=null;kJ=true;bG.abort();},ND=function(){kJ=false;sF=setTimeout(Ur,V.ia());},Kv=function(){if(!sF){return;}clearTimeout(sF);sF=null;};function lH(){try{var di,aG,bZ,ks;var jS;var hS=di;if(bG.readyState===4){di=bG.status;if(bG.status===200){aG=null;try{if(ja===true){Kv();}if(typeof JSON!=='undefined'){aG=JSON.parse(bG.responseText);}else{aG=IPCC.cT.pa(bG.responseText);}mo(aG,bG.status);}catch(ex){bZ="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,bZ);}}else if((di<200)||(di>=300)){if(ja===true){Kv();}if(di===480){ll++;if(bG.statusText&&bG.statusText!==""){bZ=bZ="PDF file password required, error message from the server: "+bG.statusText;}else{bZ="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(di,bZ);}if(di===403){ll++;if(bG.statusText&&bG.statusText!==""){bZ="Expired viewer session ID, error message from the server: "+bG.statusText;}else{bZ="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(di,bZ);}hS=bG.status;ks=bG.getResponseHeader('Accusoft-Status-Message');if(ks){var ov;jS=bG.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vx(jS)){ov=parseInt(jS,10);}throw new IPCC.Web.UI.ImGearHttpException(hS,ks,ov);}else if(kJ){throw new IPCC.Web.UI.ImGearHttpException(hS,"Client timed out on load");}else{if(bG.statusText&&bG.statusText!==""){bZ="Error message from the service: "+bG.statusText;}else{bZ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hS,bZ);}}}}catch(e){V.T('openPageForRaster',e);if(typeof(V.ai)==='function'){var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}}};bG.open('GET',this.get_url(gE,'Attributes'),true);bG.setRequestHeader('Content-Type','application/json');bG.onreadystatechange=lH;if(ja===true){ND();}bG.send();};return this;};IPCC.gQ.prototype=new IPCC.Du(0,0,0,0);IPCC.gQ.prototype.clone=function(){var XQ=new IPCC.gQ(this.get_encodedIdentifier(),this.aM,this.width,this.height,this.hf,this.gC);XQ.eQ=this.eQ;XQ.st=this.st;return XQ;};IPCC.gQ.prototype.equals=function(H){if(this.get_encodedIdentifier()!==H.get_encodedIdentifier()){return false;}if(this.aM!==H.aM){return false;}return true;};IPCC.gQ.prototype.sq=8;IPCC.gQ.prototype.ti=0.000001;IPCC.gQ.SO=function(bj){var IG=bj.referenceDocumentIdentifier;var adF=IPCC.gQ.rz(IG);var fV=bj.encodedDocumentIdentifier;var kq=bj.documentIdentifier;var eD;if(fV===''){fV=undefined;}if(kq===''){kq=undefined;}if(IG&&IG!==''){if(fV===adF){fV=undefined;}if(kq===IG){kq=undefined;}}if(kq){eD=IPCC.gQ.rz(kq);if(fV){if(fV!==eD){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{fV=eD;}}else{if(fV){kq=IPCC.gQ.JI(fV);}}if(!fV){kq=IG;fV=adF;}var bC=bj.pageNumber;var adK=bj.referencePageNumber;if(bC===adK){bC=undefined;}if(bC!==0&& !bC){bC=adK;}bj.encodedDocumentIdentifier=fV;bj.documentIdentifier=kq;bj.pageNumber=bC;};IPCC.gQ.rz=function(lq){if(!lq||lq===''){return '';}var mD=[];var K;for(K=0;K<lq.length;K++){mD.push(lq.charCodeAt(K)%256);mD.push(Math.floor(lq.charCodeAt(K)/256));}mD.push(0);mD.push(0);var Rn='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var qC=[],vf;for(K=0;K<mD.length-1;K+=3){vf=mD[K]*0x10000+mD[K+1]*0x100+mD[K+2];qC.push(Rn.charAt(Math.floor(vf/0x40000)));qC.push(Rn.charAt(Math.floor(vf/0x1000)%0x40));qC.push(Rn.charAt(Math.floor(vf/0x40)%0x40));qC.push(Rn.charAt(vf%0x40));}var WX=Math.ceil(lq.length*16/6);while(qC.length>WX){qC.pop();}if((qC.length%4)===3){qC.push('1');}else if((qC.length%4)===2){qC.push('2');}else if((qC.length%4)===0){qC.push('0');}return qC.join('');};IPCC.gQ.JI=function(mY){if(!mY||mY===''){return '';}var ahi=mY.length-1;var PW=[],vf;var qh,mD=[],ny=[];var K;for(K=0;K<ahi;K++){qh=mY.charCodeAt(K);if(qh>64&&qh<91){ny.push(qh-65);}else if(qh>96&&qh<123){ny.push(qh-97+26);}else if(qh>47&&qh<58){ny.push(qh-48+52);}else if(qh===45){ny.push(62);}else if(qh===95){ny.push(63);}else{return '';}}ny.push(0);ny.push(0);ny.push(0);for(K=0;K<ny.length-3;K+=4){vf=ny[K]*0x40000+ny[K+1]*0x1000+ny[K+2]*0x40+ny[K+3];mD.push(Math.floor(vf/0x10000));mD.push(Math.floor(vf/0x100)%256);mD.push(vf%256);}for(K=0;K<mD.length-1;K+=2){PW.push(String.fromCharCode(mD[K]+mD[K+1]*0x100));}var WX=Math.floor(ahi*6/16);while(PW.length>WX){PW.pop();}return PW.join('');};IPCC.ve=function(){this.bi=false;this.V=false;};IPCC.ve.prototype.lL=function(V){V.bF().set_cursor(IPCC.an.Magnifier);this.V=V;};IPCC.ve.prototype.fC=function(){this.V=false;};IPCC.ve.prototype.ab=function(){if(this.bi){this.V.bF().hideMagnifier();this.V.bF().set_cursor(this.jm);this.bi=false;}};IPCC.ve.prototype.sB=function(){this.ab();};IPCC.ve.prototype.kv=function(C){this.ab();if(C.domEvent.button===0){this.jm=this.V.bF().get_cursor();this.V.bF().set_cursor(IPCC.an.None);this.bi=true;this.V.bF().showMagnifier(C.windowPoint);this.V.co();}};IPCC.ve.prototype.ld=function(C){if(C.domEvent.button!==0){this.ab();}if(this.bi){this.V.bF().showMagnifier(C.windowPoint);this.V.co();}};IPCC.ve.prototype.jz=function(){this.ab();this.V.co();};IPCC.ve.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.oc=function(){this.bi=false;this.V=false;};IPCC.oc.prototype.lL=function(V){V.bF().set_cursor(IPCC.an.RectangleZoom);this.V=V;};IPCC.oc.prototype.fC=function(){this.V=false;};IPCC.oc.prototype.ab=function(){if(this.bi){this.V.bF().pE();this.V.bF().set_cursor(this.jm);this.bi=false;this.V.co();}};IPCC.oc.prototype.sB=function(){this.ab();this.V.co();};IPCC.oc.prototype.kv=function(C){this.ab();if(C.domEvent.button===0){var bw=this.V.bF();this.jm=bw.get_cursor();bw.set_cursor(IPCC.an.RectangleZoom);this.bi=true;bw.Fy(C.constrainedImagePoint);this.tX=C.windowPoint;this.V.co();}};IPCC.oc.prototype.ld=function(C){if(C.domEvent.button!==0){this.ab();}if(this.bi){var bw=this.V.bF();bw.BJ(C.constrainedImagePoint);this.V.co();}};IPCC.oc.prototype.jz=function(C){if(this.bi&&C.domEvent.button===0){var eD=C.windowPoint.x-this.tX.x;var gr=eD*eD;eD=C.windowPoint.y-this.tX.y;gr+=eD*eD;if(gr>25){var V=this.V;var bw=V.bF();var bg=bw.gh();var bu=V.eC();var axH=bu.width;var axp=bu.height;var bz=V.dB();bw.BJ(C.constrainedImagePoint);var kp=bw.yj();bw.pE();V.ai('userModifiedViewState',{});bg.Sj(bz,bu,kp);bg.ka(bz,bu);bw.ic(bg);V.co();if(axH!==bu.width||axp!==bu.height){bg=bw.gh();bg.Sj(bz,bu,kp);bg.ka(bz,bu);bw.ic(bg);}}}this.ab();};IPCC.oc.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.oc.prototype.nh=function(){this.ab();};IPCC.sK=function(){this.bi=false;this.V=false;};IPCC.sK.prototype.lL=function(V){V.bF().set_cursor(IPCC.an.HandOpen);this.V=V;};IPCC.sK.prototype.fC=function(){this.V=false;};IPCC.sK.prototype.ab=function(){if(this.bi){this.V.bF().set_cursor(this.jm);this.bi=false;}};IPCC.sK.prototype.sB=function(){this.ab();};IPCC.sK.prototype.kv=function(C){this.ab();if(C.domEvent.button===0){this.jm=this.V.bF().get_cursor();this.V.bF().set_cursor(IPCC.an.HandClosed);this.bi=true;this.Qx=C.imagePoint;}};IPCC.sK.prototype.ld=function(C){if(C.domEvent.button!==0){this.ab();}if(this.bi){var V=this.V;var bw=V.bF();var bg=bw.gh();var bu=V.eC();bg.ZF(this.Qx,C.windowPoint);bg.ka(V.dB(),bu);V.ai('userModifiedViewState',{});bw.ic(bg);V.co();}};IPCC.sK.prototype.jz=function(){this.ab();};IPCC.sK.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.sK.prototype.nh=function(){this.ab();};IPCC.rS=function(){this.bi=false;this.V=false;};IPCC.rS.prototype.lL=function(V){V.bF().set_cursor(IPCC.an.Crosshair);this.V=V;};IPCC.rS.prototype.fC=function(){this.V=false;};IPCC.rS.prototype.ab=function(){if(this.bi){this.V.pE();this.V.bF().set_cursor(this.jm);this.bi=false;this.V.co();}};IPCC.rS.prototype.sB=function(){this.ab();};IPCC.rS.prototype.kv=function(C){this.ab();if(C.domEvent.button===0){var bw=this.V.bF();this.jm=bw.get_cursor();bw.set_cursor(IPCC.an.Crosshair);this.bi=true;bw.Fy(C.constrainedImagePoint);this.V.co();}};IPCC.rS.prototype.ld=function(C){if(C.domEvent.button!==0){this.ab();}if(this.bi){var bw=this.V.bF();bw.BJ(C.constrainedImagePoint);this.V.co();}};IPCC.rS.prototype.jz=function(C){if(C.domEvent.button===0){this.bi=false;}this.ab();};IPCC.rS.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.rS.prototype.nh=function(){this.ab();};IPCC.fg=function(){this.V=false;this.aqt=1.5;};IPCC.fg.prototype.lL=function(V){this.V=V;};IPCC.fg.prototype.fC=function(){this.V=false;};IPCC.fg.prototype.ab=function(){};IPCC.fg.prototype.nh=function(C){var bw=this.V.bF();var bz=this.V.dB();var bu=this.V.eC();var bg=bw.gh();var Qz=C.wheelDelta/120;if(C.domEvent.ctrlKey){C.domEvent.preventDefault();var ac=((this.aqt-1)/2)+1;if(Qz<0){ac=1/ac;}var kF=bg.uz();if(kF*ac>bz.sq){ac=bz.sq/kF;}if(kF*ac<bz.ti){ac=bz.ti/kF;}bg.yK(ac,ac,C.windowPoint.x,C.windowPoint.y);bg.ka(bz,bu);this.V.ai('userModifiedViewState',{});bw.ic(bg);}else{var amP=bg.transform({x:0,y:0});bg.oD(0,Qz*bu.gC);bg.ka(bz,bu);var alX=bg.transform({x:0,y:0});if(Math.abs(amP.x-alX.x)>0.001||Math.abs(amP.y-alX.y)>0.001){C.domEvent.preventDefault();this.V.ai('userModifiedViewState',{});bw.ic(bg);}}this.V.co();};IPCC.ez=function(aP){this.bi=false;this.V=false;this.aP=aP;switch(this.aP){case IPCC.Web.UI.MarkType.Rectangle:this.bf=IPCC.an.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.bf=IPCC.an.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:this.bf=IPCC.an.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.bf=IPCC.an.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.bf=IPCC.an.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.bf=IPCC.an.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.bf=IPCC.an.AddRectangleMark;break;}};IPCC.ez.prototype.lL=function(V){V.bF().set_cursor(this.bf);this.V=V;};IPCC.ez.prototype.fC=function(){this.V=false;};IPCC.ez.prototype.ab=function(){if(this.bi){this.O=null;this.V.qj(null);this.V.bF().set_cursor(this.jm);this.bi=false;this.V.co();}};IPCC.ez.prototype.sB=function(){this.ab();};IPCC.ez.prototype.kv=function(C){this.ab();if(C.domEvent.button===0){var bw=this.V.bF();this.jm=bw.get_cursor();bw.set_cursor(this.bf);this.bi=true;this.O=new IPCC.Web.UI.Mark(this.aP);this.O.set_rectangle({x:C.imagePoint.x,y:C.imagePoint.y,width:0,height:0});this.V.qj(this.O);this.sP=C.imagePoint;this.tX=C.windowPoint;}};IPCC.ez.prototype.ld=function(C){if(C.domEvent.button!==0){this.ab();}if(this.bi){var mA={x:Math.min(C.imagePoint.x,this.sP.x),y:Math.min(C.imagePoint.y,this.sP.y)};mA.width=Math.max(C.imagePoint.x,this.sP.x)-mA.x;mA.height=Math.max(C.imagePoint.y,this.sP.y)-mA.y;this.O.set_rectangle(mA);this.V.co();}};IPCC.ez.prototype.jz=function(C){if(this.bi&&C.domEvent.button===0){var eD=C.windowPoint.x-this.tX.x;var gr=eD*eD;eD=C.windowPoint.y-this.tX.y;gr+=eD*eD;if(gr>25){var mA={x:Math.min(C.imagePoint.x,this.sP.x),y:Math.min(C.imagePoint.y,this.sP.y)};mA.width=Math.max(C.imagePoint.x,this.sP.x)-mA.x;mA.height=Math.max(C.imagePoint.y,this.sP.y)-mA.y;this.V.qj(null);this.O.set_rectangle(mA);var aw=this.O;var V=this.V;var qT={clientX:C.domEvent.clientX,clientY:C.domEvent.clientY};this.V.dV().addMark(this.O,qT);if(aw.kC()===IPCC.Web.UI.MarkType.Text||aw.kC()===IPCC.Web.UI.MarkType.TextLine){V.zg(aw);}V.co();}}this.ab();};IPCC.ez.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.ez.prototype.nh=function(){this.ab();};IPCC.qF=function(){this.bi=false;this.V=false;this.bf=IPCC.an.AddLineMark;};IPCC.qF.prototype.lL=function(V){V.bF().set_cursor(this.bf);this.V=V;};IPCC.qF.prototype.fC=function(){this.V=false;};IPCC.qF.prototype.ab=function(){if(this.bi){this.O=null;this.V.qj(null);this.V.bF().set_cursor(this.jm);this.bi=false;this.V.co();}};IPCC.qF.prototype.sB=function(){this.ab();};IPCC.qF.prototype.kv=function(C){this.ab();if(C.domEvent.button===0){var bw=this.V.bF();this.jm=bw.get_cursor();bw.set_cursor(this.bf);this.bi=true;this.O=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.O.get_points().setPoint(0,C.imagePoint);this.O.get_points().setPoint(1,C.imagePoint);this.V.qj(this.O);this.sP=C.imagePoint;this.tX=C.windowPoint;}};IPCC.qF.prototype.ld=function(C){if(C.domEvent.button!==0){this.ab();}if(this.bi){this.O.get_points().setPoint(1,C.imagePoint);this.V.co();}};IPCC.qF.prototype.jz=function(C){if(this.bi&&C.domEvent.button===0){var eD=C.windowPoint.x-this.tX.x;var gr=eD*eD;eD=C.windowPoint.y-this.tX.y;gr+=eD*eD;if(gr>25){var V=this.V;var qT={clientX:C.domEvent.clientX,clientY:C.domEvent.clientY};this.O.get_points().setPoint(1,C.imagePoint);this.V.qj(null);this.V.dV().addMark(this.O,qT);V.co();}}this.ab();};IPCC.qF.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.qF.prototype.nh=function(){this.ab();};IPCC.nZ=function(){this.bi=false;this.V=false;this.bf=IPCC.an.AddFreehandMark;};IPCC.nZ.prototype.lL=function(V){V.bF().set_cursor(this.bf);this.V=V;};IPCC.nZ.prototype.fC=function(){this.V=false;};IPCC.nZ.prototype.ab=function(){if(this.bi){this.O=null;this.pJ=null;this.V.qj(null);this.V.bF().set_cursor(this.jm);this.bi=false;}};IPCC.nZ.prototype.sB=function(){this.ab();};IPCC.nZ.prototype.kv=function(C){this.ab();if(C.domEvent.button===0){var bw=this.V.bF();this.jm=bw.get_cursor();bw.set_cursor(this.bf);this.bi=true;this.O=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.O.get_points().addPoint(C.imagePoint);this.pJ=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.V.qj(this.O,this.pJ);this.O.set_lineWidth(this.pJ.gq);this.O.set_lineColor(this.pJ.gY);this.O.set_opacity(this.pJ.cn);this.sP=C.imagePoint;this.tX=C.windowPoint;this.V.co();}};IPCC.nZ.prototype.ld=function(C){if(C.domEvent.button!==0){this.ab();}if(this.bi){this.O.get_points().addPoint(C.imagePoint);this.V.co();}};IPCC.nZ.prototype.jz=function(C){if(this.bi&&C.domEvent.button===0){this.O.get_points().addPoint(C.imagePoint);var aiO=this.O.get_points();var bE=[];var gs=Number.MAX_VALUE,ho=0,_top=Number.MAX_VALUE,hM=0;var K=0;for(K=0;K<aiO.get_length();K++){var uI=aiO.getPoint(K);if(uI.x<gs){gs=uI.x;}if(uI.x>ho){ho=uI.x;}if(uI.y<_top){_top=uI.y;}if(uI.y>hM){hM=uI.y;}bE.push({x:uI.x,y:uI.y});}var zC=3;var uq;var sQ=(bE.length<zC)?bE:IPCC.aN.filter(bE,function(bq){if(uq){var ad=bq.x-uq.x,fp=bq.y-uq.y,fD=ad*ad+fp*fp;if(Math.sqrt(fD)<4){return false;}}bq.x=bq.x-gs;bq.y=bq.y-_top;uq=bq;return true;});if(sQ.length<zC){sQ=[bE[0],bE[bE.length-1]];}var cW='';uq=undefined;if(sQ.length<zC){cW+=this.Om(sQ);}else{cW='M'+IPCC.aN.bspline(sQ);cW=cW.replace(/\d*\.?\d*/g,function(dI){var Ky=dI.indexOf('.');if(dI.length&&Ky>0){return dI.substr(0,Ky+3);}else if(dI!==""){return dI;}else{return dI;}});}var bN=ho-gs;var cN=hM-_top;var qT={clientX:C.domEvent.clientX,clientY:C.domEvent.clientY};this.pJ.set_rectangle({x:gs,y:_top,width:bN,height:cN});this.pJ.set_pathString(cW);this.pJ.set_pathWidth(bN);this.pJ.set_pathHeight(cN);this.V.qj(null);this.V.dV().addMark(this.pJ,qT);this.V.co();}this.ab();};IPCC.nZ.prototype.Om=function(gG,Kb){var ZW=(Kb&&IPCC.aN.DI)?'m':'M';var ZA=(Kb&&IPCC.aN.DI)?'l':'L';return IPCC.aN.map(gG,function(bq,K){if(K===0){return ZW+bq.x+','+bq.y;}else{return ZA+bq.x+','+bq.y;}}).join('');};IPCC.nZ.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.nZ.prototype.nh=function(){this.ab();};IPCC.lP=function(aP){this.bi=false;this.V=false;this.aP=aP;switch(this.aP){case IPCC.Web.UI.MarkType.Polygon:this.bf=IPCC.an.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.bf=IPCC.an.AddPolylineMark;this.WB=false;break;}};IPCC.lP.prototype.lL=function(V){V.bF().set_cursor(this.bf);this.V=V;};IPCC.lP.prototype.fC=function(){this.V=false;};IPCC.lP.prototype.ab=function(){if(this.bi){if(arguments[0]){if(arguments[0]===true){if(this.O&&this.WB===false){this.V.dV().addMark(this.O);this.WB=true;this.V.co();}}}this.O=null;this.V.qj(null);this.V.bF().set_cursor(this.jm);this.bi=false;this.V.co();}};IPCC.lP.prototype.sB=function(){this.ab();};IPCC.lP.prototype.kv=function(C){if(C.domEvent.button===0){if(!this.bi){var bw=this.V.bF();this.jm=bw.get_cursor();bw.set_cursor(this.bf);this.bi=true;this.O=new IPCC.Web.UI.Mark(this.aP);this.O.get_points().addPoint(C.imagePoint);this.V.qj(this.O);}var bE=this.O.get_points();if(bE.get_length()>0){bE.setPoint(bE.get_length()-1,C.imagePoint);}bE.addPoint(C.imagePoint);this.sP=C.imagePoint;this.tX=C.windowPoint;this.V.co();}else{this.ab();}};IPCC.lP.prototype.wX=function(C){if(this.bi&&C.domEvent.button===0){var bE=this.O.get_points(),cL=bE.get_length(),WA,Wj;if(cL>2){var afn=true;while(afn){cL=bE.get_length();WA=bE.getPoint(cL-1);Wj=bE.getPoint(cL-2);if(WA.x===Wj.x&&WA.y===Wj.y){bE.removePoint(cL-1);}else{afn=false;}}}if(bE.get_length()>0){bE.setPoint(bE.get_length()-1,C.imagePoint);}this.V.qj(null);var qT={clientX:C.domEvent.clientX,clientY:C.domEvent.clientY};this.V.dV().addMark(this.O,qT);this.WB=true;this.V.co();}this.ab();};IPCC.lP.prototype.ld=function(C){if(C.domEvent.button!==0){this.ab();}if(this.bi){var bE=this.O.get_points();if(bE.get_length()>0){bE.setPoint(bE.get_length()-1,C.imagePoint);}this.V.co();}};IPCC.lP.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.lP.prototype.nh=function(){this.ab();};IPCC.io=true;IPCC.ef={adk:1,acc:2,ZQ:3,acA:4,age:5,HA:6,Lh:7,ahV:8,ahM:9,agM:10,agw:11,agl:12,agW:13,ahq:14,ado:15,aeM:16};IPCC.aiJ=null;IPCC.hg=function(Zp,aCl){this.V=false;this.Zp=Zp;var na=IPCC.Web.UI;var bx=aCl;if(!bx||bx===null){bx=IPCC.aiJ;}this.bx=bx;var amh={bo:bx.zoomInMenuItem,fA:IPCC.ef.adk,H:1.25};var ant={bo:bx.zoomOutMenuItem,fA:IPCC.ef.acc,H:1.25};var asq={bo:bx.fullImageMenuItem,H:na.FitType.FullImage};var arS={bo:bx.fullWidthMenuItem,H:na.FitType.FullWidth};var asj={bo:bx.fullHeightMenuItem,H:na.FitType.FullHeight};var aEg={bo:bx.oneToOneRatioMenuItem,H:na.FitType.OneToOne};var avI={bo:bx.actualSizeMenuItem,H:na.FitType.ActualSize};var aAR={bo:bx.rotateRightMenuItem,fA:IPCC.ef.ZQ,H:90};var aAs={bo:bx.rotateLeftMenuItem,fA:IPCC.ef.ZQ,H: -90};var aDp={bo:bx.mirrorHorizontalMenuItem,fA:IPCC.ef.acA};var aEr={bo:bx.mirrorVerticalMenuItem,fA:IPCC.ef.age};var St={bo:bx.panToolMenuItem,H:na.MouseTool.HandPan};var Wy={bo:bx.areaSelectionToolMenuItem,H:na.MouseTool.Select};var YE={bo:bx.zoomRectangleToolMenuItem,H:na.MouseTool.RectangleZoom};var Wn={bo:bx.flyingMagnifierToolMenuItem,H:na.MouseTool.Magnifier};var asZ={bo:bx.createTextMarkToolMenuItem,H:na.MouseTool.CreateTextMark};var asb={bo:bx.createLineMarkToolMenuItem,H:na.MouseTool.CreateLineMark};var asN={bo:bx.createRectangleMarkToolMenuItem,H:na.MouseTool.CreateRectangleMark};var asl={bo:bx.createEllipseMarkToolMenuItem,H:na.MouseTool.CreateEllipseMark};var apC={bo:bx.editMarksToolMenuItem,H:na.MouseTool.EditMarks};var asn={bo:bx.createStampMarkToolMenuItem,H:na.MouseTool.CreateStampMark};var arW={bo:bx.createHighlightMarkToolMenuItem,H:na.MouseTool.CreateHighlightTextMark};var aea={bN:55,cq:[{bo:bx.thicknessMenu.item1,H:1},{bo:bx.thicknessMenu.item2,H:2},{bo:bx.thicknessMenu.item3,H:3},{bo:bx.thicknessMenu.item4,H:4},{bo:bx.thicknessMenu.item5,H:5},{bo:bx.thicknessMenu.item6,H:6},{bo:bx.thicknessMenu.item7,H:7},{bo:bx.thicknessMenu.item8,H:8}]};var ayi={bN:145,cq:[{bo:bx.opacityMenu.translucent,H:127},{bo:bx.opacityMenu.opaque,H:255}]};var Pj={bo:bx.borderThicknessMenuItem,fA:IPCC.ef.HA,dG:'lineWidth',lY:aea};var PB={bo:bx.borderColorMenuItem,fA:IPCC.ef.Lh,dG:'lineColor'};var KF={bo:bx.fillColorMenuItem,fA:IPCC.ef.Lh,dG:'fillColor'};var aiF={bo:bx.lineThicknessMenuItem,fA:IPCC.ef.HA,dG:'lineWidth',lY:aea};var aiU={bo:bx.lineColorMenuItem,fA:IPCC.ef.Lh,dG:'lineColor'};var asr={bo:bx.fontMenuItem,fA:IPCC.ef.ahV};var Nk={bo:bx.opacityMenuItem,fA:IPCC.ef.HA,dG:'opacity',lY:ayi};var aCq={bo:bx.moveToBackMenuItem,fA:IPCC.ef.agM};var aCx={bo:bx.moveBackwardMenuItem,fA:IPCC.ef.agw};var aBW={bo:bx.moveForwardMenuItem,fA:IPCC.ef.agl};var aBX={bo:bx.moveToFrontMenuItem,fA:IPCC.ef.agW};var yu={bo:bx.deleteMarkMenuItem,fA:IPCC.ef.ahq};var alV={bN:180,cq:[asq,arS,asj,aEg,avI]};var alQ={bo:bx.zoomToFitMenuItem,fA:IPCC.ef.ado,lY:alV};var ayP={bN:200,cq:[aAR,aAs,aDp,aEr]};var axs={bo:bx.orientationMenuItem,lY:ayP};var PO;if(IPCC.ar){if(IPCC.io===false){PO={bN:180,cq:[St,YE,Wn,Wy,null]};}else{PO={bN:180,cq:[St,YE,Wn,Wy,null,apC,asZ,asb,asN,asl,asn,arW]};}}else{PO={bN:180,cq:[St,YE,Wn,Wy]};}var aDw={bo:bx.mouseToolsMenuItem,fA:IPCC.ef.aeM,lY:PO};var aAP={bN:150,cq:[KF,Pj,PB,null,Nk]};var apN={bN:150,cq:[KF,Pj,PB,null,null]};var aAr={bN:150,bo:bx.rectangleMarkPropertiesMenuItem,lY:aAP};var ara={bN:150,bo:bx.rectangleMarkPropertiesMenuItem,lY:apN};var anb={bN:150,cq:[asr,KF,Pj,PB,null,null,null,Nk]};var amI={bo:bx.textMarkPropertiesMenuItem,lY:anb};var ayn={bN:150,cq:[KF,Pj,PB,null,Nk]};var ayk={bo:bx.polygonMarkPropertiesMenuItem,lY:ayn};var axh={bN:140,cq:[aiF,aiU,null,Nk]};var axS={bo:bx.polylineMarkPropertiesMenuItem,lY:axh};var aBp={bN:140,cq:[aiF,aiU,null,null]};var aCg={bo:bx.lineMarkPropertiesMenuItem,lY:aBp};var aCw={bN:140,cq:[aBX,aBW,aCx,aCq]};var xE={bo:bx.markOrderingMenuItem,lY:aCw};var apL={bN:150,cq:[KF]};var alr={bo:bx.stampMarkPropertiesMenuItem,lY:apL};this.anC={bN:180,cq:[amh,ant,alQ,axs,aDw]};this.amz={bN:140,cq:[amI,xE,yu]};this.azM={bN:140,cq:[aAr,xE,yu]};this.aoJ={bN:140,cq:[alr,xE,yu]};this.aop={bN:140,cq:[null,xE,yu]};this.apV={bN:140,cq:[ara,xE,yu]};this.axm={bN:140,cq:[ayk,xE,yu]};this.ayW={bN:140,cq:[axS,xE,yu]};this.azk={bN:140,cq:[aCg,xE,yu]};this.aBU={bN:140,cq:[alr,null,yu]};};IPCC.hg.prototype.lL=function(V){this.V=V;};IPCC.hg.prototype.fC=function(){this.V=false;};IPCC.hg.prototype.ab=function(){};IPCC.hg.prototype.Ni=function(C){var jb;if(C.mark&&this.Zp){var Pr=C.mark.jg();switch(C.mark.get_type()){case IPCC.Web.UI.MarkType.Line:jb=this.azk;break;case IPCC.Web.UI.MarkType.Polyline:jb=this.ayW;break;case IPCC.Web.UI.MarkType.Rectangle:jb=this.azM;break;case IPCC.Web.UI.MarkType.Ellipse:jb=this.apV;break;case IPCC.Web.UI.MarkType.Polygon:jb=this.axm;break;case IPCC.Web.UI.MarkType.Text:jb=this.amz;break;case IPCC.Web.UI.MarkType.Stamp:if(Pr===true){jb=this.aop;}else{jb=this.aoJ;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(C.mark.mV==='y'){jb=this.aBU;}break;}}if(!jb){jb=this.anC;}var ya=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var wi=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var ajG=new IPCC.Web.UI.Point(C.domEvent.clientX+ya,C.domEvent.clientY+wi);var G=this;function xG(am){if(um){var bO=am.target;if(bO&&bO===null){return;}var Dn,amV;while(bO&&bO!==document.body&&bO.parentNode!==null){if(bO&&bO!==null){if(bO===um){amV=true;}if(!Dn&&bO.ImGearCommand){Dn=bO.ImGearCommand;}bO=bO.parentNode;}}if(!amV||Dn){IPCC.Web.UI.ao.removeHandler(document.body,'mousedown',xG);IPCC.Web.UI.ao.removeHandler(document.body,'mousemove',ahZ);document.body.removeChild(um);um=null;if(Dn){Dn.VD=C;G.apB(Dn);}}}};function abA(Hn,BE,zh,Gv){var gI=false,K,bO;for(K=0;K<BE.length;K++){if(Hn===BE[K]){gI=true;}}if(!gI&&Hn.ImGearType==='menu'){Hn.style.display='none';}else{Hn.style.display='block';}bO=Hn.firstChild;while(bO){if(bO.ImGearType==='menuItemHighlight'){if(bO===Gv){bO.style.display='block';}else{bO.style.display='none';}}if(bO.firstChild){abA(bO,BE,zh,Gv);}bO=bO.nextSibling;}};function ahZ(am){if(um){var bO=am.target;if(bO&&bO===null){return;}var BE=[um],zh,Gv;while(bO&&bO!==document.body&&bO.parentNode!==null){if(!zh&&bO.ImGearType==='menuItem'){zh=bO;}if(bO.ImGearType==='menu'){BE.push(bO);}bO=bO.parentNode;}if(zh){bO=zh.firstChild;while(bO){if(bO.ImGearType==='menuItemHighlight'){Gv=bO;}else if(bO.ImGearType==='menu'){BE.push(bO);}bO=bO.nextSibling;}}abA(um,BE,zh,Gv);}};var aa;if(window.innerWidth){aa={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aa={x:ya,y:wi,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aa={x:ya,y:wi,width:document.body.clientWidth,height:document.body.clientHeight};}var um=this.aix(jb,false,false,ajG,ajG,true,aa,document.body,C.mark);abA(um,[um],null,null);document.body.appendChild(um);IPCC.Web.UI.ao.addHandler(document.body,'mousedown',xG);IPCC.Web.UI.ao.addHandler(document.body,'mousemove',ahZ);};IPCC.hg.prototype.aix=function(jb,fA,dG,YM,TO,Gl,aa,axB,O){var ajs=24,acz=1;var K,aaD=0;for(K=0;K<jb.cq.length;K++){var aCG=jb.cq[K];if(aCG){aaD+=ajs;}else{aaD+=acz;}}var QT;if(Gl){QT=TO.x+jb.bN;if(QT>aa.x+aa.width){Gl=false;}}if(!Gl){QT=YM.x-jb.bN;if(QT<aa.x){Gl=true;}}var rQ={x:TO.x,y:TO.y};if(!Gl){rQ={x:YM.x-jb.bN-2,y:YM.y-2};}var alU=aa.y+aa.height-aaD-8;if(rQ.y>alU){rQ.y=alU;}if(rQ.y<aa.y+2){rQ.y=aa.y+2;}function fv(kE){var sT=document.createElement('div');var K;for(K in kE){if(kE.hasOwnProperty(K)){sT.style[K]=kE[K];}}return sT;};var Og=fv({zIndex:2,width:jb.bN+'px',left:rQ.x+'px',top:rQ.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});Og.ImGearType='menu';for(K=0;K<jb.cq.length;K++){var yG=jb.cq[K];var wK;if(yG){wK=fv({position:'relative',height:'24px'});wK.ImGearType='menuItem';var CO=fv({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});wK.appendChild(CO);var aiA=fv({textOverflow:'ellipsis',whiteSpace:'nowrap',width:jb.bN-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});wK.appendChild(aiA);var aie=fv({display:'none',position:'absolute',height:'24px',width:jb.bN+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});aie.ImGearType='menuItemHighlight';wK.appendChild(aie);aiA.appendChild(document.createTextNode(yG.bo));var OZ=yG.fA||fA;var GL=yG.dG||dG;if(GL){if(OZ===IPCC.ef.HA){var avx=O['get_'+GL]();if(avx===yG.H){if(this.V.mN()){CO.style.backgroundImage='url(\''+this.V.mN()+'/MenuIcons.png'+'\')';}else{CO.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}CO.style.backgroundPosition='0px';}}else if(OZ===IPCC.ef.ahM){var avt=O['get_'+GL]();if(avt){if(this.V.mN()){CO.style.backgroundImage='url(\''+this.V.mN()+'/MenuIcons.png'+'\')';}else{CO.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}CO.style.backgroundPosition='24px 0px';}}}if(!yG.lY){wK.ImGearCommand={fA:OZ,dG:GL,H:yG.H};}else{var aCt={x:aa.x-rQ.x,y:aa.y-rQ.y,width:aa.width,height:aa.height};this.aix(yG.lY,OZ,GL,{x:0,y: -1},{x:jb.bN,y: -1},Gl,aCt,wK,O);}rQ.y+=ajs;}else{wK=fv({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});rQ.y+=acz;}Og.appendChild(wK);}axB.appendChild(Og);return Og;};IPCC.hg.prototype.aqr=function(O,dP,V){var ya=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var wi=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aa;if(window.innerWidth){aa={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aa={x:ya,y:wi,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aa={x:ya,y:wi,width:document.body.clientWidth,height:document.body.clientHeight};}var nR=aa.x+aa.width/2;var oq=aa.y+aa.height/2;var iM=document.createElement('div');iM.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(oq-85)+'px;left:'+(nR-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bx.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bx.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bx.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bx.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bx.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bx.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(iM);var UE=document.getElementById('ImGearColorRed');var ajT=document.getElementById('ImGearColorGreen');var ani=document.getElementById('ImGearColorBlue');var Hh=document.getElementById('ImGearColorOKButton');var Ja=document.getElementById('ImGearColorCancelButton');var UY=O['get_'+dP]();var NK;if(UY.length===7&&UY.charAt(0)==='#'){NK=parseInt(UY.slice(1),16);}UE.value=(NK>>16);ajT.value=((NK>>8)&255);ani.value=(NK&255);function QY(aam){var H=Math.floor(+(aam.value));if(!isFinite(H)){H=0;}if(H<0){H=0;}if(H>255){H=255;}return H;};function Ae(){IPCC.Web.UI.ao.removeHandler(Hh,'click',IR);IPCC.Web.UI.ao.removeHandler(Ja,'click',JN);IPCC.Web.UI.ao.removeHandler(document.body,'mousedown',xG);};function IR(){var eK=QY(UE)*65536+QY(ajT)*256+QY(ani);O['set_'+dP]('#'+(0x1000000+eK).toString(16).slice(1));Ae();document.body.removeChild(iM);iM=null;V.co();};function JN(){Ae();document.body.removeChild(iM);iM=null;};function xG(am){if(iM){var bO=am.target;var LL;while(bO!==document.body){if(bO===iM){LL=true;}bO=bO.parentNode;}if(!LL){Ae();document.body.removeChild(iM);iM=null;}}};IPCC.Web.UI.ao.addHandler(Hh,'click',IR);IPCC.Web.UI.ao.addHandler(Ja,'click',JN);IPCC.Web.UI.ao.addHandler(document.body,'mousedown',xG);UE.focus();};IPCC.hg.prototype.arm=function(O,V){var ya=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var wi=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aa;if(window.innerWidth){aa={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aa={x:ya,y:wi,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aa={x:ya,y:wi,width:document.body.clientWidth,height:document.body.clientHeight};}var nR=aa.x+aa.width/2;var oq=aa.y+aa.height/2;var iM=document.createElement('div');iM.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(oq-85)+'px;left:'+(nR-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bx.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bx.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bx.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bx.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bx.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bx.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bx.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bx.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bx.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(iM);var abV=document.getElementById('ImGearFontFamily');var adE=document.getElementById('ImGearFontSize');var acG=document.getElementById('ImGearFontItalic');var acW=document.getElementById('ImGearFontBold');var acv=document.getElementById('ImGearFontUnderline');var act=document.getElementById('ImGearFontStrikeout');var Hh=document.getElementById('ImGearFontOKButton');var Ja=document.getElementById('ImGearFontCancelButton');var ayc=O.get_fontName();var ayC=O.get_fontSize();var tP=O.get_fontStyle();abV.value=ayc;adE.value=ayC;acG.checked=tP&IPCC.Web.UI.FontStyle.Italic;acW.checked=tP&IPCC.Web.UI.FontStyle.Bold;acv.checked=tP&IPCC.Web.UI.FontStyle.Underline;act.checked=tP&IPCC.Web.UI.FontStyle.Strikeout;function ats(aam){var H=Math.floor(+(aam.value));if(!isFinite(H)){H=12;}if(H<0.1){H=0.1;}if(H>288){H=288;}return H;};function Ae(){IPCC.Web.UI.ao.removeHandler(Hh,'click',IR);IPCC.Web.UI.ao.removeHandler(Ja,'click',JN);IPCC.Web.UI.ao.removeHandler(document.body,'mousedown',xG);};function IR(){O.set_fontName(abV.value);var cJ=ats(adE);O.set_fontSize(cJ);var al=0;if(acG.checked){al|=IPCC.Web.UI.FontStyle.Italic;}if(acW.checked){al|=IPCC.Web.UI.FontStyle.Bold;}if(acv.checked){al|=IPCC.Web.UI.FontStyle.Underline;}if(act.checked){al|=IPCC.Web.UI.FontStyle.Strikeout;}O.set_fontStyle(al);Ae();document.body.removeChild(iM);iM=null;V.co();};function JN(){Ae();document.body.removeChild(iM);iM=null;};function xG(am){if(iM){var bO=am.target;var LL;while(bO!==document.body){if(bO===iM){LL=true;}bO=bO.parentNode;}if(!LL){Ae();document.body.removeChild(iM);iM=null;}}};IPCC.Web.UI.ao.addHandler(Hh,'click',IR);IPCC.Web.UI.ao.addHandler(Ja,'click',JN);IPCC.Web.UI.ao.addHandler(document.body,'mousedown',xG);abV.focus();};IPCC.hg.prototype.apB=function(C){var O=C.VD.mark;switch(C.fA){case IPCC.ef.HA:O['set_'+C.dG](C.H);this.V.co();break;case IPCC.ef.Lh:this.aqr(O,C.dG,this.V);break;case IPCC.ef.ahV:this.arm(O,this.V);break;case IPCC.ef.ahM:O['set_'+C.dG](!O['get_'+C.dG]());this.V.co();break;case IPCC.ef.agM:O.moveToBack();this.V.co();break;case IPCC.ef.agw:O.moveBackward();this.V.co();break;case IPCC.ef.agl:O.moveForward();this.V.co();break;case IPCC.ef.agW:O.moveToFront();this.V.co();break;case IPCC.ef.ahq:O.removeFromPage();this.V.co();break;default:this.V.axe(C);break;}};IPCC.cQ=function(){this.V=false;this.GP=0;this.aDJ=1;this.ang=2;this.abQ=3;};IPCC.cQ.prototype.lL=function(V){this.V=V;this.cY=this.GP;};IPCC.cQ.prototype.fC=function(){this.V=false;};IPCC.cQ.prototype.ab=function(){this.cY=this.GP;};IPCC.cQ.prototype.akR=function(C){var aqb=new Date()-this.aqc;if(aqb<750){var fz=this.ael.x-C.windowPoint.x;var er=this.ael.y-C.windowPoint.y;var gr=fz*fz+er*er;if(gr<2500){return true;}}return false;};IPCC.cQ.prototype.adC=function(C){this.aqc=new Date();this.ael=new IPCC.Web.UI.Point(C.windowPoint.x,C.windowPoint.y);};IPCC.cQ.prototype.Oi=function(C){var am=C.domEvent.rawEvent;if(am.touches.length===1){if(this.cY===this.ang&&this.akR(C)){this.cY=this.abQ;}else{this.cY=this.aDJ;}this.adC(C);this.V.hc('kv',C);}else{this.cY=this.GP;this.V.hc('sB',C);}};IPCC.cQ.prototype.NT=function(C){var am=C.domEvent.rawEvent;if(am.touches.length===1){this.V.hc('ld',C);}};IPCC.cQ.prototype.Nc=function(C){var am=C.domEvent.rawEvent;if(am.touches.length===0){if(this.akR(C)){if(this.cY===this.abQ){this.cY=this.GP;this.V.hc('jz',C);this.V.hc('wX',C);}else{this.adC(C);this.cY=this.ang;this.V.hc('jz',C);}}else{this.cY=this.GP;this.V.hc('jz',C);}}};IPCC.cQ.prototype.HC=function(C){this.V.hc('sB',C);};IPCC.df=function(ahO){this.ahO=ahO;this.abg=0;this.OT=1;this.PJ=2;this.aan=3;this.abm=4;this.cY=this.abg;this.V=false;this.wU=0;};IPCC.df.prototype.lL=function(V){this.V=V;this.bw=V.bF();};IPCC.df.prototype.fC=function(){this.V=false;};IPCC.df.prototype.ab=function(){if(this.cY===this.PJ){this.V.bF().hideMagnifier();}this.cY=this.abg;};IPCC.df.prototype.Oi=function(C){var am=C.domEvent.rawEvent;switch(this.cY){case this.abg:if(am.touches.length===1){this.apW(C);}else if(am.touches.length===2){this.ajf(C);}else if(am.touches.length===3){this.Xu(C);}else{this.ab();}break;case this.OT:if(am.touches.length===2){this.ajf(C);}else if(am.touches.length===3){this.Xu(C);}else{this.ab();}break;case this.abm:if(am.touches.length!==3){this.ab();}break;case this.PJ:this.ab();break;case this.aan:if(am.touches.length===3){this.Xu(C);}else if(am.touches.length!==2){this.ab();}break;}};IPCC.df.prototype.NT=function(C){switch(this.cY){case this.OT:this.wU++;break;case this.PJ:this.afx(C);break;case this.aan:this.ays(C);break;case this.abm:this.apy(C);break;}};IPCC.df.prototype.Nc=function(){this.ab();};IPCC.df.prototype.HC=function(){this.ab();};IPCC.df.prototype.apW=function(C){this.cY=this.OT;this.wU++;var aBn=this.wU;var G=this;function awT(){if(G.cY===this.OT&&aBn===G.wU){G.arl(C);}};setTimeout(awT,1000);};IPCC.df.prototype.arl=function(C){this.V.hc('sB',C);this.afx(C);this.cY=this.PJ;};IPCC.df.prototype.Xu=function(C){var am=C.domEvent.rawEvent;if(am.touches.length!==3){this.ab();return;}var iR=am.touches[0];var dQ={x:iR.screenX,y:iR.screenY};var dn=this.bw.gh();dn.xT();this.QK=dQ;this.awR=dQ;this.YH=dn.transform(dQ);this.cY=this.abm;this.aFp=this.bw.gh();this.acV=true;this.ace=true;};IPCC.df.prototype.apy=function(C){var am=C.domEvent.rawEvent;if(am.touches.length!==3){this.ab();return;}var iR=am.touches[0];var dQ={x:iR.screenX,y:iR.screenY};var avq=Math.abs(dQ.x-this.QK.x);var awW=Math.abs(dQ.y-this.QK.y);if(avq>35){this.ace=false;}if(awW>35){this.acV=false;}if(this.acV){dQ.y=this.QK.y;}if(this.ace){dQ.x=this.QK.x;}this.awR=dQ;var bg=this.bw.gh();var bu=this.V.eC();var bz=this.V.dB();bg.ZF(this.YH,dQ);bg.ka(bz,bu);this.bw.ic(bg);};IPCC.df.prototype.aEm=function(){};IPCC.df.prototype.akK=function(C){var am=C.domEvent.rawEvent;if(am.touches.length!==2){this.ab();return{};}var QB=am.touches[0];var OP=am.touches[1];var fz=QB.screenX-OP.screenX;var er=QB.screenY-OP.screenY;var pV=Math.sqrt(fz*fz+er*er);var ju=Math.atan2(fz,er)*180/Math.PI;var ba={x:(QB.screenX+OP.screenX)/2,y:(QB.screenY+OP.screenY)/2};return{pV:pV,ju:ju,ajg:ba};};IPCC.df.prototype.ajf=function(C){this.cY=this.aan;this.aBB=this.akK(C);this.Qk=this.aBB;var dn=this.bw.gh();dn.xT();this.YH=dn.transform(this.Qk.ajg);this.Ie=this.Qk.ju;};IPCC.df.prototype.afx=function(C){var am=C.domEvent.rawEvent;var iR=am.touches[0];var dQ={x:iR.screenX,y:iR.screenY};this.bw.showMagnifier(dQ);};IPCC.df.prototype.ays=function(C){var AB=this.akK(C);var aF=AB.pV/this.Qk.pV;var bg=this.bw.gh();var bu=this.V.eC();var bz=this.V.dB();bg.scale(aF,aF);var BU=this.Ie-AB.ju;var aeR=this.Ie-AB.ju-360;var afM=this.Ie-AB.ju+360;if(Math.abs(BU)>Math.abs(aeR)){BU=aeR;}if(Math.abs(BU)>Math.abs(afM)){BU=afM;}if(BU< -40){bg.rotate(-90);this.Ie=AB.ju;}else if(BU>40){bg.rotate(90);this.Ie=AB.ju;}bg.ZF(this.YH,AB.ajg);bg.ka(bz,bu);this.bw.ic(bg);this.Qk=AB;};IPCC.df.prototype.Uy=function(C){var bg=this.bw.gh();var bu=this.V.eC();var bz=this.V.dB();bg.Xg(IPCC.Web.UI.FitType.FullImage,bz,bu);bg.ka(bz,bu);this.bw.ic(bg);};IPCC.df.prototype.nh=function(){this.ab();};IPCC.nJ=function(){this.bi=false;this.V=false;};IPCC.nJ.prototype.lL=function(V){V.bF().set_cursor(IPCC.an.Text);this.V=V;};IPCC.nJ.prototype.fC=function(){this.V=false;};IPCC.nJ.prototype.ab=function(){if(this.bi){this.V.bF().UB();this.V.bF().set_cursor(this.jm);this.bi=false;}};IPCC.nJ.prototype.sB=function(){this.ab();};IPCC.nJ.prototype.kv=function(C){if(C.domEvent.button===0){var bw=this.V.bF();this.jm=bw.get_cursor();bw.set_cursor(IPCC.an.Text);this.bi=true;var cb=this.V.JL(C.constrainedImagePoint);this.V.gJ=cb;if(!cb){return;}this.V.Ad(cb);bw.Ad(cb);bw.vB(undefined);this.V.co();}};IPCC.nJ.prototype.ld=function(C){var V=this.V;V.aCd=true;if(C.domEvent.button!==0){this.ab();}if(this.bi){var bw=V.bF();var cb=V.JL(C.constrainedImagePoint);var iW=bw.Gg();if(iW===cb){return;}V.vB(cb);V.co();}};IPCC.nJ.prototype.jz=function(C){if(C.domEvent.button===0){this.bi=false;}var V=this.V;var bw=this.V.bF();var dw=bw.jl.length;if(dw===0){this.ab();return;}var bK=bw.jl[0].cb;var dk=bw.jl[dw-1].cb;if(V.Il===true){if(bK>dk){bK=dk;}var K;var ku=IPCC.CD();this.O=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.O.bK=bK;this.O.dm=V.Ci();this.O.cw=dw;this.O.set_fillColor(V.us);this.O.mV='y';this.O.dM=ku;for(K=0;K<bw.jl.length;K++){var by=bw.jl[K];var FZ=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var BS=by.O.eg();FZ.set_fillColor(V.us);FZ.set_opacity(by.O.get_opacity());FZ.set_rectangle(BS);FZ.dM=ku;FZ.mV='y';this.V.dV().addMark(FZ);}bw.jl=[];if(dw>0){this.V.dV().addMark(this.O);}V.kT().removeAllMarks();}dw=bw.jl.length;var aax=new IPCC.Web.UI.TextSelectedEventArgs();aax.text=V.Ci();V.ai('selectTextMouseToolCompleted',aax);V.co();this.ab();};IPCC.nJ.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.nJ.prototype.nh=function(){this.ab();};IPCC.afT=function(qg){var bw;var aY;var kV;var bu;var bQ=this;var AT;var Gx='';var _debug=false;var kR=IPCC.Web.UI.DebugErrorLevel.Production;var ng=[];var bP=new IPCC.Web.UI.gK();var bH;var fJ;var qL=null;var Da=false;var vV=false;var XW;var Kk=IPCC.Web.UI.ImGearArtDataServices.None;var GQ=false;var nz='';var ni;var ajy=false;var ahS=false;var yi=0;var uv=true;var DW;var gn;var nC=false;var afs=true,lp=false;var aiP=false;this.PF=0.0;this.hh=function(yT){if(!_debug){return false;}return kR>=yT;};this.iS=function(hm,Jf,aD){IPCC.ei.iS(hm,Jf,aD,Gx,AT);};this.T=function(fi,gW){if(!this.hh(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aV=fi+'() threw an exception ('+gW.name+'), "'+gW.message+'"';aV=aV.replace(/\n/g," ");this.iS(aV,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);bQ.ai('exceptionThrown',{"function_name":fi,"exception":gW,"pageNumber":bQ.aM});};this.get_debug=function(){return _debug;};this.set_debug=function(H){var xw= ! !H;if(_debug===xw){return;}_debug=xw;this.aA('debug');};this.or=function(){return kR;};this.rC=function(H){if(kR===H){return;}kR=H;this.aA('debugErrorLevel');};this.adf=function(H){Gx=H;};this.asY=function(){return Gx;};this.adB=function(H){AT=H;};this.en=function(aBC){this.pz(false);var K;for(K=ng.length-1;K>=0;K--){if(ng[K]instanceof IPCC.lP){ng[K].ab(true);}else{ng[K].ab();}if(ng[K]instanceof IPCC.nK){ng[K].fC(true);}else{ng[K].fC();}}ng=aBC;bw.set_cursor(IPCC.an.Default);for(K=0;K<ng.length;K++){ng[K].lL(this);}};this.aGi=function(){var K;for(K=0;K<ng.length;K++){ng[K].ab();}};this.hc=function(amx,C){var K;for(K=0;K<ng.length;K++){if(C&&C.akW&&C.akW()){return;}if(ng[K][amx]){ng[K][amx](C);}}};this.axw=function(hL,cU){switch(hL){case 'touchstart':kV.TS&&kV.TS(cU);break;case 'touchmove':kV.YY&&kV.YY(cU);break;case 'touchend':kV.aag&&kV.aag(cU);break;case 'doubleTap':kV.aiR&&kV.aiR(cU);break;}};this.iT=function(L){bP.addHandler('propertyChanged',L);};this.kA=function(L){bP.removeHandler('propertyChanged',L);};this.add_mouseDown=function(L){bP.addHandler('mouseDown',L);};this.remove_mouseDown=function(L){bP.removeHandler('mouseDown',L);};this.add_mouseMove=function(L){bP.addHandler('mouseMove',L);};this.remove_mouseMove=function(L){bP.removeHandler('mouseMove',L);};this.add_mouseUp=function(L){bP.addHandler('mouseUp',L);};this.remove_mouseUp=function(L){bP.removeHandler('mouseUp',L);};this.add_contextMenu=function(L){bP.addHandler('contextMenu',L);};this.remove_contextMenu=function(L){bP.removeHandler('contextMenu',L);};this.avR=function(L){bP.addHandler('contextMenuCommand',L);};this.aEd=function(L){bP.removeHandler('contextMenuCommand',L);};this.add_mouseWheel=function(L){bP.addHandler('mouseWheel',L);};this.remove_mouseWheel=function(L){bP.removeHandler('mouseWheel',L);};this.add_mouseOut=function(L){bP.addHandler('mouseOut',L);};this.remove_mouseOut=function(L){bP.removeHandler('mouseOut',L);};this.ahQ=function(L){bP.addHandler('resize',L);};this.aFh=function(L){bP.removeHandler('resize',L);};this.awi=function(L){bP.addHandler('userModifiedViewState',L);};this.aFZ=function(L){bP.removeHandler('userModifiedViewState',L);};this.add_scaleChanged=function(L){bP.addHandler('scaleChanged',L);};this.remove_scaleChanged=function(L){bP.removeHandler('scaleChanged',L);};this.add_markAdded=function(L){bP.addHandler('markAdded',L);};this.remove_markAdded=function(L){bP.removeHandler('markAdded',L);};this.add_markCreating=function(L){bP.addHandler('markCreating',L);};this.remove_markCreating=function(L){bP.removeHandler('markCreating',L);};this.add_markChanged=function(L){bP.addHandler('markChanged',L);};this.remove_markChanged=function(L){bP.removeHandler('markChanged',L);};this.add_inProgressMarkChanged=function(L){bP.addHandler('inProgressMarkChanged',L);};this.remove_inProgressMarkChanged=function(L){bP.removeHandler('inProgressMarkChanged',L);};this.add_markRemoved=function(L){bP.addHandler('markRemoved',L);};this.remove_markRemoved=function(L){bP.removeHandler('markRemoved',L);};this.add_markReordered=function(L){bP.addHandler('markReordered',L);};this.remove_markReordered=function(L){bP.removeHandler('markReordered',L);};this.add_marksLoaded=function(L){bP.addHandler('marksLoaded',L);};this.remove_marksLoaded=function(L){bP.removeHandler('marksLoaded',L);};this.add_marksSaved=function(L){bP.addHandler('marksSaved',L);};this.remove_marksSaved=function(L){bP.removeHandler('marksSaved',L);};this.add_markSelectionChanged=function(L){bP.addHandler('markSelectionChanged',L);};this.remove_markSelectionChanged=function(L){bP.removeHandler('markSelectionChanged',L);};this.add_markTextSelectionChanged=function(L){bP.addHandler('markTextSelectionChanged',L);};this.remove_markTextSelectionChanged=function(L){bP.removeHandler('markTextSelectionChanged',L);};this.add_pageOpenFailed=function(L){bP.addHandler('pageOpenFailed',L);};this.add_pageDisplayed=function(L){bP.addHandler('pageDisplayed',L);};this.remove_pageOpenFailed=function(L){bP.removeHandler('pageOpenFailed',L);};this.add_textPageReady=function(L){bP.addHandler('textPageReady',L);};this.remove_textPageReady=function(L){bP.removeHandler('textPageReady',L);};this.add_selectTextMouseToolCompleted=function(L){bP.addHandler('selectTextMouseToolCompleted',L);};this.remove_selectTextMouseToolCompleted=function(L){bP.removeHandler('selectTextMouseToolCompleted',L);};this.add_exceptionThrown=function(L){bP.dv('exceptionThrown',L);};this.remove_exceptionThrown=function(L){bP.cu('exceptionThrown',L);};this.add_textExtractionFailed=function(L){bP.dv('textExtractionFailed',L);};this.remove_textExtractionFailed=function(L){bP.cu('textExtractionFailed',L);};this.aA=function(dP,xD){var L=bP.getHandler("propertyChanged");if(L){L(this,new IPCC.pR(dP,xD));}};this.kg=function(){var _parent=document.getElementById(AT);return _parent;};this.bF=function(){return bw;};this.aEO=function(){return bP;};function Ee(aj,C){GQ=true;C.pageIndex=bQ.aM;bQ.ai('markAdded',C);bQ.hc('iA',C);};function Eg(aj,C){GQ=true;C.pageIndex=bQ.aM;bQ.ai('markChanged',C);bQ.hc('sZ',C);};function abc(aj,C){C=new IPCC.Web.UI.MarkEventArgs();C.mark=qL;C.pageIndex=bQ.aM;bQ.ai('inProgressMarkChanged',C);bQ.hc('_onInProgressMarkChanged',C);};function CU(aj,C){GQ=true;C.pageIndex=bQ.aM;bQ.ai('markRemoved',C);bQ.hc('DN',C);};function avV(aj,C){bQ.ai('textPageReady',C);};function awG(aj,C){bQ.ai('textExtractionFailed',C);};function DQ(aj,C){GQ=true;C.pageIndex=bQ.aM;bQ.ai('markReordered',C);bQ.hc('ajU',C);};function CS(aj,C){C.pageIndex=bQ.aM;bQ.ai('marksLoaded',C);bQ.hc('akn',C);};function DF(aj,C){C.pageIndex=bQ.aM;bQ.ai('markSelectionChanged',C);bQ.hc('Dk',C);};function akJ(aj,C){C.pageIndex=bQ.aM;bQ.ai('markTextSelectionChanged',C);};this.ayY=function(aj,C){this.hc('_onTextMarkEditCompleted',C);};function Do(aj,C){C.pageIndex=bQ.aM;bQ.ai('propertyChanged',C);};this.kf=function(H){if(H===bH){return;}if(bH){bH.remove_markAdded(Ee);bH.remove_markChanged(Eg);bH.remove_markRemoved(CU);bH.remove_markReordered(DQ);bH.remove_marksLoaded(CS);bH.remove_markSelectionChanged(DF);bH.kA(Do);bH.Gy(true);}bH=H;if(bH){bH.add_markAdded(Ee);bH.add_markChanged(Eg);bH.add_markRemoved(CU);bH.add_markReordered(DQ);bH.add_marksLoaded(CS);bH.add_markSelectionChanged(DF);bH.add_markTextSelectionChanged(akJ);bH.iT(Do);}this.aA('artPage');};this.dV=function(){return bH;};this.Le=function(H){if(H===fJ){return;}if(fJ){fJ.remove_markAdded(Ee);fJ.remove_markChanged(Eg);fJ.remove_markRemoved(CU);fJ.remove_markReordered(DQ);fJ.remove_marksLoaded(CS);fJ.remove_markSelectionChanged(DF);fJ.kA(Do);fJ.Gy(true);}fJ=H;if(fJ){fJ.add_markAdded(Ee);fJ.add_markChanged(Eg);fJ.add_markRemoved(CU);fJ.add_markReordered(DQ);fJ.add_marksLoaded(CS);fJ.add_markSelectionChanged(DF);fJ.add_markTextSelectionChanged(akJ);fJ.iT(Do);}this.aA('documentArtPage');};this.PR=function(){return fJ;};this.kT=function(){return gn;};this.tQ=function(H){if(H===gn){return;}if(gn){gn.remove_markAdded(Ee);gn.remove_markChanged(Eg);gn.remove_markRemoved(CU);gn.remove_markReordered(DQ);gn.remove_marksLoaded(CS);gn.remove_markSelectionChanged(DF);gn.kA(Do);}gn=H;if(gn){gn.add_markAdded(Ee);gn.add_markChanged(Eg);gn.add_markRemoved(CU);gn.add_markReordered(DQ);gn.add_marksLoaded(CS);gn.add_markSelectionChanged(DF);gn.iT(Do);}this.aA('transientArtPage');};var hl;this.xQ=function(){if(!hl){if(IPCC.Web.UI.Mark){hl=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);hl.set_opacity(100);hl.set_fillColor('#3366CC');hl.set_fillVisible(true);}}return hl;};this.yM=function(H){Kk=H;this.aA('artServiceOption');};this.yL=function(){return Kk;};this.qj=function(O,pJ){if(qL===O){return;}if(qL){qL.remove_propertyChanged(abc);}if(O&& !qL){var C=new IPCC.Web.UI.MarkEventArgs();C.mark=pJ?pJ:O;C.pageIndex=this.aM;this.ai('markCreating',C);}qL=O;if(qL){qL.add_propertyChanged(abc);}this.aA('inProgressMark');};this.atI=function(){return qL;};this.vF=function(H){if(H===aY){return;}aY=H;this.Bk=false;bw.pE();this.aA('image');};this.dB=function(){return aY;};this.abX=function(H){if(H===Da){return;}Da=H;this.aA('Da');};this.abW=function(){return Da;};this.zg=function(O){this.pz(false);kV.aBb(O);vV=true;XW=O;this.aA('vV');};this.MJ=function(bK,dw){if(this.iz()&&this.cf().nr()===true){var fB=this.cf().fE();var K=bK;for(;K<bK+dw;K++){var dZ=fB.kK(K);var wB='#3366CC';var Ii='#3366CC';gn.SA(dZ.aa,Ii,wB,false,K);}}};this.aGf=function(bm){var K;try{var aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!hl){hl=bQ.xQ();}for(K in hl){if(hl.hasOwnProperty(K)){aw[K]=hl[K];}}aw.set_rectangle({x:bm.x,y:bm.y,width:bm.width,height:bm.height});bQ.qj(aw);gn.addMark(aw);return aw;}catch(apF){var aBO=apF.message;window.console.log(aBO);}};this.JL=function(cD){var GM;var fB;var YC;GM=bQ.cf();fB=bQ.cf().fE();function atM(Zw){var uj=Zw.vj();if((cD.x>=uj.x-10&&cD.x<=uj.x+uj.width+1)&&(cD.y>=uj.y-1&&cD.y<=uj.y+uj.height+1)){return true;}uj=undefined;};if(!YC){for(var K=0;K<fB.eI();K++){if(atM(fB.kK(K))){YC=K;break;}}}return YC;};this.aCd=false;this.Ad=function(cb){if(cb===undefined){return;}if(bQ.iz()&&bQ.cf().nr()===true){var Mu=bQ.cf().fE().eI();IPCC.aJ.nQ(cb,'textIndex',0,Mu);bQ.bF().Ad(cb);bQ.kT().DA(function(O){if(O.xy!==true){bQ.kT().wP(O);}});if(bQ.zf()===true){bQ.co();}}};this.Ra=function(){var Ew=bQ.bF().get_transientHighlightMarks();while(Ew.length>0){bQ.kT().removeMark(Ew.pop());}};this.OB=function(wo,dw){if(bQ.iz()&&bQ.cf().nr()===true){var K=wo;var fB=this.cf().fE();var dk=wo+dw;if(!hl){hl=bQ.xQ();}var Ew=bQ.bF().get_transientHighlightMarks();for(;K<dk;K++){var dZ=fB.kK(K);Ew.push(gn.aqD(dZ.aa,hl,K));}}};this.aGJ=function(aEF,dw){var bw=bQ.bF();for(var aK=dw-1;aK>dw;aK--){var by=bw.jl[aK];gn.removeMark(by.O);}};this.vB=function(cb){if(cb===undefined){return;}var dZ;var bw=bQ.bF();var iW=bw.Gg();var wB='#3366CC';var Ii='#3366CC';var cn=100;if(!hl){hl=bQ.xQ();}cn=hl.get_opacity();if(!cn){cn=100;}wB=hl.get_fillColor();if(wB===undefined){wB='#3366CC';}var fB=bQ.cf().fE();if(iW===undefined){dZ=fB.kK(cb);var O=gn.SA(dZ.aa,Ii,wB,false,cn,cb);bw.vB(cb,O,dZ.lk);return;}var aK;function akv(bD,aqI){for(aK=bw.jl.length-1;aK>=0;aK--){var by=bw.jl[aK];if(by.cb===bD){bw.jl.splice(aK,1);gn.removeMark(by.O);bw.azp(aqI);bw.amr(bD);return aK;}}return-1;};function LU(bD){dZ=fB.kK(bD);var ajr=gn.SA(dZ.aa,Ii,wB,false,cn,bD);if(bw.vB(bD,ajr,dZ.lk)===false){gn.removeMark(ajr);}};var RS=bw.acZ();var K;if(cb>iW){for(K=iW;K<=cb;K++){if(K===cb){if(K<RS){continue;}LU(K);}else if(K>=RS){if(K===iW){continue;}LU(K);}else{akv(K,cb);}}}else if(cb<iW){for(K=iW;K>=cb;K--){if(K===cb){if(K>=RS){continue;}LU(K);}else if(K<RS){if(K===iW){continue;}LU(K);}else{akv(K,cb);}}}};this.Ci=function(){var aeW="";try{var bw=bQ.bF();if(bQ.bF().IK()){var alK=bQ.cf().fE();if(bw.jl.length>0){var FC=[];for(var K=0;K<bw.jl.length;K++){FC.push(bw.jl[K].cb);}if(FC[0]>FC[1]){FC.reverse();}for(K=0;K<FC.length;K++){aeW+=alK.kK(FC[K]).atc();}}}return aeW;}catch(e){window.console.log(e.message);}};this.pz=function(aAe){if(vV){if(aAe){kV.azj();}vV=false;XW=null;this.ayY();this.aA('vV');bQ.co();}};this.afA=function(){return vV;};this.akl=function(){return XW;};this.MI=function(H){ahS=H;};this.Kx=function(){return ahS;};this.xu=function(H){if(H===yi){return;}yi=H;this.aA('yi');};this.Kj=function(){return yi;};this.Gy=function(H){if(bH){bH.Gy(H);}};this.FX=function(){if(bH){return bH.FX();}return true;};this.ags=function(aFJ){var bu=kV.acu(this.kg());this.anI(bu);};this.anI=function(H){if(H===bu){return;}bu=H;this.aA('windowSpace');};this.eC=function(){return bu;};this.co=function(){kV.co(aY,bw,bu);};this.uV=function(H){ni=H;};this.mN=function(){return ni;};this.cf=function(){return DW.cf();};var mv=0;this.nn=function(){return DW;};this.rw=function(H){if(H===this.nn()){return;}DW=H;if(DW){DW.wF(avV);DW.Bb(awG);}};this.iz=function(){return uv;};this.yW=function(H){uv=H;this.aA('textRequired');};this.nY=function(){return nC;};this.sJ=function(H){if(nC===H){return;}nC=H;this.aA('requireRequestsOptimize');};this.zf=function(){return afs;};this.XR=function(H){afs=H;this.aA('autoUpdate');};var pF=false;this.mI=function(){return pF;};this.qZ=function(H){if(typeof H!=="boolean"){return;}if(H===pF){return;}pF=H;if(bH){var aeh=false;bH.forEachMark(function(O){if(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){aeh=true;}});if(aeh===true){bH.qZ(pF);}}};this.ia=function(){return mv;};this.sm=function(H){if(mv===H){return;}if(isNaN(H)){return;}mv=H;this.aA('serviceResponseTimeout');};var ro='';this.VO=function(fN,bj){if(fN!==''){fN='/'+fN;}bj=bj||'';if(bj===null||bj===''){if(fN==='/Attributes'){if(/^[\x00-\x7F]*$/.test(aY.get_identifier())){return ro+'/Page/q/'+aY.aM.toString()+fN+'?DocumentID=u'+encodeURIComponent(aY.get_identifier());}else{return ro+'/Page/q/'+aY.aM.toString()+fN+'?DocumentID=e'+aY.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(aY.get_identifier())){return ro+'/Page/q/'+aY.aM.toString()+fN+'?DocumentID=u'+encodeURIComponent(aY.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return ro+'/Page/q/'+aY.aM.toString()+fN+'?DocumentID=e'+aY.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(aY.get_identifier())){return ro+'/Page/q/'+aY.aM.toString()+fN+'?DocumentID=u'+encodeURIComponent(aY.get_identifier())+'&'+bj;}else{return ro+'/Page/q/'+aY.aM.toString()+fN+'?DocumentID=e'+aY.get_encodedIdentifier()+'&'+bj;}}};this.arq=function(fN,bj){fN=fN||'Art';bj=bj||'';if(bj===null||bj===''){if(fN==='Art'){return ro+'/Page/q/'+aY.aM.toString()+'/'+fN+'?DocumentID=e'+aY.get_encodedIdentifier();}}else{return ro+'/Page/q/'+aY.aM.toString()+'/'+fN+'?DocumentID=e'+aY.get_encodedIdentifier()+'&'+bj;}};this.Et=function(zL){if(GQ===false){if(zL){zL();}return;}var yJ=new XMLHttpRequest();function lH(){if(zL){zL();}};var ayN=bH.saveToJson();yJ.open('POST',this.arq('Art'),true);yJ.setRequestHeader('Content-Type','application/json');yJ.onreadystatechange=function(){if(yJ.readyState!==4){return;}if(yJ.status!==200&&yJ.status!==304){return;}lH(yJ);};yJ.send(ayN);};this.nu=function(){return ro;};this.GC=function(H){ro=H;this.aA('imageHandlerUrl');if(!IPCC.Web.tW){if(IPCC.Web.wN===false){IPCC.Web.MH(H);}}};this.sn=function(){return ajy;};this.Mn=function(H){ajy=H;};this.RY=function(){return aiP;};this.acU=function(H){aiP=H;};this.ht=function(){return nz;};this.qv=function(H){nz=H;nz.tabIndex= -1;};this.dU=function(){return lp;};this.hX=function(H){if(typeof H!=="boolean"){return;}if(H===lp){return;}lp=H;};this.ayo=function(C){if(vV){this.pz(true);}else{this.ai('mouseDown',C);this.hc('kv',C);}};this.ayw=function(C){this.ai('mouseMove',C);this.hc('ld',C);};this.axD=function(C){this.ai('mouseUp',C);this.hc('jz',C);};this.axQ=function(C){this.ai('mouseWheel',C);this.hc('nh',C);};this.ayX=function(C){this.ai('mouseDoubleClick',C);this.hc('wX',C);};this.ayx=function(C){this.ai('contextMenu',C);this.hc('Ni',C);};this.axe=function(C){this.ai('contextMenuCommand',C);};this.ayt=function(C){this.ai('mouseOut',C);this.hc('pM',C);};this.ayG=function(C){this.ai('touchStart',C);this.hc('kv',C);};this.axX=function(C){this.ai('touchMove',C);this.hc('ld',C);};this.ayE=function(C){this.ai('touchEnd',C);this.hc('jz',C);};this.ayz=function(C){this.ai('touchCancel',C);this.hc('HC',C);};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){L(bQ,C);}};var ahb=function(V,qg){bw=new IPCC.aor();function oz(aj,C){bQ.ai('propertyChanged',C);};bw.iT(oz);if(IPCC.wE.CA()){kV=new IPCC.afV(V,qg);}else{kV=new IPCC.HI(V);}if(IPCC.ar){kV.qI=new IPCC.ar.aU(V);kV.awx=new IPCC.ar.aU(V);}};if(qg===false){ahb(this,false);}else{ahb(this,true);}return this;};IPCC.wE={CA:function(){var wd=IPCC.wE;if(wd.vs===null){
/*@cc_on@if(@_jscript)wd.vs=document.documentMode>8;@else@*/ wd.vs=true;/*@end@*/}return wd.vs;},vs:null};IPCC.an={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,es:function(bf){switch(bf){case IPCC.an.Default:case IPCC.an.Magnifier:case IPCC.an.None:case IPCC.an.RunMarks:return 'auto';case IPCC.an.Arrow:case IPCC.an.EditMarks:return 'default';case IPCC.an.Crosshair:case IPCC.an.RectangleZoom:case IPCC.an.AddRectangleMark:case IPCC.an.AddEllipseMark:case IPCC.an.AddLineMark:case IPCC.an.AddFreehandLineMark:case IPCC.an.AddPolygonMark:case IPCC.an.AddPolylineMark:case IPCC.an.AddTextMark:case IPCC.an.AddRectangleRedactionMark:case IPCC.an.AddImageStampMark:case IPCC.an.AddStampMark:return 'crosshair';case IPCC.an.Link:return 'pointer';case IPCC.an.HandOpen:case IPCC.an.HandClosed:case IPCC.an.Move:return 'move';case IPCC.an.ResizeN:return 'n-resize';case IPCC.an.ResizeE:return 'e-resize';case IPCC.an.ResizeS:return 's-resize';case IPCC.an.ResizeW:return 'w-resize';case IPCC.an.ResizeNW:return 'nw-resize';case IPCC.an.ResizeNE:return 'ne-resize';case IPCC.an.ResizeSE:return 'se-resize';case IPCC.an.ResizeSW:return 'sw-resize';case IPCC.an.Text:return 'text';}return 'auto';}};IPCC.aor=function(){var dn=new IPCC.eF();var FV=false;var vD;var sg;var Me=false;var Dv=new IPCC.Du(200,150,96,96);var ws={x:0,y:0};var Lt=3;var NA=0,Or=0;var gX=0.2;var uQ=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var CZ=new IPCC.eF();var He=0;var Jo=0;var Fx=false;var Vc;this.jl=[];var Yx=IPCC.Web.UI.ScrollBars.Auto;var Ew=[];this.get_transientHighlightMarks=function(){return Ew;};this.get_scrollBars=function(){return Yx;};this.get_overflow=function(){switch(Yx){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(H){Yx=H;this.aA('scrollBars');};var bP=new IPCC.Web.UI.gK();this.iT=function(L){bP.addHandler('propertyChanged',L);};this.kA=function(L){bP.removeHandler('propertyChanged',L);};this.aA=function(dP){var L=bP.getHandler('propertyChanged');if(L){L(this,new IPCC.pR(dP));}};var onSelectionChanged=function(bw){var C={};C.selectionIsVisible=FV;C.selectionRectangle=bw.yj();bw.aA('selection');};this.pE=function(){vD={x:0,y:0};sg={x:0,y:0};if(!FV){return;}FV=false;onSelectionChanged(this);};this.showSelection=function(fh){vD.x=fh.x;vD.y=fh.y;sg.x=fh.x+fh.width;sg.y=fh.y+fh.height;FV=true;onSelectionChanged(this);};this.Fy=function(cD){vD.x=cD.x;vD.y=cD.y;sg.x=cD.x;sg.y=cD.y;FV=true;onSelectionChanged(this);};this.BJ=function(cD){sg.x=cD.x;sg.y=cD.y;onSelectionChanged(this);};this.AP=function(){return FV;};this.yj=function(){var F=new IPCC.Web.UI.Rectangle(Math.min(vD.x,sg.x),Math.min(vD.y,sg.y),0,0);F.width=Math.max(vD.x,sg.x)-F.x;F.height=Math.max(vD.y,sg.y)-F.y;return F;};var JW=function(){if(!Me){CZ.anL();return;}CZ.Rk(dn);CZ.oD(-ws.x,-ws.y);CZ.scale(Lt,Lt);CZ.oD(Dv.width/2,Dv.height/2);};this.hideMagnifier=function(){Me=false;JW();this.aA('magnifierIsVisible');};this.showMagnifier=function(dQ){ws.x=dQ.x;ws.y=dQ.y;Me=true;JW();this.aA('magnifierWindowPosition');this.aA('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return Me;};this.get_magnifierWindowPosition=function(){return{x:ws.x,y:ws.y};};this.get_magnifierMagnification=function(){return Lt;};this.set_magnifierMagnification=function(H){Lt=H;JW();this.aA('magnifierMagnification');};this.QH=function(){return NA;};this.Yt=function(H){NA=H;this.aA('magnifierXOffset');};this.QI=function(){return Or;};this.Xw=function(H){Or=H;this.aA('magnifierYOffset');};this.vk=function(){return{width:Dv.width,height:Dv.height};};this.set_magnifierWindowSize=function(newMagnifierSize){Dv.width=newMagnifierSize.width;Dv.height=newMagnifierSize.height;JW();this.aA('magnifierWindowSize');};this.atF=function(){return CZ.clone();};this.gh=function(){return dn.clone();};this.SM=function(){return gX;};this.WR=function(H){gX=H;this.aA('markHandleSize');};this.zp=function(){return uQ;};this.Mv=function(H){uQ=H;this.aA('markHandleMode');};this.ic=function(H){if(H===dn||H.aBZ(dn)){return;}if(!H.adp()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}dn.Rk(H);JW();this.aA('displayedPageRectangle');};var aaz='0';this.get_presentationQuality=function(){return aaz;};this.set_presentationQuality=function(H){aaz=H;this.aA('presentationQuality');};var bf=IPCC.an.Default;this.get_cursor=function(){return bf;};this.set_cursor=function(H){if(bf!==H&&bf!== -1){bf=H;this.aA('cursor');}};var MT=IPCC.an.Default;this.Go=function(){if(MT===IPCC.an.Default){return bf;}return MT;};this.FA=function(H){if(MT!==H){MT=H;this.aA('markCursor');}};this.Ad=function(cb){He=cb;Fx=false;Jo=0;};this.OB=function(wo,dw){if(wo!==He){He=wo;}Jo=dw;Fx=true;};this.UB=function(){if(Fx===true){for(var K=0;K<this.jl.length;K++){this.jl[K].O.set_visible(false);}Fx=false;}};this.IK=function(){return Fx;};this.vB=function(cb,O,lk){Vc=cb;if(cb!==undefined){if(this.jl.length>0&&this.jl[this.jl.length-1].cb===cb){return false;}this.jl.push({cb:cb,O:O,lk:lk});Fx=true;Jo++;}else{this.jl=[];Jo=0;}return true;};this.Gg=function(){return Vc;};this.azp=function(H){if(H===undefined){return;}Vc=H;};var ajk;this.aGd=function(){return ajk;};this.amr=function(H){if(H===undefined){return;}ajk=H;};this.acZ=function(){return He;};this.aGm=function(){return He+Jo;};this.Ea=function(){return this.jl.length;};this.pE();this.hideMagnifier();return this;};IPCC.aU=function(){this.Rd=false;this.Ym=false;this.CX=true;this.Vx=false;this.Hg=false;this.zM=0;this.zk=0;return this;};IPCC.aU.viewerCounter=0;IPCC.aU.tileCounter=0;IPCC.aU.imageIDCounter=0;IPCC.aU.prototype.ahm=function(V){this.zn=IPCC.aU.viewerCounter.toString();IPCC.aU.viewerCounter++;this.V=V;if(IPCC.ar){this.qK=new IPCC.Web.UI.MarkCollection();}var G=this;function atJ(aj,C){G.aDC(C);};function xC(aj,C){G.aBw(C);};V.iT(atJ);V.add_markAdded(xC);V.add_markChanged(xC);V.add_inProgressMarkChanged(xC);V.add_markRemoved(xC);V.add_markReordered(xC);V.add_marksLoaded(xC);V.add_markSelectionChanged(xC);V.add_markTextSelectionChanged(xC);};IPCC.aU.prototype.YW=function(){var bX='igtile'+IPCC.aU.tileCounter.toString();IPCC.aU.tileCounter++;return bX;};IPCC.aU.prototype.xM=function(){this.Rd=true;this.CX=this.CX&&this.Ym;var G=this;var axM=function(){if(!G.Rd){return;}G.co(G.V.dB(),G.V.bF(),G.V.eC());G.CX=true;};window.setTimeout(axM,0);};IPCC.aU.prototype.aDC=function(C){var wH=C.get_propertyName();switch(wH){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.V.bF().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.Io=true;if(this.V.zf()===true){this.xM();}return;case 'displayedPageRectangle':if(this.V.Bk===true){this.xM();return;}break;case 'redactionDraftMode':this.Io=true;this.xM();return;}if(this.V.zf()===true){this.xM();}};IPCC.aU.prototype.aBw=function(C){if(C.mark&& !this.Io){this.qK.addMark(C.mark);}else{this.Io=true;}if(this.V.zf()===true){this.xM();}};IPCC.aU.prototype.Vb=function(){this.pH=this.cr.clone();this.pH.oD(this.aln,this.ali);this.pH.ka(this.V.dB(),this.V.eC());this.rE=this.pH.clone();this.rE.xT();};IPCC.aU.prototype.co=function(aY,bw,bu){try{this.Rd=false;if(this.LF===true){return;}var as=this.V.kg();if(as===null){return;}var gL=as.igElements;try{this.LF=true;if(this.GS===undefined||aY===undefined|| !(this.GS.equals(aY))){if(this.Vx){if(this.lc){this.aik(this.lc);var ey=gL.lW;IPCC.Web.UI.ao.removeHandler(ey,"mousedown",this.ZN);IPCC.Web.UI.ao.removeHandler(ey,"mousemove",this.Zd);IPCC.Web.UI.ao.removeHandler(ey,"mouseup",this.Yo);IPCC.Web.UI.ao.removeHandler(ey,"contextmenu",this.Vt);IPCC.Web.UI.ao.removeHandler(gL.ig,"blur",this.Uw);IPCC.Web.UI.ao.removeHandler(gL.fX,"blur",this.abN);}delete this.lc;this.agn(gL.sU);this.agn(gL.DU);this.Vx=false;if(this.It!==undefined){this.It.unlockAllItems();}if(this.Ik!==undefined){this.Ik.unlockAllItems();}this.It=undefined;this.Ik=undefined;as.igElements.pn.onscroll=null;as.igElements.pn.onresize=null;}if(as.querySelectorAll){if(as.querySelectorAll(".pccPageLoadFail").length===0){as.innerHTML='';}}this.V.pz(true);if(aY===undefined){this.LF=false;this.GS=undefined;this.afp();return;}this.GS=aY.clone();this.It=new IPCC.xl();this.It.createPyramid(this,this.V);this.Ik=new IPCC.xl();this.Ik.createPyramid(this,this.V);this.Vx=true;this.aqK(this.zn);}this.cr=bw.gh();var Qr=this.cr.rA(aY);this.cr.oD(-Qr.x,-Qr.y);this.avH=this.cr.clone();this.avH.xT();this.aln=Math.round(Qr.x);this.ali=Math.round(Qr.y);this.Vb();this.anV(aY,bw,bu);if(aY.aM===0){this.Vb();}}finally{this.LF=false;this.Io=false;if(this.qK){this.qK.removeAllMarks();}}this.aaY(true);}catch(e){this.V.T('display',e);throw e;}};IPCC.aU.prototype.pB=function(yr,Aq,xL){if(yr[Aq]===xL){return;}yr[Aq]=xL;};IPCC.aU.prototype.kO=function(yr,Aq,xL){if(yr.getAttribute(Aq)===xL){return;}yr.setAttribute(Aq,xL);};IPCC.aU.prototype.fc=function(yr,Aq,xL){if(yr.style[Aq]===xL){return;}yr.style[Aq]=xL;};IPCC.aU.prototype.aaY=function(awd){if(this.LF){return;}if(this.Rd&& !this.CX){return;}if(!awd){try{this.Ym=true;var as=this.V.kg();if(as){this.zM=as.igElements.pn.scrollLeft;this.zk=as.igElements.pn.scrollTop;}this.alP();this.Vb();this.V.bF().ic(this.pH);this.V.ai('userModifiedViewState',{});this.V.pz(false);}finally{this.Ym=false;}}};IPCC.aU.prototype.aAU=function(ou,cr,Yn){var qy=ou.aAD(cr,Yn);if(!this.V.Bk&&qy.tilesToRequest.length===0&&(qy.opaqueTiles.length+qy.translucentTiles.length)>0){this.V.Bk=true;this.V.ai('pageDisplayed',{bC:this.V.aM});}ou.aCa(qy);if(this.V.sn()===false){this.ahF(qy.tilesToRequest);this.aaG(qy.opaqueTiles,1,cr);this.aaG(qy.translucentTiles,qy.opacity,cr);}};IPCC.aU.prototype.aqK=function(zn){var V=this.V;var as=V.kg();var bw=V.bF();var bQ=this;function fv(kE){var sT=document.createElement('div');var K;for(K in kE){if(kE.hasOwnProperty(K)){sT.style[K]=kE[K];}}return sT;};var gL={};as.igElements=gL;var lw=fv({width:'100%',height:'100%',position:'relative',overflow:bw.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});gL.pn=lw;lw.setAttribute('class','igViewerScroller');lw.onscroll=function(){bQ.aaY(false);};lw.onresize=function(){var bu=V.eC();bu.width=lw.clientWidth;bu.height=lw.clientHeight;V.ai('resize',{});};var ey=fv({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});lw.appendChild(ey);gL.lW=ey;ey.setAttribute('class','igViewerGraphics');this.Bi=2;this.CE=2;this.zM=0;this.zk=0;var af={};af.ou=this.It;af.Zu='ig'+zn+'level';gL.sU=af;this.ade(af,ey,fv);af.qI=this.qI;var mF;if(V.sn()===false){mF=fv({position:'absolute',display:'none',width:(bw.vk().width+4)+'px',height:(bw.vk().height+4)+'px',backgroundColor:'#000000'});}else{mF=fv({position:'absolute',display:'none',width:(bw.vk().width+4)+'px',height:(bw.vk().height+4)+'px',backgroundColor:'#cccccc'});}ey.appendChild(mF);gL.mF=mF;mF.setAttribute('class','igMagnifierFrame');var sS=fv({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});gL.sS=sS;mF.appendChild(sS);af={};af.ou=this.Ik;af.Zu='ig'+zn+'maglevel';gL.DU=af;this.ade(af,sS,fv);af.qI=this.awx;var OY=document.createTextNode('');gL.OY=OY;var ig=document.createElement('textarea');ig.appendChild(OY);ig.style.position='absolute';ig.style.overflow='auto';ig.style.width='80px';ig.style.height='80px';ig.style.resize='none';ig.style.display='none';lw.appendChild(ig);gL.ig=ig;var WO=document.createTextNode('');gL.WO=WO;var fX=document.createElement('input');fX.type="text";fX.style.position='absolute';fX.style.overflow='hidden';fX.style.width='80px';fX.style.height='80px';fX.style.resize='none';fX.style.display='none';fX.style.padding='0px';fX.style.margin='0px';fX.style.lineHeight='normal';fX.className="no-ms-clear";var agX=function(ev){var Ka=fX,bN=parseFloat(Ka.style['width']),cN=parseFloat(Ka.style['height']),lo=Ka.style['fontFamily'];var js=IPCC.aN.uY(Ka.value,lo,{wS:'pre',dW:gL.sU.Dz}),nN=12*bN/(js.width||1),oM=12*cN/(js.height||1),Ez=Math.floor(Math.min(nN,oM))*0.9;Ka.style.fontSize=Ez+'px';};fX.onkeyup=agX;fX.onfocus=function(ev){agX(ev);if(fX.setSelectionRange){var iJ=fX.value.length*2;fX.setSelectionRange(iJ,iJ);}};lw.appendChild(fX);gL.fX=fX;this.lc={};this.agg(this.lc);IPCC.Web.UI.ao.addHandler(ey,"mousedown",this.ZN);IPCC.Web.UI.ao.addHandler(ey,"mousemove",this.Zd);IPCC.Web.UI.ao.addHandler(ey,"mouseup",this.Yo);IPCC.Web.UI.ao.addHandler(ey,"contextmenu",this.Vt);IPCC.Web.UI.ao.addHandler(ig,"blur",this.Uw);IPCC.Web.UI.ao.addHandler(fX,"blur",this.abN);as.appendChild(lw);};IPCC.aU.prototype.ade=function(af,fQ,fv){var tM=fv({width:'2px',height:'2px',position:'absolute'});af.fQ=fQ;fQ.appendChild(tM);af.Wu=tM;tM.setAttribute('class','igAnchor');this.acb(af,tM,af.ou,af.Zu);af.yc=fv({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});tM.appendChild(af.yc);var kp=fv({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});kp.style[this.alW]=this.alJ(0.5);tM.appendChild(kp);af.kp=kp;};IPCC.aU.prototype.agn=function(af){if(af&&af.Hg){af.qI.agY();af.Hg=false;}af.fQ=null;};IPCC.aU.prototype.anV=function(aY,bw,bu){var V=this.V;var vn=this.pH.rA(aY);var as=V.kg();var aqY=V.asY();var gL=as.igElements;var sU=gL.sU;var DU=gL.DU;var lw=gL.pn;var ey=gL.lW;var tM=sU.Wu;var mF=gL.mF;var sS=gL.sS;var aic=DU.Wu;var aby=Math.max(0,-vn.x);var aaq=Math.max(0,-vn.y);var aBY=Math.max(vn.width,bu.width);var aBJ=Math.max(vn.height,bu.height);var pl=Math.max(0,vn.x);var nG=Math.max(0,vn.y);var alc=false;var Ff=false;if(bw.AP()){Ff=bw.yj();}var avP=this.Bi;this.Bi=Math.floor(aBY-1);if(this.Bi<0){this.Bi=0;}var avO=this.CE;this.CE=Math.floor(aBJ-1);if(this.CE<0){this.CE=0;}if(V.sn()===true){if(this.CE===0){this.CE=2;}if(this.Bi===0){this.Bi=2;}}var ayd=this.zM;var axt=this.zk;if(!this.CX){this.zM=Math.floor(aby);this.zk=Math.floor(aaq);}if(this.VX){this.fc(tM,'left',pl+'px');this.fc(tM,'top',nG+'px');}var cr=bw.gh();cr.oD(aby-pl,aaq-nG);this.aba(sU,bw.gh(),cr,aY,bu,Ff,pl,nG);this.fc(lw,'overflow',bw.get_overflow());if(bu.width!==lw.clientWidth||bu.height!==lw.clientHeight){bu.width=lw.clientWidth;bu.height=lw.clientHeight;alc=true;}this.pB(tM.style,'visibility','visible');if(bw.get_magnifierIsVisible()){var ws=bw.get_magnifierWindowPosition();var AF=bw.vk();var NA=bw.QH();var Or=bw.QI();var UJ=bw.atF();var aCQ=Math.round(ws.x-AF.width/2+aby+NA);var aCR=Math.round(ws.y-AF.height/2+aaq+Or);var Lw=UJ.rA(aY);var aCO=Math.max(0,-Lw.x);var aCe=Math.max(0,-Lw.y);this.fc(aic,'left',Lw.x+'px');this.fc(aic,'top',Lw.y+'px');var KL=2;mF.style.width=(AF.width+KL*2)+'px';mF.style.height=(AF.height+KL*2)+'px';sS.style.width=AF.width+'px';sS.style.height=AF.height+'px';sS.style.left=KL+'px';sS.style.top=KL+'px';mF.style.left=aCQ+'px';mF.style.top=aCR+'px';var aku=UJ.clone();aku.oD(aCO,aCe);this.aba(DU,UJ,aku,aY,AF,Ff,0,0);mF.style.display='block';}else{mF.style.display='none';}if(V.afA()){var wt=V.akl();var api=wt.eg();var jq=this.pH.rK(api);var pe=(wt.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var akM=0,akt=0;if(jq.width<pe){jq.width=pe;}if(jq.height<pe){jq.height=pe;}if(jq.width>bu.width){jq.width=bu.width;}if(jq.height>bu.height){jq.height=bu.height;}if(jq.x<0){jq.x=0;}if(jq.y<0){jq.y=0;}if(jq.x+jq.width+1>=bu.width){jq.x=bu.width-jq.width;akM= -8;}if(jq.y+jq.height+1>=bu.height){jq.y=bu.height-jq.height;akt= -8;}var kt=this.Sp(wt);kt.style.left=this.zM+jq.x+1+'px';kt.style.top=this.zk+jq.y+1+'px';kt.style.width=jq.width+akM+'px';kt.style.height=jq.height+akt+'px';if(kt.style.display!=='block'){kt.style.display='block';var tP=wt.ff;var tm='';if(tP&IPCC.Web.UI.FontStyle.Italic){kt.style.fontStyle="italic";}if(tP&IPCC.Web.UI.FontStyle.Bold){kt.style.fontWeight="bold";}if(tP&IPCC.Web.UI.FontStyle.Underline){tm+="underline";}if(tP&IPCC.Web.UI.FontStyle.Strikeout){if(tP&IPCC.Web.UI.FontStyle.Underline){tm+=" line-through";}else{tm="line-through";}}kt.style.textDecoration=tm;kt.style.color=wt.pI;kt.style.backgroundColor=wt.cI;kt.style.fontFamily=wt.gf;kt.style['z-index']=100;var Ez=wt.mw*this.pH.uz();kt.style.fontSize=Ez+"px";switch(wt.pO){case IPCC.Web.UI.HorizontalAlignment.Center:kt.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:kt.style.textAlign='right';break;default:kt.style.textAlign='left';break;}kt.focus();}}else{gL.ig.style.display='none';gL.fX.style.display='none';if(document.activeElement===gL.ig){gL.ig.blur();}if(document.activeElement===gL.fX){gL.fX.blur();}}if(bw.get_cursor()!== -1){var iH=IPCC.an.es(bw.get_cursor());this.pB(ey.style,'cursor',iH);}if(alc){V.ai('resize',{});}if(this.Bi!==avP){this.fc(ey,'width','100%');}if(this.CE!==avO){this.fc(ey,'height','100%');}if(this.zM!==ayd){lw.scrollLeft=this.zM;}if(this.zk!==axt){lw.scrollTop=this.zk;}if(aqY==="PageView"&& !this.CX){bw=V.bF();var bg=bw.gh();var xW=(+bg.uz().toFixed(6));if(V.PF!==xW){V.PF=xW;setTimeout(function(){V.ai('scaleChanged',{scaleFactor:xW,pageNumber:V.aM});},1);V.ai('scaleChanged',{scaleFactor:xW,pageNumber:V.aM});}}};IPCC.aU.prototype.aba=function(af,pH,cr,bz,bu,Ff,pl,nG){var vn=pH.rA(bz);var lQ={};lQ.width=Math.max(vn.width,bu.width);lQ.height=Math.max(vn.height,bu.height);this.aoU(af,pH,cr,bz,bu,pl,nG);this.Sk(af,cr,lQ,bz,pl,nG);var rE=pH.clone();rE.xT();var Yn=rE.rK({x:0,y:0,width:bu.width,height:bu.height});if(this.V.sn()===false){this.aAU(af.ou,cr,Yn);}else{this.aCC(af);}if(Ff){var FB=cr.rK(Ff);if(this.VX){af.kp.style.left=(FB.x-2)+'px';af.kp.style.top=(FB.y-2)+'px';}else{af.kp.style.left=(FB.x-2+pl)+'px';af.kp.style.top=(FB.y-2+nG)+'px';}af.kp.style.width=FB.width+'px';af.kp.style.height=FB.height+'px';af.kp.style.display='block';}else{af.kp.style.display='none';}};IPCC.aU.prototype.aoU=function(af,pH,cr,bz,bu,pl,nG){var bH=this.V.dV();var gn=this.V.kT();var fJ=this.V.PR();var afP=0;var G=this;if(af.kh){afP=af.kh.length;}if(!af.qI|| !bH){return;}var qL=this.V.atI();if(bH.get_markCount()<=0&&gn.get_markCount()<=0&&fJ.get_markCount()<=0&&afP<=0&& !qL){return;}if(!af.Hg){af.qI.abT(this.V,af,bz);af.kh=[];af.Hg=true;}gn=this.V.kT();var au=[];function auC(O){if((G.V.iz()&&G.V.cf().nr()===true)||O.get_type()!==IPCC.Web.UI.MarkType.Highlight){au.push(O);}};function ahs(O){au.push(O);};fJ.forEachMark(ahs);if(this.V.iz()&&this.V.cf().nr()===true){gn.forEachMark(ahs);}bH.forEachMark(auC);if(qL){au.push(qL);}var K,kh=af.kh;for(K=0;K<kh.length;K++){while(K<kh.length&&(K>=au.length||kh[K].O!==au[K])){af.qI.Jk(kh[K]);kh.splice(K,1);}if(K<kh.length&&(this.Io||this.qK.contains(kh[K].O))){af.qI.QU(kh[K]);}}for(K=kh.length;K<au.length;K++){kh[K]={O:au[K]};af.qI.aab(kh[K]);}if(this.V.mN()){if(this.VX){af.qI.alA(this.V,af,au,cr,this.V.abW());}else{var fw=cr.clone();fw.oD(pl,nG);af.qI.alA(this.V,af,au,fw,this.V.abW());}}};IPCC.aU.prototype.Sk=function(){};IPCC.aU.prototype.alP=function(){var as=this.V.kg();if(as){this.aln=as.igElements.lW.offsetLeft-this.zM;this.ali=as.igElements.lW.offsetTop-this.zk;}};IPCC.aU.prototype.sV=function(C,co){var kW=this.V.kg().igElements;var jf=C.domEvent;var ej;if(kW.lW.getBoundingClientRect){ej=kW.lW.getBoundingClientRect();}else{var cA=kW.lW;var vQ=document.documentElement;ej={left:vQ.clientLeft-vQ.scrollLeft,top:vQ.clientTop-vQ.scrollTop};cA=cA.offsetParent;while(cA){ej.top+=cA.offsetTop-cA.scrollTop;ej.left+=cA.offsetLeft-cA.scrollLeft;cA=cA.offsetParent;}}if(jf.rawEvent.touches){if(jf.rawEvent.touches.length>0){this.Si=new IPCC.Web.UI.Point(jf.rawEvent.touches[0].clientX-kW.pn.scrollLeft-ej.left,jf.rawEvent.touches[0].clientY-kW.pn.scrollTop-ej.top);}if(!this.Si){this.Si=new IPCC.Web.UI.Point(0,0);}C.windowPoint=new IPCC.Web.UI.Point(this.Si.x,this.Si.y);jf.button=0;}else{C.windowPoint=new IPCC.Web.UI.Point(jf.clientX-ej.left-kW.pn.scrollLeft,jf.clientY-ej.top-kW.pn.scrollTop);}var RV=this.rE.transform(C.windowPoint);C.imagePoint=new IPCC.Web.UI.Point(RV.x,RV.y);C.constrainedImagePoint=new IPCC.Web.UI.Point(RV.x,RV.y);C.constrainedImagePoint.x=Math.min(Math.max(C.constrainedImagePoint.x,0),this.GS.width);C.constrainedImagePoint.y=Math.min(Math.max(C.constrainedImagePoint.y,0),this.GS.height);C.pointLiesWithinImage=(C.constrainedImagePoint.x===C.imagePoint.x&&C.constrainedImagePoint.y===C.imagePoint.y);C.mark=null;try{var de=jf.target;while(!(de.ImGearMarkRelation)&&de.parentNode&&de!==document.body){de=de.parentNode;}if(de.ImGearMarkRelation){C.mark=de.ImGearMarkRelation.O;}}catch(am){}};IPCC.aU.prototype.kv=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;this.sV(C);this.V.ayo(C);}catch(ex){this.V.T('mouseDown',ex);}};IPCC.aU.prototype.ld=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;this.sV(C);this.V.ayw(C);}catch(ex){this.V.T('mouseMove',ex);}};IPCC.aU.prototype.nh=function(am){try{var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;this.sV(C);if(!am.rawEvent.wheelDelta){C.wheelDelta= -am.rawEvent.detail*120;}else{C.wheelDelta=am.rawEvent.wheelDelta;}this.V.axQ(C);}catch(ex){this.V.T('mouseWheel',ex);}};IPCC.aU.prototype.wX=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;this.sV(C);this.V.ayX(C);}catch(ex){this.V.T('mouseDoubleClick',ex);}};IPCC.aU.prototype.jz=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;this.sV(C);this.V.axD(C);}catch(ex){this.V.T('mouseUp',ex);}};IPCC.aU.prototype.Ni=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;this.sV(C);this.V.ayx(C);}catch(ex){this.V.T('contextMenu',ex);}};IPCC.aU.prototype.amA=function(am){try{this.V.pz(true);}catch(ex){this.V.T('textAreaBlur',ex);}};IPCC.aU.prototype.amj=function(am){try{this.V.pz(true);}catch(ex){this.V.T('textInputBlur',ex);}};IPCC.aU.prototype.aBb=function(O){var ig=this.Sp(O);ig.value=O.bo||"";};IPCC.aU.prototype.azj=function(){var V=this.V;var O=V.akl();if(!O|| !V.afA()){return;}var bo=this.Sp(O).value;bo=bo.replace(/(\n|\n\r|\r\n|\r)/g,'\n');O.set_text(bo);};IPCC.aU.prototype.Sp=function(O){var kW=this.V.kg().igElements,ig=null;if(O.get_type()===IPCC.Web.UI.MarkType.TextLine){ig=kW.fX;}else if(O.get_type()===IPCC.Web.UI.MarkType.Text){ig=kW.ig;}return ig;};IPCC.xl=function(){this.eO=[];return this;};IPCC.xl.prototype.aAD=function(dn,fh){var aF=dn.uz();var K,mW,qJ;var cn=1;var OS;var CP=[];var yX=[];var Ao=[];var DM,OM;qJ=this.eO.length;for(K=0;K<this.eO.length;K++){if(this.eO[K].aF>aF){qJ=K;break;}}mW=qJ-1;if(mW<0){mW=0;}if(qJ>=this.eO.length){qJ=this.eO.length-1;}if(mW!==qJ){OS=(aF-this.eO[mW].aF)/(this.eO[qJ].aF-this.eO[mW].aF);cn=OS*1.0;if(cn>=0.15){cn=1;mW=qJ;}if(cn<=0.15){cn=1;qJ=mW;}}yX=this.eO[mW].QF(fh);Ao=this.eO[qJ].QF(fh);var OX=function(nH){var K;for(K=0;K<nH.length;K++){nH[K].level.pool.Ue(nH[K]);}};var YV=function(nH){var agi=[];var K;for(K=0;K<nH.length;K++){if(!nH[K].get_isLockedAndLoaded()){agi.push(nH[K]);}}return agi;};var akg=function(nH){var aii=[];var K;for(K=0;K<nH.length;K++){if(nH[K].get_isLockedAndLoaded()){aii.push(nH[K]);}}return aii;};if(mW>0&&mW===qJ&&this.eO[qJ].tiles.length>1){mW=qJ-1;yX=this.eO[mW].QF(fh);}OX(yX);CP=YV(yX);if(CP.length>0){for(DM=mW-1;DM>=0;DM--){OM=this.eO[DM].QF(fh);OX(OM);if(YV(OM).length<1){break;}}if(DM<0){yX=akg(yX);}else{mW=DM;yX=OM;cn=1;}}else{OX(Ao);CP=YV(Ao);}OX(Ao);Ao=akg(Ao);if(CP.length>3){CP.splice(3,CP.length-3);}function atD(){var aG;function aaQ(FG){var aG='',K,aD;if(FG.length<1){return '';}aD=FG[0].level;aG+='level '+aD.id.toString()+' - ';for(K=0;K<FG.length;K++){if(K>0){aG+=', ';}aG+='('+(FG[K].x/aD.od).toString()+','+(FG[K].y/aD.By).toString()+')';if(FG[K].get_isLockedAndLoaded()){aG+='*';}}return aG;};aG='tilesToRequest: '+aaQ(this.tilesToRequest)+'<br/>';aG+='opaqueTiles: '+aaQ(this.opaqueTiles)+'<br/>';aG+='translucentTiles: '+aaQ(this.translucentTiles)+'<br/>';aG+='opacity: '+this.opacity.toString()+'<br/>';aG+='aib: '+this.aib.toString()+'<br/>';aG+='dn: '+this.dn.toString()+'<br/>';return aG;};return{opaqueTiles:yX,translucentTiles:Ao,opacity:cn,tilesToRequest:CP,toString:atD,aib:aF,dn:dn.toString()};};IPCC.xl.prototype.aCa=function(qy){var Fr=[];var uD=[];var K,j;var aD,tile;for(K=0;K<this.eO.length;K++){aD=this.eO[K];for(j=0;j<aD.tiles.length;j++){tile=aD.tiles[j];if(tile.poolItem!==undefined){Fr.push(tile);}}}var ajj=function(SU,aes){var K,j,YD,Zx;for(K=0;K<aes.length;K++){YD=aes[K];Zx=true;for(j=0;j<SU.length;j++){if(YD===SU[j]){Zx=false;break;}}if(Zx){SU.push(YD);}}};uD=qy.tilesToRequest.concat();ajj(uD,qy.opaqueTiles);ajj(uD,qy.translucentTiles);for(K=Fr.length-1;K>=0;K--){var awS=Fr[K];for(j=0;j<uD.length;j++){if(uD[j]===awS){Fr.splice(K,1);break;}}}for(K=0;K<Fr.length;K++){Fr[K].unlock();}for(K=0;K<uD.length;K++){uD[K].relock();}for(K=0;K<uD.length;K++){if(uD[K].poolItem===undefined){uD[K].lock();}}};IPCC.xl.prototype.unlockAllItems=function(){var K,j,aD;for(K=0;K<this.eO.length;K++){aD=this.eO[K];for(j=0;j<aD.tiles.length;j++){if(aD.tiles[j].poolItem!==undefined){aD.pool.adq(aD.tiles[j]);}}}};IPCC.xl.prototype.aEK=function(){var K;for(K=0;K<this.eO.length;K++){this.eO[K].pool.arp();}};IPCC.xl.prototype.toString=function(){var aG='',K,j,aD;for(K=0;K<this.eO.length;K++){aD=this.eO[K];aG+='Level '+K.toString()+':   scaleFactor='+aD.aF.toString()+'  image='+aD.width.toString()+'x'+aD.height.toString()+'  tile='+aD.od.toString()+'x'+aD.By.toString()+'\n';for(j=0;j<aD.tiles.length;j++){if(j>0){aG+=', ';}aG+='('+aD.tiles[j].x.toString()+', '+aD.tiles[j].y.toString()+')';}aG+='\n';}return aG;};IPCC.xl.prototype.createPyramid=function(kV,V){var aBG=6000000;var aiZ=5000;var od=1024;var aBv=od*od*3*150;var aau=0.5;var aDZ=2;var aY=V.dB();var zd=aY.width*aY.height*3;var xk;var aD;var aF;var K;var x,y;var tile;var zw,zv;this.eO=[];if(aY.st){aF=1.0;xk=zd*aF*aF;while(this.eO.length<aDZ||xk>aiZ){aD=new IPCC.OG();aD.aF=aF;this.eO.unshift(aD);aF*=aau;xk=zd*aF*aF;}}else{if(V.sn()===true){zd=aY.width*aY.height;}aF=Math.sqrt(aiZ/zd);var aAT=aF*aY.hf;aF=Math.ceil(aAT)/aY.hf;xk=zd*aF*aF;if(V.sn()===false){while(xk<aBv){aD=new IPCC.OG();aD.aF=aF;this.eO.push(aD);aF/=aau;xk=zd*aF*aF;}}else{aD=new IPCC.OG();aD.aF=1;this.eO.push(aD);}}aY.sq=this.eO[this.eO.length-1].aF*8;for(K=0;K<this.eO.length;K++){aD=this.eO[K];aD.LO=85;if(K===this.eO.length-1){aD.LO=100;}aD.pyramid=this;aD.id=K;aD.pool=new IPCC.aei();aD.pool.uiDirector=kV;xk=zd*aD.aF*aD.aF;aD.width=Math.round(aY.width*aD.aF);aD.height=Math.round(aY.height*aD.aF);aD.od=aD.width;aD.By=aD.height;if(K>2&&K>this.eO.length-2){aD.od=Math.min(od/2,aD.width);aD.By=Math.min(od/2,aD.height);}if(xk>aBG){aD.od=Math.min(od,aD.width);aD.By=Math.min(od,aD.height);}aD.tiles=[];zw=aD.od;for(x=0;x<aD.width;x+=zw){zw=aD.od;if(x+zw*1.25>aD.width){zw=aD.width-x;}zv=aD.By;for(y=0;y<aD.height;y+=zv){zv=aD.By;if(y+zv*1.25>aD.height){zv=aD.height-y;}tile=new IPCC.IP();tile.level=aD;tile.x=x;tile.y=y;tile.right=tile.x+zw;if(tile.right<aD.width){tile.right++;}tile.bottom=tile.y+zv;if(tile.bottom<aD.height){tile.bottom++;}var Ef='jpeg';if(V.sn()===false){if(aD.LO>=100){Ef='png';}if(zw!==aD.width||zv!==aD.height){tile.url=V.VO('Tile/'+x.toString()+'/'+y.toString()+'/'+zw.toString()+'/'+zv.toString(),'Scale='+aD.aF.toString()+'&Quality='+aD.LO+'&ContentType='+Ef);}else{tile.url=V.VO('','Scale='+aD.aF.toString()+'&Quality='+aD.LO+'&ContentType='+Ef);}}else{if(document.documentMode===10||IPCC.aN.CJ){Ef='svg';}else{Ef='svga';}tile.url=V.VO('','Scale='+aD.aF.toString()+'&ContentType='+Ef);tile.aDb=kV.YW();}aD.tiles.push(tile);}}}};IPCC.OG=function(){this.aF=1;this.width=0;this.height=0;this.od=0;this.By=0;this.pool=undefined;return this;};IPCC.OG.prototype.QF=function(fh){if(fh.width<1||fh.height<1){return[];}var mh=Math.floor(fh.x*this.aF);var nj=Math.floor(fh.y*this.aF);var pj=Math.ceil((fh.x+fh.width)*this.aF);var oW=Math.ceil((fh.y+fh.height)*this.aF);var nH=[];var K,jr;var cL=this.tiles.length;for(K=0;K<cL;K++){jr=this.tiles[K];if(jr.x<=pj&&jr.right>=mh&&jr.y<=oW&&jr.bottom>=nj){nH.push(jr);}}return nH;};IPCC.IP=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};IPCC.IP.prototype.unlock=function(){this.level.pool.adq(this);};IPCC.IP.prototype.lock=function(){this.level.pool.lockTile(this);};IPCC.IP.prototype.relock=function(){return this.level.pool.Ue(this);};IPCC.IP.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};IPCC.aei=function(){this.cq=[];this.parentElementID='';this.lockTile=function(jr){var bW,K,UG,Wo;if(this.Ue(jr)){return;}UG=0;for(K=this.cq.length-1;K>=0;K--){if(!(this.cq[K].locked)){UG++;Wo=K;}}if(UG>4){bW=this.cq[Wo];this.uiDirector.ZV(bW);this.cq.splice(Wo,1);}bW=new IPCC.aCh();bW.pool=this;this.uiDirector.afC(bW);this.cq.push(bW);bW.locked=true;bW.tile=jr;jr.poolItem=bW;return;};this.Ue=function(jr){var bW,K;if(this.locked){return true;}for(K=0;K<this.cq.length;K++){if(this.cq[K].tile===jr){bW=this.cq[K];bW.locked=true;jr.poolItem=bW;return true;}}return false;};this.adq=function(jr){var fa,K;fa=jr.poolItem;if(fa!==undefined&&fa.locked){this.uiDirector.ank(fa);fa.locked=false;jr.poolItem=undefined;for(K=0;K<this.cq.length;K++){if(this.cq[K]===fa){this.cq.splice(K,1);this.cq.push(fa);return;}}}};return this;};IPCC.aei.prototype.arp=function(){var K;for(K=0;K<this.cq.length;K++){if(!this.cq[K].locked){this.uiDirector.ZV(this.cq[K]);}}};IPCC.aCh=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};(function(apI){var aN={};aN.aoe=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();aN.CJ=(function(){var CJ=false;var uu=navigator.userAgent,abo=((uu.indexOf('Mozilla/5.0')> -1&&uu.indexOf('Android ')> -1&&uu.indexOf('AppleWebKit')> -1)&& !(uu.indexOf('Chrome')> -1)),abZ=new RegExp(/AppleWebKit\/([\d.]+)/),azb=abZ.exec(uu),agK=(azb===null?null:parseFloat(abZ.exec(uu)[1]));CJ=abo&&agK!==null&&agK<537;return CJ;})();aN.aEZ=(function(){var ajB=false;var uu=navigator.userAgent,abo=/Android/i.test(uu),aCE=/iPhone|iPad|iPod/i.test(uu),aAX=/IEMobile/i.test(uu);ajB=(abo||aCE||aAX);return ajB;})();aN.DI=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();aN.Dr=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();aN.IB=aN.Dr||(function(){return('ontouchstart'in document.documentElement);})();aN.aAA=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();aN.akO=function(){return aN.awm.btoa((Math.random().toString(36).slice(-4))+'_'+aN.yC(new Date())+'_'+(Math.random().toString(36).slice(-6)));};aN.inArray=function(fM,bW){for(var i=0,l=fM.length;i<l;i++){if(fM[i]===bW){return true;}}return false;};aN.forEach=function(by,dc,dH){var qw=[].forEach,aBt=Object.prototype.hasOwnProperty;if(qw&&by.forEach===qw){dc&&by.forEach(dc,dH);}else if(by.length=== +by.length){for(var i=0,length=by.length;i<length;i++){dc&&dc.call(dH,by[i],i,by);}}else{for(var dG in by){if(aBt.call(by,dG)){dc&&dc.call(dH,by[dG],dG,by);}}}};aN.map=function(fM,dc,dH){var qw=[].map,wY=[];if(qw&&fM.map===qw){wY=fM.map(dc,dH);}else{aN.forEach(fM,function(el,i){wY.push(dc.call(dH,el,i,fM));});}return wY;};aN.filter=function(fM,dc,dH){var qw=[].filter,wY=[],aiG=false;if(qw&&fM.filter===qw){wY=fM.filter(dc,dH);}else{aN.forEach(fM,function(bq,i){aiG=dc.call(dH,bq,i,fM);if(aiG){wY.push(bq);}});}return wY;};aN.reduce=function(fM,dc,fo,dH){var qw=[].reduce;var Jn=(arguments.length===2)?undefined:fo;if(qw&&typeof qw==='function'&&fM.reduce===qw&&dH===undefined){if(fo!==undefined){return fM.reduce(dc,fo,dH);}return fM.reduce(dc);}IPCC.aN.forEach(fM,function(dI,cO){if(Jn===undefined){Jn=dI;return;}Jn=dc.call(dH,Jn,dI,cO,fM);});return Jn;};aN.reduceLeft=function(fM,dc,fo,dH){var wY=fM.reverse();return aN.reduce.call(undefined,wY,dc,fo,dH);};aN.contains=function(fM,dI){var dw=fM.length;while(dw--){if(fM[dw]===dI){return true;}}return false;};aN.axc=function(Xc,aiv){if(Xc.length!==aiv.length){return false;}for(var i=0,l=Xc.length;i<l;i++){if(Xc[i]!==aiv[i]){return false;}}return true;};aN.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};aN.afz=function afz(Ro,aoH,aff){var Ft;return function(){var dH=this,cU=arguments;var azP=function(){Ft=undefined;if(!aff){Ro.apply(dH,cU);}};var awN=aff&& !Ft;clearTimeout(Ft);Ft=setTimeout(azP,aoH);if(awN){Ro.apply(dH,cU);}};};aN.acp=function acp(bp,tG){if(bp.classList){bp.classList.add(tG);}else{bp.className+=' '+tG;}};aN.ajN=function ajN(bp,tG){if(bp.classList){bp.classList.remove(tG);}else{bp.className=bp.className.replace(tG,'');}};aN.UQ=function(hO){return{width:hO.width||(hO.right-hO.left),height:hO.height||(hO.bottom-hO.top),top:hO.top,bottom:hO.bottom,left:hO.left,right:hO.right};};aN.GT=function(ayp){var sL,Lx={method:'GET',body:null,headers:{}},nB=PCCViewer.Deferred(),bn={},bA;PCCViewer.BV.ub(bn,Lx,ayp);try{sL=new XMLHttpRequest();}catch(e){nB.reject(new PCCViewer.Error("Error",e.message));}sL.open(bn.method,bn.url,true);sL.onreadystatechange=function(){if(sL.readyState===4){if(sL.status>=200&&sL.status<300){nB.resolve(sL.responseText);}else{nB.reject(new PCCViewer.Error("Error","An AJAX problem occurred: "+sL.status+" "+sL.statusText));}}};bA=null;for(bA in bn.headers){if(bn.headers.hasOwnProperty(bA)){sL.setRequestHeader(bA,bn.headers[bA]);}}if(bn.method==='POST'&&typeof bn.headers['Content-Type']==='undefined'){nB.reject(new PCCViewer.Error("Error","An Ajax request with a method of POST must have a Content-Type header set."));}bA=null;if(bn.method==='POST'&&bn.headers['Content-Type']==="application/x-www-form-urlencoded"&&bn.dataType==='json'){var acN=[];for(bA in bn.body){if(bn.body.hasOwnProperty(bA)){acN.push(encodeURIComponent(bA)+'='+encodeURIComponent(bn.body[bA]));}}bn.body=acN.join('&');}sL.send(bn.body);return nB.getPromise();};aN.Qf=function(fB,lv,fC){var kU=[],uW=null,vI=null,aK;var aBz=function(vI,uW){if(!uW){return false;}else{return Math.abs(vI.y-uW.y)<1&&Math.abs(vI.height-uW.height)<1&&vI.x+vI.width>=uW.x+uW.width;}};for(aK=lv;aK<fC+1;aK++){vI=fB.kK(aK).aa;if(aBz(vI,uW)){uW.union(vI);}else{uW=vI.clone();kU.push(uW);}}return kU;};aN.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};aN.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};aN.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(bE){var apM=aN.map(bE,function(bq){return[bq.x,bq.y];});return d3_svg_lineBasis(apM);};})();aN.aGj=function(cW){if(cW.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aBj=aN.filter(cW.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aqG=aN.map(aBj,function(el){var aqC=el.replace(/[a-zA-Z]/g,'|').split('|');return aN.map(aqC,function(fA){var adr=fA.split(',');return{x: +adr[0],y: +adr[1]};});});return aqG;};aN.aly=function(cW,lo,kj,kb,bn){bn.cJ="12px";var js=aN.uY(cW,lo,bn),nN=12*kj/(js.width||1),oM=12*kb/(js.height||1),aog=Math.min(nN,oM);bn.cJ=aog;return aN.akm(cW,lo,kj,kb,bn);};aN.akm=function(cW,lo,kj,kb,bn,Qs){Qs=Qs||1;var jy={},js=aN.uY(cW,lo,bn),cJ=bn.cJ;jy.width=js.width;jy.height=js.height;jy.fontSize=cJ;if(Qs>3){return jy;}if((js.width<kj+1)&&(js.height<kb+1)){return jy;}else{var nN=cJ*kj/(js.width||1),oM=cJ*kb/(js.height||1),Ez=Math.min(nN,oM);if(Ez>=bn.cJ){return jy;}else{bn.cJ=Ez;return aN.akm(cW,lo,kj,kb,bn,Qs+1);}}};aN.uY=function(cW,lo,bn){bn=bn||{};if(document.createElementNS){return aN.arJ(cW,lo,bn);}else{return aN.ajY(cW,lo,bn);}};aN.arJ=function(cW,lo,bn){var svg,ajl=false;if(bn.dW){svg=bn.dW;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');ajl=true;document.body.appendChild(svg);}var cJ=bn.cJ||"12px";if(typeof cJ==="number"){cJ=cJ+"px";}var fd=document.createElementNS("http://www.w3.org/2000/svg","text");aN.forEach({x:0,y:0,'font-size':cJ,'stroke':"none",'fill':"#000000",'font-family':lo},function(value,name){fd.setAttribute(name,value);});if(bn.wS){fd.setAttribute('style','white-space:'+bn.wS);}var uK=document.createTextNode(cW);fd.appendChild(uK);svg.appendChild(fd);var vJ=fd.getBBox(),Ip=vJ.width,Ha=vJ.height;svg.removeChild(fd);if(ajl){document.body.removeChild(svg);}if(Ip===0&&Ha===0&&cW!=="M"){return aN.uY("M",lo,bn);}else{return{width:Ip,height:Ha};}};aN.ajY=function(cW,lo,bn){var uK=document.createTextNode(cW),EN=document.createElement('div');var cJ=bn.cJ||"12px";if(typeof cJ==="number"){cJ=cJ+"px";}aN.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:cJ,fontFamily:lo},function(value,name){EN.style[name]=value;});if(bn.wS){EN.style.whiteSpace=bn.wS;}EN.appendChild(uK);document.body.appendChild(EN);var vJ=EN.getBoundingClientRect(),Ip=vJ.width||vJ.right-vJ.left,Ha=vJ.height||vJ.bottom-vJ.top;document.body.removeChild(EN);if(Ip===0&&Ha===0&&cW!=="M"){return aN.ajY("M",lo,cJ);}else{return{width:Ip,height:Ha};}};aN.VP=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};aN.xN=(aN.aoe)?{SVG:function SVG(TM){var dW=document.createElementNS("http://www.w3.org/2000/svg","svg");dW.setAttribute('viewBox',TM);return dW;},Path:function Path(si,pu){var cV=document.createElementNS("http://www.w3.org/2000/svg","path");cV.style.fill='none';cV.style.stroke=pu.color||'#000000';cV.style.strokeWidth=pu.thickness||4;if(si){cV.setAttribute('d',si.toString().trim());}return cV;},Rect:function Rect(bN,cN,al){var bm=document.createElementNS("http://www.w3.org/2000/svg","rect");bm.setAttribute('width',bN||0);bm.setAttribute('height',cN||0);if(al){bm.setAttribute('style',al);}return bm;}}:{SVG:function(TM,OR){var bp=document.createElement("div");bp.style.left="0px";bp.style.top="0px";bp.style.position="relative";bp.baseInit=false;bp.baseX=0;bp.baseY=0;var axg=bp.setAttribute;bp.setAttribute=function(bA,H){if(bA==="width"){this.style.width=H*(+OR||1);}else if(bA==="height"){this.style.height=H*(+OR||1);}else if(bA==="x"){this.style.left=H;}else if(bA==="y"){this.style.top=H;}else if(bA==="viewBox"){var sd=H.split(" ");this.style.height= +sd.pop()*(+OR||1)+'px';this.style.width= +sd.pop()*(+OR||1)+'px';}else{axg(bA,H);}};bp.setAttribute('viewBox',TM);bp.setAttribute('data-pcc-mark','signature');return bp;},Path:function(si,pu){var bp=document.createElement("v:shape");bp.style.width=pu.width*(+pu.multiplier||1);bp.style.height=pu.height*(+pu.multiplier||1);bp.coordsize=[pu.width,pu.height].join(', ');bp.style.position="absolute";bp.setAttribute=function(bA,H){if(bA==="d"){var Gp=0;var FE=0;H=H.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var NS=H.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var aeo="",gG=[];for(var i=0;i<NS.length;i++){var fA=NS[i].substring(0,1);var lM=NS[i].substring(1,NS[i].length);lM=lM.split(/[, ]/);for(var j=0;j<lM.length;j++){lM[j]=Math.round(lM[j]);}lM=lM.join();switch(fA){case "M":fA="m";gG=lM.split(/[, ]/);Gp=parseInt(gG[0],10);FE=parseInt(gG[1],10);break;case "m":fA="t";gG=lM.split(/[, ]/);gG[0]=parseInt(gG[0],10)+parseInt(Gp,10);gG[1]=parseInt(gG[1],10)+parseInt(FE,10);Gp=parseInt(gG[0],10);FE=parseInt(gG[1],10);break;case "A":fA="ae";var cU=lM.split(/[, ]+/);cU[0]=parseInt(cU[0],10);cU[1]=parseInt(cU[1],10);cU[2]=parseInt(cU[2],10);cU[3]=parseInt(cU[3],10);cU[4]=parseInt(cU[4],10);cU[5]=parseInt(cU[5],10);lM=cU[4]+" "+cU[5]+" "+cU[2]*2+" "+cU[3]*2+" 0 360";break;case "L":fA="l";gG=lM.split(/[, ]+/);Gp=parseInt(gG[0],10);FE=parseInt(gG[1],10);break;case "l":fA="r";gG=lM.split(/[, ]+/);gG[0]=parseInt(gG[0],10)+parseInt(Gp,10);gG[1]=parseInt(gG[1],10)+parseInt(FE,10);Gp=parseInt(gG[0],10);FE=parseInt(gG[1],10);break;case "c":fA="v";break;case "z":fA="xe";lM="";break;default:fA=fA.toLowerCase();}aeo+=fA+lM;}this.path=aeo;return;}else if(bA==="stroke"){this.stroked=(H==="none"?0:1);this.strokecolor=H;return;}else if(bA==="stroke-width"){this.strokeweight=parseFloat(H)/1.2+"pt";return;}else if(bA==="fill"){this.filled=(H==="none"?0:1);this.fillcolor=H;return;}};if(si){bp.setAttribute('d',si);}bp.setAttribute('stroke-width',pu.thickness||4);bp.setAttribute('stroke',pu.color||'#000000');bp.filled=0;bp.fillcolor='none';return bp;},Rect:function(bN,cN){var bp=document.createElement("v:roundrect");bp.rxy=0;bp.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};bp.setAttribute=function(bA,H,avr){if(this.svg2vmlStyle[bA]){this.svg2vmlStyle[bA]["value"]=H;this.svg2vmlStyle[bA]["valueSource"]=(avr||"user");}if(bA==="x"){this.style.left=parseInt(H,10)+'px';return;}else if(bA==="y"){this.style.top=parseInt(H,10)+'px';return;}else if(bA==="stroke"){this.stroked=(H==="none"?0:1);this.strokecolor=H;return;}else if(bA==="stroke-width"){this.strokeweight=parseFloat(H)/1.2+"pt";return;}else if(bA==="fill"){this.filled=(H==="none"?0:1);this.fillcolor=H;return;}else if(bA==="width"||bA==="height"||bA==="rx"||bA==="ry"){if(bA==="width"){this.style.width=parseInt(H,10)+'px';}else if(bA==="height"){this.style.height=parseInt(H,10)+'px';}else if(bA==="rx"||bA==="ry"){if(parseInt(H,10)){this.rxy=parseInt(H,10);}}if(this.rxy!==0){var Hd=parseInt(this.style.width,10);var Oy=parseInt(this.style.height,10);if(!Hd){Hd=0;}if(!Oy){Oy=0;}if(Oy<Hd){Hd=Oy;}var OS=this.rxy/Hd;this.arcsize=OS;}else{this.arcsize=0;}return;}};if(bN){bp.setAttribute('width',bN);}if(cN){bp.setAttribute('height',cN);}for(var bA in bp.svg2vmlStyle){if((bp.svg2vmlStyle[bA]["value"])&&(bp.svg2vmlStyle[bA]["valueSource"]==="default")){bp.setAttribute(bA,bp.svg2vmlStyle[bA]["value"],"default");}}return bp;}};aN.IL=function IL(ii){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(ii);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(ii+' cannot be parsed as an ISO 8601 date.');}};aN.yC=function aCT(gA){if(gA.toISOString&&typeof gA.toISOString==='function'){return gA.toISOString();}else if(gA instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return gA.getUTCFullYear()+'-'+pad(gA.getUTCMonth()+1)+'-'+pad(gA.getUTCDate())+'T'+pad(gA.getUTCHours())+':'+pad(gA.getUTCMinutes())+':'+pad(gA.getUTCSeconds())+'.'+(gA.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(gA+' is not a Date object.');}};aN.wf=function wf(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};aN.Ly=function Ly(o){if(aN.wf(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};aN.Ws=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};aN.akh=function(dI){dI=String(dI).replace(/[^0-9a-f]/gi,"");if(dI.length<6){dI=dI[0]+dI[0]+dI[1]+dI[1]+dI[2]+dI[2];}var Vf=function(cW){return parseInt(cW,16);};var r=Vf(dI.substring(0,2));var g=Vf(dI.substring(2,4));var b=Vf(dI.substring(4,6));return{r:r,g:g,b:b};};aN.aAS=function(dI){var OI="";var NX=function(n){while(n.length<2){n='0'+n;}return n;};var ZY=function(n){return NX(n.toString(16));};OI+=ZY(Math.floor(dI.r));OI+=ZY(Math.floor(dI.g));OI+=ZY(Math.floor(dI.b));return '#'+OI;};aN.amv=function(aqg,avl,apU){var Fn=apU,UZ=aN.akh(aqg),pf=aN.akh(avl);pf.r=(1-Fn)*pf.r+(UZ.r*Fn);pf.g=(1-Fn)*pf.g+(UZ.g*Fn);pf.b=(1-Fn)*pf.b+(UZ.b*Fn);pf.r=Math.floor(pf.r);pf.g=Math.floor(pf.g);pf.b=Math.floor(pf.b);return aN.aAS(pf);};aN.aiT=function(aqm,we){var ark=aN.reduceLeft(aqm,function(fo,eK){if(eK.opacity===undefined){eK.opacity=127;}var axq=eK.opacity/255;return aN.amv(eK.color,fo,axq);},we);return ark;};aN.als=function(hw){if(hw.length===0){return hw;}var eJ=hw.slice(0);eJ.sort(function(a,b){return a.startIndex-b.startIndex;});var YK=null;var jM=[];var XT=0,Ov=[];var K=eJ[0].startIndex;while(eJ.length>0){XT=0;Ov=null;Ov=[];var aK=0;while(aK<eJ.length&&eJ[aK].startIndex<=K){if(K<=eJ[aK].startIndex+eJ[aK].length-1){XT++;Ov.push(eJ[aK]);aK++;}else{eJ.splice(aK,1);}}if(XT>0){var ET=aN.aiT(Ov,'#ffffff');if(ET===YK){jM[jM.length-1].endIndex=K;}else{jM.push({startIndex:K,endIndex:K,color:ET});}YK=ET;K++;}else{if(eJ.length>0){K=eJ[0].startIndex;}YK=null;}}return jM;};aN.IS=function(Ye){return Ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};aN.NX=function(iw,dw){var cW=""+iw;while(cW.length<dw){cW='0'+cW;}return cW;};aN.aEC=function(fD){var lb=fD.getTimezoneOffset();lb=((lb<0?'+':'-')+aN.NX(parseInt(Math.abs(lb/60),10),2)+aN.NX(Math.abs(lb%60),2));return lb;};aN.aeV=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];aN.Yp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];aN.alj=function(Te){var azX=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,aG=azX.exec(Te),agu,Ev,afG,alZ,agz,xY,JY;if(!aG){return null;}else{agu=aG[1].toLowerCase();afG=aG[2];alZ=aG[3];agz=aG[4];xY=aG[5];JY=aG[6];for(Ev=0;Ev<12;Ev++){if(aN.Yp[Ev].toLowerCase()===agu){break;}}if(Ev>=12){return null;}return new Date(Date.UTC(JY,Ev,afG,alZ,agz,xY));}};aN.akV=function(fD){return(aN.aeV[fD.getUTCDay()]+" "+aN.Yp[fD.getUTCMonth()]+" "+fD.getUTCDate()+" "+fD.getUTCHours()+':'+fD.getUTCMinutes()+':'+fD.getUTCSeconds()+" "+"GMT+0000 "+fD.getUTCFullYear());};aN.asf=function(fD){return(aN.aeV[fD.getUTCDay()]+" "+aN.Yp[fD.getUTCMonth()]+" "+fD.getUTCDate()+" "+fD.getUTCFullYear());};aN.asE=function(fD){return(fD.getUTCHours()+':'+fD.getUTCMinutes()+':'+fD.getUTCSeconds()+" "+"GMT+0000");};aN.Fq=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};aN.abl=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};aN.awm=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();aN.qt=(function(){var qt=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var amS={};qt.forEach(function(anl){amS[anl]='pointer'+anl;});return amS;}if(window.navigator.msPointerEnabled){var afX={};for(var K=0;K<qt.length;K++){var Wx=qt[K];var aBo='MSPointer'+Wx.charAt(0).toUpperCase()+Wx.slice(1);afX[Wx]=aBo;}return afX;}return{};})();apI.aN=aN;})(IPCC||{});IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MarkType=function(){};IPCC.Web.UI.MarkType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkType.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619};IPCC.Web.UI.MarkType.registerEnum('IPCC.Web.UI.MarkType',false);IPCC.Web.UI.HighLightType=function(){};IPCC.Web.UI.HighLightType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HighLightType.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3};IPCC.Web.UI.HighLightType.registerEnum('IPCC.Web.UI.HighLight',false);IPCC.Web.UI.MarkInteractionMode=function(){};IPCC.Web.UI.MarkInteractionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkInteractionMode.prototype={Full:0,SelectionDisabled:1};IPCC.Web.UI.MarkInteractionMode.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);IPCC.Web.UI.LineStyle=function(){};IPCC.Web.UI.LineStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineStyle.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};IPCC.Web.UI.LineStyle.registerEnum('IPCC.Web.UI.LineStyle',false);IPCC.Web.UI.LineHeadType=function(){};IPCC.Web.UI.LineHeadType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineHeadType.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};IPCC.Web.UI.LineHeadType.registerEnum('IPCC.Web.UI.LineHeadType',false);IPCC.Web.UI.CalloutType=function(){};IPCC.Web.UI.CalloutType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.CalloutType.prototype={Line:0,Triangle:1};IPCC.Web.UI.CalloutType.registerEnum('IPCC.Web.UI.CalloutType',false);IPCC.Web.UI.FontStyle=function(){};IPCC.Web.UI.FontStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FontStyle.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};IPCC.Web.UI.FontStyle.registerEnum('IPCC.Web.UI.FontStyle',true);IPCC.Web.UI.HorizontalAlignment=function(){};IPCC.Web.UI.HorizontalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HorizontalAlignment.prototype={Left:0,Center:16,Right:32};IPCC.Web.UI.HorizontalAlignment.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);IPCC.Web.UI.VerticalAlignment=function(){};IPCC.Web.UI.VerticalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.VerticalAlignment.prototype={Top:0,Center:1,Bottom:2};IPCC.Web.UI.VerticalAlignment.registerEnum('IPCC.Web.UI.VerticalAlignment',false);IPCC.Web.UI.Orientation=function(){};IPCC.Web.UI.Orientation.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Orientation.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};IPCC.Web.UI.Orientation.registerEnum('IPCC.Web.UI.Orientation',false);IPCC.Web.UI.MarkEventArgs=function(){return this;};IPCC.Web.UI.MarkEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkEventArgs.prototype={};IPCC.Web.UI.MarkEventArgs.registerClass('IPCC.Web.UI.MarkEventArgs');IPCC.Web.UI.MarkCollection=function(){var au=[];var bP=new IPCC.Web.UI.gK();this.LC=function(O){if(this.HU(O)=== -1){au.push(O);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=O;this.ai('markAdded',C);}};this.awe=function(zy){var C=new IPCC.Web.UI.MarkEventArgs();C.length=zy.get_length();var G=this;function nb(O){if(G.HU(O)=== -1){au.push(O);}};zy.forEach(nb,{});if(C.length>0){this.ai('markAdded',C);}};this.np=function(og,dH){var Iw=[].concat(au);var K;for(K=0;K<Iw.length;K++){og.call(dH,Iw[K],K,this);}};this.eI=function(){return au.length;};this.wP=function(O){var K=this.HU(O);if(K> -1){au.splice(K,1);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=O;this.ai('markRemoved',C);}};this.HU=function(O){var K;for(K=0;K<au.length;K++){if(au[K]===O){return K;}}return-1;};this.Af=function(L){bP.addHandler('markAdded',L);};this.yU=function(L){bP.removeHandler('markAdded',L);};this.za=function(L){bP.addHandler('markRemoved',L);};this.ye=function(L){bP.removeHandler('markRemoved',L);};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){L(this,C);}};return this;};IPCC.Web.UI.MarkCollection.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.LC(mark);},addMarks:function(markCollection){this.awe(markCollection);},forEach:function(method,context){this.np(method,context);},get_length:function(){return this.eI();},contains:function(mark){return this.HU(mark)> -1;},removeMark:function(mark){this.wP(mark);},removeAllMarks:function(){this.np(function(O,bD,zy){zy.wP(O);});},add_markAdded:function(handler){this.Af(handler);},remove_markAdded:function(handler){this.yU(handler);},add_markRemoved:function(handler){this.za(handler);},remove_markRemoved:function(handler){this.ye(handler);}};IPCC.Web.UI.MarkCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkCollection.registerClass('IPCC.Web.UI.MarkCollection');IPCC.Web.UI.aCu=1;IPCC.Web.UI.Mark=function(type){var aI=type;type=undefined;var tO=new Date();var rr=new Date();var bH=null;var F;var bE;var dA;var bY=new IPCC.Web.UI.Data();var bP=new IPCC.Web.UI.gK();var G=this;var lf;this.dY=function(kr,dP){if((lf&kr)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(dP+' is not a valid property for this type of Mark.');}};if(aI===IPCC.Web.UI.MarkType.SignatureText){this.gY='#000000';this.gv=IPCC.Web.UI.LineStyle.Solid;this.gq=0;}else{this.gY='#000000';this.gv=IPCC.Web.UI.LineStyle.Solid;this.gq=1;}this.cn=255;this.oV=IPCC.Web.UI.MarkInteractionMode.Full;var iI=false;switch(aI){case IPCC.Web.UI.MarkType.Line:iI=true;bE=new IPCC.Web.UI.PointCollection();bE.addPoint({x:0,y:0});bE.addPoint({x:0,y:0});lf=1;this.gY='#18385F';this.gq=6;break;case IPCC.Web.UI.MarkType.Polyline:iI=true;this.mK=false;bE=new IPCC.Web.UI.PointCollection();lf=2;this.gq=2;break;case IPCC.Web.UI.MarkType.Rectangle:F=new IPCC.Web.UI.Rectangle(0,0,0,0);lf=4;this.cI='#FB0404';this.gq=4;break;case IPCC.Web.UI.MarkType.Ellipse:F=new IPCC.Web.UI.Rectangle(0,0,0,0);lf=8;this.gq=4;break;case IPCC.Web.UI.MarkType.Polygon:bE=new IPCC.Web.UI.PointCollection();lf=16;break;case IPCC.Web.UI.MarkType.Text:this.EJ='#000000';this.Cq=false;this.rJ=IPCC.Web.UI.LineStyle.Solid;this.Dc=1;this.pr=new IPCC.Web.UI.Point(0,0);this.Kf=IPCC.Web.UI.CalloutType.Triangle;this.Ag=false;this.gf='Arial';this.cJ=12;this.ff=IPCC.Web.UI.FontStyle.Regular;this.gv=IPCC.Web.UI.LineStyle.Solid;F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bo='';this.pO=IPCC.Web.UI.HorizontalAlignment.Left;this.AJ=IPCC.Web.UI.VerticalAlignment.Top;this.pI='#000000';this.tS=255;this.xH=IPCC.Web.UI.Orientation.TopLeft;this.eJ=[];this.gq=4;this.cn=127;lf=32;break;case IPCC.Web.UI.MarkType.Stamp:F=new IPCC.Web.UI.Rectangle(0,0,0,0);lf=128;break;case IPCC.Web.UI.MarkType.Highlight:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.dM='';this.mV='n';this.bK=0;this.dm='';this.cw=0;this.cn=127;lf=256;break;case IPCC.Web.UI.MarkType.HighlightText:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.dM='';this.mV='n';this.bK=0;this.dm='';this.cw=0;this.cn=127;this.cI='#FFFF00';lf=512;this.eJ=[];this.ds=[];break;case IPCC.Web.UI.MarkType.Freehand:F=new IPCC.Web.UI.Rectangle(0,0,0,0);lf=64;this.gq=4;this.gY='#000000';this.gF=false;this.abt=1;this.abx=1;this.rG='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:F=new IPCC.Web.UI.Rectangle(0,0,0,0);lf=1024;this.gq=4;this.gY='#000000';this.gF=false;this.abt=1;this.abx=1;this.rG='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:F=new IPCC.Web.UI.Rectangle(0,0,0,0);lf=2048;this.bo='John Doe';this.pI='#000000';this.cI='#000000';this.gf="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);lf=4096;this.gf='Arial';this.cJ=8;this.ff=IPCC.Web.UI.FontStyle.Regular;this.bo='';this.pO=IPCC.Web.UI.HorizontalAlignment.Center;this.AJ=IPCC.Web.UI.VerticalAlignment.Center;this.cI='#000000';this.pI='#FFFFFF';this.tS=255;this.xH=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ds=[];this.dM='';this.fK='';this.bo='';this.gf='Arial';this.cJ=8;this.bK=0;this.cw=0;lf=8192;this.eJ=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.oh='';this.gq=2;this.dm='';this.dM='';this.mV='n';this.bK=0;this.cw=0;lf=1<<14;this.eJ=[];this.ds=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);lf=16384;this.aY='';this.qm='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.oh='';this.xh='';this.Bf='';this.FP=0;this.Fc=0;this.oB=255;lf=32768;break;case IPCC.Web.UI.MarkType.TextLine:lf=65536;F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bo='';this.pI='#000000';this.gf="Courier New";this.gq=1;this.gF=true;this.FT=0;this.Lp=false;var js=IPCC.aN.uY("M",this.gf,{wS:'pre'});this.wq=js.width;this.vA=js.height;break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',aI);}if(aI!==IPCC.Web.UI.MarkType.SignaturePath&&aI!==IPCC.Web.UI.MarkType.Freehand&&aI!==IPCC.Web.UI.MarkType.SignatureText&&aI!==IPCC.Web.UI.MarkType.DocumentHyperlink&&aI!==IPCC.Web.UI.MarkType.HighlightText&&aI!==IPCC.Web.UI.MarkType.TextLine){if(iI){this.El=15;this.Dx=25;this.mt=IPCC.Web.UI.LineHeadType.None;this.tw='#000000';this.GB=15;this.DJ=25;this.EL=IPCC.Web.UI.LineHeadType.None;}else{this.yP=true;this.gF=true;if(aI===IPCC.Web.UI.MarkType.Highlight){this.gF=false;this.cn=100;}}}this.Wi=IPCC.Web.UI.aCu++;this.gI=true;this.aE={};this.dg=[];var Pr=false;function atR(aj,C){G.ai('commentAdded',C);};function auF(aj,C){G.ai('commentRemoved',C);};function Np(aj,C){G.ai('commentChanged',C);};dA=new IPCC.Web.UI.Conversation(G);dA.add_commentAdded(atR);dA.add_commentChanged(Np);dA.add_commentRemoved(auF);this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){L(this,C);}};function Ub(aj,C){var ako='points';if(aI===IPCC.Web.UI.MarkType.Line){ako=C.index===0?'startPoint':'endPoint';}G.aA(ako,C);};if(bE){bE.add_pointAdded(Ub);bE.add_pointChanged(Ub);bE.add_pointRemoved(Ub);}this.kC=function(){return aI;};this.aew=function(){return tO;};this.acM=function(H){tO=H;};this.aeZ=function(){return rr;};this.Xr=function(H){rr=H;};this.dV=function(){return bH;};this.kf=function(value){if(bH!==value){bH=value;this.aA('artPage');}};this.jg=function(){return Pr;};this.kN=function(H){Pr=H;};this.afd=function(){var rm=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(aI){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return bE.vj();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:return F.clone();case IPCC.Web.UI.MarkType.Text:var ho=F.x+F.width,hM=F.y+F.height;var amO=F.x+this.pr.x,amK=F.y+this.pr.y;rm.x=Math.min(F.x,Math.min(ho,amO));rm.y=Math.min(F.y,Math.min(hM,amK));rm.width=Math.max(F.x,Math.max(ho,amO))-rm.x;rm.height=Math.max(F.y,Math.max(hM,amK))-rm.y;break;}return rm;};this.eg=function(){return F.clone();};this.vF=function(H){this.Fk(16384,'image','aY',H);};this.dB=function(){return this.aY;};this.ql=function(){return bE;};this.arU=function(){return dA;};this.xF=function(){return bY;};this.Eh=function(H){var nk;if(!F.equals(H)){F=new IPCC.Web.UI.Rectangle(H.x,H.y,H.width,H.height);if(aI===IPCC.Web.UI.MarkType.Stamp||aI===IPCC.Web.UI.MarkType.SignatureText||aI===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){nk=0;if(F.width>=F.height){nk=(F.width/14)/2;}else{nk=F.width/15;}if(nk*15>=F.width){nk=(F.width/15)/2;}this.stampSize=Math.round(nk);}else{var textFontSize=(F.width/6);if(textFontSize>F.height){textFontSize=(F.height-(F.height/6));}var pk=this.get_text();if(!pk){pk=(aI===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}nk=pk.length*textFontSize;if(nk>F.width){textFontSize=((F.width/pk.length));}var FT=Math.round(textFontSize);this.stampSize=FT.toString();}}this.aA('rectangle');}};this.jx=function(){return this.Wi;};this.JX=function(fz,er){if(fz!==0||er!==0){switch(aI){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:bE.ahI(fz,er);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(aI===IPCC.Web.UI.MarkType.RectangleRedaction&&this.dM!==undefined){break;}F.x+=fz;F.y+=er;this.aA('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;}}};this.Wv=function(WN){if(this.eJ&&WN!==this.eJ){while(this.eJ.length>0){this.eJ.pop();}if(WN){this.eJ=WN.slice(0);}this.ai('markTextSelectionChanged',{});}};this.Jz=function(L){if(this.eJ){bP.addHandler('markTextSelectionChanged',L);}};this.Kp=function(L){if(this.eJ){bP.removeHandler('markTextSelectionChanged',L);}};this.AH=function(L){bP.addHandler('commentAdded',L);};this.Gw=function(L){bP.removeHandler('commentAdded',L);};this.Aj=function(L){bP.addHandler('commentRemoved',L);};this.GJ=function(L){bP.removeHandler('commentRemoved',L);};this.tn=function(L){bP.addHandler('commentChanged',L);};this.vz=function(L){bP.removeHandler('commentChanged',L);};this.iT=function(L){bP.addHandler('propertyChanged',L);};this.kA=function(L){bP.removeHandler('propertyChanged',L);};this.aA=function(dP){var L=bP.getHandler('propertyChanged');if(L){L(this,new IPCC.pR(dP));}};this.iT(function(O){O.Xr(new Date());});return this;};IPCC.Web.UI.Mark.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.ql().getPoint(0)+' to '+this.ql().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.ql().eI()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.eg();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.eg();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.eg();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.ql().eI()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bo+'", at '+this.eg();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.eg();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.eg();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.eg();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.eg();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.eg();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.eg();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.rG+'", at '+this.eg();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.rG+'", at '+this.eg();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.eg();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.eg();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.eg();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.eg();}return 'Mark';},initializeDates:function(tO,rr){IPCC.aJ.gA(tO,"dateCreated");IPCC.aJ.gA(rr,"dateModified");this.acM(tO);this.Xr(rr);},get_dateCreated:function(){return this.aew();},get_dateModified:function(){return this.aeZ();},mT:function(kr,dP,km,H){this.dY(kr,dP);if(this[km]!==H){this[km]=H;this.aA(dP);}},IT:function(kr,dP,km,H){IPCC.aJ.Wl(H,dP);this.mT(kr,dP,km,H);},Fd:function(kr,dP,km,H){IPCC.aJ.iw(H,dP);this.mT(kr,dP,km,H);},zP:function(kr,dP,km,H,AM,xI){IPCC.aJ.mE(H,dP,AM,xI);this.mT(kr,dP,km,H);},Tf:function(kr,dP,km,H,AM,xI){IPCC.aJ.nQ(H,dP,AM,xI);this.mT(kr,dP,km,H);},Fk:function(kr,dP,km,H){IPCC.aJ.aI(H,dP,'string');this.mT(kr,dP,km,H);},wW:function(kr,dP,km,H,iY){IPCC.aJ.iY(H,dP,iY);this.mT(kr,dP,km,H);},apt:function(kr,dP,km,H,iY){IPCC.aJ.iY(H,dP,iY,true);this.mT(kr,dP,km,H);},aoa:function(kr,dP,km,H){IPCC.aJ.ba(H,dP);this.mT(kr,dP,km,H);},get_artPage:function(){return this.dV();},get_boundingRectangle:function(){return this.afd();},get_selected:function(){var bH=this.dV();if(!bH){return false;}var fn=bH.zT();return fn.contains(this);},set_selected:function(value){var bH=this.dV();if(bH){if(this.oV!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var fn=bH.zT();if(value!==fn.contains(this)){if(value){fn.LC(this);}else{fn.wP(this);}this.aA('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.dY(32,'calloutLineColor');return this.EJ;},set_calloutLineColor:function(value){this.IT(32,'calloutLineColor','EJ',value);},get_calloutLineIsDistinct:function(){this.dY(32,'calloutLineIsDistinct');return this.Cq;},set_calloutLineIsDistinct:function(value){this.mT(32,'calloutLineIsDistinct','Cq',value);},get_calloutLineStyle:function(){this.dY(32,'calloutLineStyle');return this.rJ;},set_calloutLineStyle:function(value){this.wW(32,'calloutLineStyle','rJ',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.dY(32,'calloutLineWidth');return this.Dc;},set_calloutLineWidth:function(value){this.zP(32,'calloutLineWidth','Dc',value,0,50);},get_calloutPoint:function(){this.dY(32,'calloutPoint');return this.pr;},set_calloutPoint:function(value){this.aoa(32,'calloutPoint','pr',value);},get_calloutType:function(){this.dY(32,'calloutType');return this.Kf;},set_calloutType:function(value){this.wW(32,'calloutType','Kf',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.dY(32,'calloutVisible');return this.Ag;},set_calloutVisible:function(value){if(!this.Ag&&value&&this.kC()===IPCC.Web.UI.MarkType.Text){if(this.pr.x===0&&this.pr.y===0){var F=this.eg();this.set_calloutPoint({x:F.width,y:F.height*1.5});}}this.mT(32,'calloutVisible','Ag',value);},get_endHeadAngle:function(){this.dY(3,'endHeadAngle');return this.El;},set_endHeadAngle:function(value){this.zP(3,'endHeadAngle','El',value,0,180);},get_endHeadLength:function(){this.dY(3,'endHeadLength');return this.Dx;},set_endHeadLength:function(value){this.zP(3,'endHeadLength','Dx',value,0,100);},get_endHeadType:function(){this.dY(3,'endHeadType');return this.mt;},set_endHeadType:function(value){this.wW(3,'endHeadType','mt',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.dY(1<<14|1<<15,'href');return this.oh;},set_href:function(value){this.Fk(1<<14|1<<15,'href','oh',value);},get_borderType:function(){this.dY(32768,'borderType');return this.xh;},set_borderType:function(value){this.Fk(32768,'borderType','xh',value);},get_borderHorizontalRadius:function(){this.dY(32768,'borderHorizontalRadius');return this.FP;},set_borderHorizontalRadius:function(value){this.Fd(32768,'borderHorizontalRadius','FP',value);},get_borderVerticalRadius:function(){this.dY(1<<15,'borderVerticalRadius');return this.Fc;},set_borderVerticalRadius:function(value){this.Fd(32768,'borderVerticalRadius','Fc',value);},get_borderOpacity:function(){this.dY(32768,'oB');return this.oB;},set_borderOpacity:function(value){this.Tf(32768,'oB','oB',value,0,255);},get_borderPattern:function(){this.dY(32768,'Bf');return this.Bf;},set_borderPattern:function(value){this.mT(32768,'Bf','Bf',value,0,255);},get_fillColor:function(){this.dY(16380,'fillColor');return this.cI;},set_fillColor:function(value){this.IT(16380,'fillColor','cI',value);},get_fillVisible:function(){this.dY(16380,'fillVisible');return this.yP;},set_fillVisible:function(value){this.mT(16380,'fillVisible','yP',value);},get_fontName:function(){this.dY(6176+8192+65536,'fontName');return this.gf;},set_fontName:function(value){this.Fk(6176+8192+65536,'fontName','gf',value);if(this.kC()===IPCC.Web.UI.MarkType.SignatureText||this.kC()===IPCC.Web.UI.MarkType.TextLine){var bn=(this.kC()===IPCC.Web.UI.MarkType.TextLine)?{wS:'pre'}:{};var js=IPCC.aN.uY(this.bo,this.gf,bn);this.wq=js.width;this.vA=js.height;}if(this.kC()===IPCC.Web.UI.MarkType.TextLine){this.Lp=false;}},get_fontSize:function(){this.dY(32+2048+4096+8192,'fontSize');return this.cJ;},set_fontSize:function(value){this.zP(32+2048+4096+8192,'fontSize','cJ',value,0.1,288);},get_fontStyle:function(){this.dY(6176,'fontStyle');return this.ff;},set_fontStyle:function(value){this.apt(6176,'fontStyle','ff',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.dY(3,'headFillColor');return this.tw;},set_headFillColor:function(value){this.IT(3,'headFillColor','tw',value);},get_interactionMode:function(){this.dY(~0,'interactionMode');return this.oV;},set_interactionMode:function(value){this.wW(~0,'interactionMode','oV',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_isClosed:function(){this.dY(2,'isClosed');return this.mK;},set_isClosed:function(value){this.mT(2,'isClosed','mK',value);},get_lineColor:function(){return this.gY;},set_lineColor:function(value){this.IT(13567+32768,'lineColor','gY',value);},get_lineStyle:function(){return this.gv;},set_lineStyle:function(value){this.wW(63+32768,'lineStyle','gv',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.gq;},set_lineWidth:function(value){this.zP(13567+32768,'lineWidth','gq',value,0,50);},get_lineVisible:function(){this.dY(172+65536,'lineVisible');return this.gF;},set_lineVisible:function(value){this.mT(172+65536,'lineVisible','gF',value);},get_opacity:function(){return this.cn;},set_opacity:function(value){this.Tf(895+2048+1024,'opacity','cn',value,0,255);},get_points:function(){this.dY(19,'points');return this.ql();},get_conversation:function(){return this.arU();},get_data:function(){return this.xF();},get_image:function(){this.dY(16384,'image');return this.dB();},set_image:function(value){this.dY(16384,'image');this.vF(value);},get_rectangle:function(){this.dY(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.eg();},set_rectangle:function(value){this.dY(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aJ.F(value,'rectangle');this.Eh(value);if(this.kC()===IPCC.Web.UI.MarkType.TextLine){this.Lp=false;}},get_startHeadAngle:function(){this.dY(3,'startHeadAngle');return this.GB;},set_startHeadAngle:function(value){this.zP(3,'startHeadAngle','GB',value,0,180);},get_startHeadLength:function(){this.dY(3,'startHeadLength');return this.DJ;},set_startHeadLength:function(value){this.zP(3,'startHeadLength','DJ',value,0,100);},get_startHeadType:function(){this.dY(3,'startHeadType');return this.EL;},set_startHeadType:function(value){this.wW(3,'startHeadType','EL',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.dY(14496+65536,'text');return this.bo;},set_text:function(value){if(this.bo===value){return;}this.Fk(14496+65536,'text','bo',value);if(this.kC()===IPCC.Web.UI.MarkType.SignatureText||this.kC()===IPCC.Web.UI.MarkType.TextLine){var bn=(this.kC()===IPCC.Web.UI.MarkType.TextLine)?{wS:'pre'}:{};var js=IPCC.aN.uY(this.bo,this.gf,bn);this.wq=js.width;this.vA=js.height;}if(this.eJ){while(this.eJ.length>0){this.eJ.pop();}}},get_textHorizontalAlignment:function(){this.dY(32+2048,'textHorizontalAlignment');return this.pO;},set_textHorizontalAlignment:function(value){this.wW(32+2048,'textHorizontalAlignment','pO',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.dY(32,'textVerticalAlignment');return this.AJ;},set_textVerticalAlignment:function(value){this.wW(32,'textVerticalAlignment','AJ',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.dY(6176+65536,'textColor');return this.pI;},set_textColor:function(value){this.IT(6176+65536,'textColor','pI',value);},get_textOpacity:function(){this.dY(32,'textOpacity');return this.tS;},set_textOpacity:function(value){this.Tf(32,'textOpacity','tS',value,0,255);},get_textOrientation:function(){this.dY(32,'textOrientation');return this.xH;},set_textOrientation:function(value){this.wW(32,'textOrientation','xH',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.kC();},get_visible:function(){return this.gI;},set_visible:function(value){this.mT(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','gI',value);},get_markID:function(){return this.jx();},get_pathString:function(){return this.rG;},set_pathString:function(value){var rG=this.get_pathString();if(rG!==value){this.Qe=true;}this.Fk(1088,'pathString','rG',value);},get_pathWidth:function(){return this.abt;},set_pathWidth:function(value){this.Fd(1088,'pathWidth','abt',value);},get_pathHeight:function(){return this.abx;},set_pathHeight:function(value){this.Fd(1088,'pathHeight','abx',value);},get_startIndex:function(){this.dY((1<<14)+8192+512,'startIndex');return this.bK;},set_startIndex:function(value){this.Fd((1<<14)+8192+512,'startIndex','bK',value);},get_textLength:function(){this.dY((1<<14)+8192+512,'textLength');return this.cw;},set_textLength:function(value){this.Fd((1<<14)+8192+512,'textLength','cw',value);},add_propertyChanged:function(handler){this.iT(handler);},remove_propertyChanged:function(handler){this.kA(handler);},add_markTextSelectionChanged:function(handler){this.Jz(handler);},remove_markTextSelectionChanged:function(handler){this.Kp(handler);},move:function(deltaX,deltaY){IPCC.aJ.iw(deltaX,'deltaX');IPCC.aJ.iw(deltaY,'deltaY');this.JX(deltaX,deltaY);},moveBackward:function(){if(this.dV()){var index=this.dV().pb(this);var dr=this.dV().aet();if(index>dr){this.dV().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.dV()){var index=this.dV().pb(this);if(index<this.dV().Sn()-1){this.dV().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.dV()){var dr=0;dr=this.dV().aet();this.dV().reorderMark(this,dr);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.dV()){this.dV().reorderMark(this,this.dV().Sn()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.dV()){this.dV().removeMark(this);}},selectText:function(textRanges){this.Wv(textRanges);},azV:function(){var fu={};var G=this;var bE,XP,ba,F,K;function dO(dP,Pl){fu[Pl]=G[dP];};var iI=false;var jV=false;var xo=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:iI=true;xo=true;fu.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:iI=true;xo=true;fu.__type='PolyLineMark:#IPCC.Web';dO('mK','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jV=true;fu.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jV=true;fu.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:jV=true;fu.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:xo=true;fu.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:jV=true;fu.__type='TextMark:#IPCC.Web';dO('EJ','clc');dO('Cq','clid');dO('rJ','cls');dO('Dc','clw');dO('Kf','ct');dO('Ag','cv');dO('gf','fn');dO('cJ','fs');dO('ff','fst');dO('gv','ls');dO('bo','te');dO('pO','tha');dO('AJ','tva');dO('pI','tc');dO('tS','to');dO('xH','tor');ba=this.pr;if(ba.x!==0||ba.y!==0){fu.cp={x:ba.x,y:ba.y};}break;case IPCC.Web.UI.MarkType.Stamp:jV=true;fu.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:jV=true;fu.__type='HighlightText:#IPCC.Web';break;}if(iI){dO('El','eha');dO('Dx','ehl');dO('mt','eht');dO('tw','hfc');dO('GB','sha');dO('DJ','shl');dO('EL','sht');}else{dO('cI','fc');dO('yP','fv');dO('gF','lv');}if(jV){F=this.get_rectangle();fu.r={x:F.x,y:F.y,width:F.width,height:F.height};}fu.t=this.get_type();dO('gY','lc');dO('gv','ls');dO('gq','lw');dO('cn','o');dO('gI','v');if(xo){bE=this.ql();XP=[];for(K=0;K<bE.get_length();K++){ba=bE.getPoint(K);XP.push({x:ba.x,y:ba.y});}fu.p=XP;}return fu;},aBL:function(fu){var G=this;var bE,K;function dO(dP,Pl){if(fu.hasOwnProperty(Pl)){G[dP]=fu[Pl];}};var iI=false;var jV=false;var xo=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:iI=true;if(fu.p&&fu.p.length===2){bE=this.ql();bE.setPoint(0,new IPCC.Web.UI.Point(fu.p[0].x,fu.p[0].y));bE.setPoint(1,new IPCC.Web.UI.Point(fu.p[1].x,fu.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:iI=true;xo=true;dO('mK','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jV=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:jV=true;break;case IPCC.Web.UI.MarkType.Ellipse:jV=true;break;case IPCC.Web.UI.MarkType.Polygon:xo=true;break;case IPCC.Web.UI.MarkType.Text:jV=true;dO('EJ','clc');dO('Cq','clid');dO('rJ','cls');dO('Dc','clw');dO('Kf','ct');dO('Ag','cv');dO('gf','fn');dO('cJ','fs');dO('ff','fst');dO('gv','ls');dO('bo','te');dO('pO','tha');dO('AJ','tva');dO('pI','tc');dO('tS','to');dO('xH','tor');if(fu.cp){this.pr=new IPCC.Web.UI.Point(fu.cp.x,fu.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:jV=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:jV=true;break;}if(iI){dO('El','eha');dO('Dx','ehl');dO('mt','eht');dO('tw','hfc');dO('GB','sha');dO('DJ','shl');dO('EL','sht');}else{dO('cI','fc');dO('yP','fv');dO('gF','lv');}if(jV){if(fu.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(fu.r.x,fu.r.y,fu.r.width,fu.r.height));}}fu.t=this.get_type();dO('gY','lc');dO('gv','ls');dO('gq','lw');dO('cn','o');dO('gI','v');if(fu.p&&xo){bE=this.ql();for(K=0;K<fu.p.length;K++){bE.addPoint(new IPCC.Web.UI.Point(fu.p[K].x,fu.p[K].y));}}return fu;}};IPCC.Web.UI.Mark.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Mark.registerClass('IPCC.Web.UI.Mark');IPCC.Web.UI.ArtPage=function(){var au=[];var bP=new IPCC.Web.UI.gK();var fn=new IPCC.Web.UI.MarkCollection();var G=this;var FI=true;this.aCv=[];function onMarkSelectionChanged(aj,C){var O=C.mark;if(O.ds&&O.ds[0]&&O.ds[0].gI===false){return;}var ea;var nF=C.mark.get_selected();if(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&O.dM!==undefined){fn.remove_markAdded(onMarkSelectionChanged);fn.remove_markRemoved(onMarkSelectionChanged);for(var K=0;K<au.length;K++){if(au[K].dM===O.dM){if(au[K].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){ea=au[K];}else{au[K].set_selected(C.mark.get_selected());}}}fn.add_markAdded(onMarkSelectionChanged);fn.add_markRemoved(onMarkSelectionChanged);if(ea){ea.set_selected(nF);}return;}else if(O.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fn.remove_markAdded(onMarkSelectionChanged);fn.remove_markRemoved(onMarkSelectionChanged);for(var ae=0;ae<O.ds.length;ae++){O.ds[ae].set_selected(C.mark.get_selected());}fn.add_markAdded(onMarkSelectionChanged);fn.add_markRemoved(onMarkSelectionChanged);}var eT=new IPCC.Web.UI.MarkEventArgs();eT.mark=O;eT.zIndex=G.pb(O);eT.length=1;G.ai('markSelectionChanged',eT);};fn.add_markAdded(onMarkSelectionChanged);fn.add_markRemoved(onMarkSelectionChanged);var ayl=fn.addMark;fn.addMark=function(O){if(G.pb(O)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fn.contains(O)){ayl.call(fn,O);O.aA('selected');}};var axj=fn.addMarks;fn.addMarks=function(zy){var qK=[];function YR(O){if(G.pb(O)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fn.contains(O)){qK.push(O);}};zy.forEach(YR,{});axj.call(fn,zy);var K;for(K=0;K<qK.length;K++){qK[K].aA('selected');}};var ayH=fn.removeMark;fn.removeMark=function(O){if(fn.contains(O)){ayH.call(fn,O);O.aA('selected');}};var axv=fn.removeAllMarks;fn.removeAllMarks=function(){var qK=[];function YR(O){if(fn.contains(O)){qK.push(O);}};fn.forEach(YR,{});axv.call(fn);var K;for(K=0;K<qK.length;K++){qK[K].aA('selected');}};function ahE(mz){IPCC.aJ.nQ(mz,'zIndex',0,au.length-1);};this.Sn=function(){return au.length;};this.aet=function(){var K=0;for(;K<au.length;K++){if(au[K].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&au[K].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(au[K].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&au[K].dM!==undefined)){break;}}return K;};this.zT=function(){return fn;};this.Gy=function(H){if(H===FI){return;}FI=H;this.aA('FI');};this.FX=function(){return FI;};var pF=false;this.mI=function(){return pF;};this.qZ=function(H){if(typeof H!=="boolean"){return;}pF=H;this.aA('redactionDraftMode');};function sZ(aj,C){if(C.get_propertyName()==='selected'){return;}var eT=new IPCC.Web.UI.MarkEventArgs();eT.mark=aj;eT.zIndex=G.pb(aj);eT.propertyName=C.dP;eT.length=1;if(eT.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(eT.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&eT.mark.dM!=='undefined')){G.alD(aj);}G.ai('markChanged',eT);};function AY(aj){var eT=new IPCC.Web.UI.MarkEventArgs();eT.mark=aj;eT.zIndex=G.pb(aj);eT.length=1;G.ai('markTextSelectionChanged',eT);};function MG(aj,C){var eT=new IPCC.Web.UI.CommentEventArgs();eT.mark=aj;eT.comment=C.comment;eT.index=C.index;G.ai('commentAdded',eT);};function Nu(aj,C){var eT=new IPCC.Web.UI.CommentEventArgs();eT.mark=aj;eT.comment=C.comment;eT.index=C.index;G.ai('commentRemoved',eT);};function Na(aj,C){var eT=new IPCC.Web.UI.CommentEventArgs();eT.mark=aj;eT.comment=C.comment;eT.index=C.index;G.ai('commentChanged',eT);};this.LC=function(O,qT){qT=qT||{};var mz=this.pb(O);if(mz>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(O.dV()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}au.push(O);O.kf(this);O.add_propertyChanged(sZ);O.add_markTextSelectionChanged(AY);O.AH(MG);O.Aj(Nu);O.tn(Na);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=O;if(O.get_type()===IPCC.Web.UI.MarkType.Highlight||O.get_type()===IPCC.Web.UI.MarkType.HighlightText||O.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||O.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&O.dM!==undefined)){this.aeG(O,0);}else{C.zIndex=au.length-1;}C.clientX=qT.clientX;C.clientY=qT.clientY;C.length=1;G.ai('markAdded',C);};this.DA=function(og,dH){var Iw=[].concat(au);var K;for(K=0;K<Iw.length;K++){og.call(dH,Iw[K],K,this);}};this.Ou=function(mz){ahE(mz);return au[mz];};this.pb=function(O){var K;for(K=0;K<au.length;K++){if(au[K]===O){return K;}}return-1;};this.aCf=function(eo){var fu;if(typeof JSON!=='undefined'){fu=JSON.parse(eo);}else{fu=IPCC.cT.pa(eo,true);}this.Sl();var HN=[];var K;var OC=fu.m;if(OC){for(K=0;K<OC.length;K++){var aw=new IPCC.Web.UI.Mark(OC[K].t);aw.aBL(OC[K]);aw.kf(this);aw.add_propertyChanged(sZ);aw.add_markTextSelectionChanged(AY);HN.push(aw);}}au=HN;G.ai('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.ast=function(){var kS=new Array(36);var bD=0;var K;var aK;for(K=0;K<8;K++){kS[bD++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(K=0;K<3;K++){kS[bD++]=45;for(aK=0;aK<4;aK++){kS[bD++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}kS[bD++]=45;var ami=new Date().getTime();var anh=("0000000"+ami.toString(16).toUpperCase()).substr(-8);for(K=0;K<8;K++){kS[bD++]=anh.charCodeAt(K);}for(K=0;K<4;K++){kS[bD++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,kS);};function TF(jY){var ad=jY.firstChild;while(ad.nodeType!==1){ad=ad.nextSibling;}return ad;};function NZ(vW,afo,asO){var ayI=parseFloat(vW.getAttribute(afo));var ayR=parseFloat(vW.getAttribute(afo+'abS'));return asO/(ayI/ayR);};function aul(NC,aS,bI){var akD=NC.getAttribute('pageWidth');var akS=NC.getAttribute('pageHeight');var Oc,TG,ac,vW,K;if(akD&&akS){Oc=parseFloat(akD);TG=parseFloat(akS);if(isFinite(Oc)&&isFinite(TG)&&Oc>0&&TG>0){return aS/Oc;}}for(K=0;K<NC.childNodes.length;K++){vW=NC.childNodes[K];if(vW.nodeName!=='annotation'){continue;}ac=NZ(vW,'width',aS);if(isFinite(ac)&&ac>0){return ac;}ac=NZ(vW,'height',bI);if(isFinite(ac)&&ac>0){return ac;}ac=NZ(vW,'x',aS);if(isFinite(ac)&&ac>0){return ac;}ac=NZ(vW,'y',bI);if(isFinite(ac)&&ac>0){return ac;}}return 1;};this.ahB=function(jZ,bC,aS,bI,YZ,stampImages,vZ,uh){var G=this;if(vZ!==true){this.Sl();}if(jZ){var kD;if(IPCC.wE.CA()){kD=jZ.firstChild;}else{var SQ=jZ.firstChild.nodeName;if(SQ.toLowerCase()==='xml'){kD=jZ.firstChild.nextSibling;}else{kD=jZ.firstChild;}}var dj=TF(kD);if(dj.nodeName!=='pages'){throw 'ERROR: pages';}if(dj.hasChildNodes()){var K;for(K=0;K<dj.childNodes.length;K++){var aW=dj.childNodes[K];if(aW.nodeName!=='page'){continue;}var An=aW.getAttribute('id');var kn=false;var Al;var sh='';var Mq=[];var kx;var qW,ae=0;var cw,dm,bK;if(YZ){var afF=aW.getAttribute('pageWidth'),afH=aW.getAttribute('pageHeight');if(afF){YZ.apg(afF);}if(afH){YZ.amY(afH);}}var oA=[],QS={};if((An&&parseInt(An,10))===(bC+1)){kn=true;var HN=[];var aK;var aw;var jV,jc,pA,tO,rr;var vM=1;var acQ=aul(aW,aS,bI);if(acQ>0){vM=acQ;}for(aK=0;aK<aW.childNodes.length;aK++){var ap=aW.childNodes[aK];if(ap.nodeName!=='annotation'){continue;}var le=parseFloat(ap.getAttribute('width'))*vM;var jU=parseFloat(ap.getAttribute('height'))*vM;var hu=parseFloat(ap.getAttribute('x'))*vM;var gB=parseFloat(ap.getAttribute('y'))*vM;var afk=ap.getAttribute('fillColor'),Yf,sO,SV=ap.getAttribute('lineColor'),air,ke;if(afk==='transparent'){Yf=sO=afk;}else{Yf=parseInt(ap.getAttribute('fillColor'),10);sO=parseInt(Yf,10).toString(16);while(sO.length<6){sO='0'+sO;}sO='#'+sO;}if(SV==='transparent'){ke=SV;}else{air=parseInt(SV,10);ke=parseInt(air,10).toString(16);while(ke.length<6){ke='0'+ke;}ke='#'+ke;}var avy=ap.getAttribute('stampSize');var RG=ap.getAttribute('dragDirection');var Iz=parseInt(ap.getAttribute('opacity'),10);if(isNaN(Iz)){Iz=0;}if(ap.nodeName==='annotation'){var ajF=ap.getAttribute('label');if(!ajF){ajF='';}var mJ=ap.getAttribute('drawType');var ln;switch(mJ){case 'imagestamp':case 'imagestamp_redact':var qm=ap.getAttribute('imageStampId');var aP=(mJ==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;aw=new IPCC.Web.UI.Mark(aP);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_image(stampImages[qm].base64format);aw.qm=qm;jV=true;if(mJ==='imagestamp_redact'){aw.kN(true);}break;case 'circle':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});jV=true;aw.set_lineColor(ke);aw.set_fillVisible(false);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});jV=true;aw.set_fillColor(sO);aw.set_lineColor(ke);aw.set_fillVisible(true);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));break;case 'text':case 'text_redact':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_fontName('verdana');aw.set_fontSize(10);aw.set_opacity(0);Al=undefined;aw.set_fillColor('#000000');if(mJ==='text_redact'){aw.kN(true);}if(mJ==='text'){aw.set_fillColor(sO);aw.set_lineColor(ke);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));aw.set_fillVisible(true);aw.set_opacity(Iz);}oA=[];jc=ap.firstChild;while((jc)&&(jc.nodeType!==4)){jc=jc.nextSibling;}if((jc)&&(jc.nodeType===4)){ln=jc.innerText||jc.textContent||jc.data;aw.aE.bo=ln;qW=ln.split("</TEXTFORMAT>");sh='';Mq=[];for(ae=0;ae<qW.length;ae++){if(qW[ae].match(/<TEXTFORMAT/)){qW[ae]=qW[ae]+"</TEXTFORMAT>";oA.push(qW[ae]);}}for(ae=0;ae<oA.length;ae++){if(oA[ae].match(/<P/)){Al=this.ajV(oA[ae]);Mq.push(Al);sh+=Al+" ";if(ae===0){kx=this.aig(oA[ae]);amN(kx,aw);}}sh=sh.replace(/\s+$/g,"");aw.set_text(sh);var awa=this.asH(oA[ae]);switch(awa){case 'CENTER':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var bE=aw.ql();if(RG==='br'){bE.setPoint(1,new IPCC.Web.UI.Point(hu+le,gB+jU));bE.setPoint(0,new IPCC.Web.UI.Point(hu,gB));}else if(RG==='bl'){bE.setPoint(1,new IPCC.Web.UI.Point(hu,gB+jU));bE.setPoint(0,new IPCC.Web.UI.Point(hu+le,gB));}else if(RG==='tr'){bE.setPoint(1,new IPCC.Web.UI.Point(hu+le,gB));bE.setPoint(0,new IPCC.Web.UI.Point(hu,gB+jU));}else if(RG==='tl'){bE.setPoint(1,new IPCC.Web.UI.Point(hu,gB));bE.setPoint(0,new IPCC.Web.UI.Point(hu+le,gB+jU));}aw.set_lineColor(ke);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));if(mJ==='arrow'){aw.set_headFillColor(ke);aw.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);aw.set_startHeadAngle(30);aw.set_startHeadLength(35);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_fillColor(ke);if(mJ==='stamp_redact'){aw.kN(true);aw.set_fillColor('#000000');}jc=ap.firstChild;while((jc)&&(jc.nodeType!==4)){jc=jc.nextSibling;}if((jc)&&(jc.nodeType===4)){ln=jc.innerText||jc.textContent||jc.data;aw.aE.bo=ln;aw.set_text(ln);}break;case 'highlightText':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_fillColor(ke);aw.dM=ap.getAttribute('highlightGroupID');if(ap.getAttribute('textLength')){aw.cw=parseInt(ap.getAttribute('textLength'),10);}aw.dm=ap.getAttribute('selectedText');if(ap.getAttribute('startIndex')){aw.bK=parseInt(ap.getAttribute('startIndex'),10);}aw.mV=ap.getAttribute('isHighlight');aw.set_opacity(127);var ds=anj(ap,vM);if(ds){aw.ds=ds;}break;case 'rectangle_filled_redact':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_fillColor('#000000');aw.set_lineColor(ke);aw.set_fillVisible(true);aw.kN(true);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));pA=ap.getAttribute('highlightGroupID');aw.set_text(ap.getAttribute('meta'));if(pA){aw.set_lineWidth(0);aw.dM=pA;var ea=QS[pA];if(!ea){ea=QS[pA]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);ea.dM=pA;ea.set_rectangle(aw.get_rectangle());ea.kN(true);ea.set_text(ap.getAttribute('meta'));}else{var Mx=false;var qk=ea.get_rectangle();var gs=qk.x,ho=qk.x+qk.width,_top=qk.y,hM=qk.y+qk.height;if(qk.x>hu){Mx=true;gs=hu;}if(qk.y>gB){Mx=true;_top=gB;}if(qk.x+qk.width<hu+le){Mx=true;ho=hu+le;}if(qk.y+qk.height<gB+jU){Mx=true;hM=gB+jU;}if(Mx===true){ea.set_rectangle({x:gs,y:_top,width:ho-gs,height:hM-_top});}}}break;case 'text_selection_redaction':pA=ap.getAttribute('highlightGroupID');aw=QS[pA];if(!aw){aw=QS[pA]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);aw.dM=pA;aw.set_rectangle({x:0,y:0,width:0,height:0});aw.kN(true);aw.set_text(ap.getAttribute('meta'));}cw=ap.getAttribute('textLength');if(cw){aw.cw=parseInt(cw,10);}dm=ap.getAttribute('selectedText');if(dm){aw.dm=dm;}bK=ap.getAttribute('startIndex');if(bK){aw.bK=parseInt(bK,10);}break;case 'text_hyperlink_annotation':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);pA=ap.getAttribute('highlightGroupID');aw.dM=pA;var oh=ap.getAttribute('href');if(oh){aw.set_href(oh);}cw=ap.getAttribute('textLength');if(cw){aw.cw=parseInt(cw,10);}dm=ap.getAttribute('selectedText');if(dm){aw.dm=dm;}bK=ap.getAttribute('startIndex');if(bK){aw.bK=parseInt(bK,10);}var mV=ap.getAttribute('isHighlight');aw.mV=mV?mV:'n';aw.ds=anj(ap,vM);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});break;case 'rectangle':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_lineVisible(true);aw.set_lineColor(ke);aw.set_fillVisible(false);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));break;case 'rectangle_filled':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_fillColor(sO);aw.set_lineColor(ke);aw.set_fillVisible(true);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_fillColor(sO);aw.set_lineColor(ke);aw.set_fillVisible(true);if(mJ==='rectangle_trans_redact'){aw.kN(true);}aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(mJ==='freehand'){aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);}aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_pathWidth(parseFloat(ap.getAttribute('pathWidth')));aw.set_pathHeight(parseFloat(ap.getAttribute('pathHeight')));aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));aw.set_lineColor(ke);var wJ=ap.firstChild;while((wJ)&&(wJ.nodeType!==4)){wJ=wJ.nextSibling;}if((wJ)&&(wJ.nodeType===4)){ln=wJ.innerText||wJ.textContent||wJ.data;aw.aE.bo=ln;aw.set_pathString(ln);}break;case 'signature_text':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});aw.set_fontSize(10);aw.set_lineWidth=0;aw.set_fillVisible(true);aw.set_opacity(1);jc=ap.firstChild;this.alu(jc,aw);aw.wq=parseFloat(ap.getAttribute('fontWidth'));aw.vA=parseFloat(ap.getAttribute('fontHeight'));break;case 'text_input_signature':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);aw.set_rectangle({x:hu,y:gB,width:le,height:jU});jc=ap.firstChild;this.alu(jc,aw);aw.wq=parseFloat(ap.getAttribute('fontWidth'));aw.vA=parseFloat(ap.getAttribute('fontHeight'));aw.set_lineVisible(false);break;case 'polyline':aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);aw.set_lineWidth(parseFloat(ap.getAttribute('lineWidth')));aw.set_lineColor(ke);var wG=ap.firstChild;while((wG)&&(wG.nodeType!==4)){wG=wG.nextSibling;}var DS;if((wG)&&(wG.nodeType===4)){ln=wG.innerText||wG.textContent||wG.data;if(ln&&ln!=='undefined'){if(typeof JSON!=='undefined'){DS=JSON.parse(ln);}else{DS=IPCC.cT.pa(ln,true);}bE=aw.ql();if(DS){for(K=0;K<DS.length;K++){bE.addPoint(new IPCC.Web.UI.Point(DS[K].x*vM,DS[K].y*vM));}}}}break;default:}if(aw){aw.aE.lh=ap.getAttribute('nodeId');if(Iz>=0&&(mJ==='rectangle_trans_redact'|| !aw.jg())&&mJ!=='stamp'&&mJ!=='imagestamp'&&mJ!=='imagestamp_redact'&&mJ!=='text_hyperlink_annotation'&&mJ!=='text_input_signature'){aw.set_opacity(Iz);}aw.aE.FT=avy;aw.aE.aFg=mJ;aw.aE.gq=ap.getAttribute('lineWidth');aw.aE.cI=ap.getAttribute('fillColor');aw.aE.gY=ap.getAttribute('lineColor');aw.aE.aFT=ap.getAttribute('dragDirection');aw.aE.An=An;aw.aE.ad=ap.getAttribute('x');aw.aE.fp=ap.getAttribute('y');aw.aE.cN=ap.getAttribute('height');aw.aE.bN=ap.getAttribute('width');aw.aE.aDA=ap.getAttribute('x_percent');aw.aE.aEa=ap.getAttribute('y_percent');aw.aE.aEL=ap.getAttribute('height_percent');aw.aE.aER=ap.getAttribute('width_percent');aw.aE.aDz=ap.getAttribute('formUser');aw.aE.aEf=ap.getAttribute('created');aw.aE.aEB=ap.getAttribute('modified');aw.aE.aFI=ap.getAttribute('saveDate');aw.aE.aDU=ap.getAttribute('saveTime');aw.aE.pu=ap.getAttribute('meta');var Bl=ap.firstChild;while((Bl)&&(Bl.nodeType!==4)){Bl=Bl.nextSibling;}if((Bl)&&(Bl.nodeType===4)){aw.dg.push(Bl.data);}else{aw.dg.push('');}var oV=parseInt(ap.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;aw.set_interactionMode(oV);aw.kf(this);aw.add_propertyChanged(sZ);aw.add_markTextSelectionChanged(AY);aw.AH(MG);aw.Aj(Nu);aw.tn(Na);HN.push(aw);aum(ap,aw);tO=IPCC.aN.alj(ap.getAttribute('created'));rr=IPCC.aN.alj(ap.getAttribute('modified'));tO=tO||new Date();rr=rr||new Date();aw.initializeDates(tO,rr);if(uh){aw.set_visible(false);}}}}au=au.concat(HN);G.ai('marksLoaded',{});}if(kn){auc(jZ,bC);break;}}}}};this.alu=function(ty,aw){var K,ln,qW,sh,Mq,Al,oA=[],kx;while((ty)&&(ty.nodeType!==4)){ty=ty.nextSibling;}if((ty)&&(ty.nodeType===4)){ln=ty.innerText||ty.textContent||ty.data;aw.aE.bo=ln;qW=ln.split("</TEXTFORMAT>");for(K=0;K<qW.length;K++){if(qW[K].match(/<TEXTFORMAT/)){qW[K]=qW[K]+"</TEXTFORMAT>";oA.push(qW[K]);}}sh='';Mq=[];for(K=0;K<oA.length;K++){if(oA[K].match(/<P/)){Al=this.ajV(oA[K]);Mq.push(Al);sh+=Al+" ";if(K===0){kx=this.aig(oA[K]);amN(kx,aw);}}sh=sh.replace(/\s+$/g,"");aw.set_text(sh);if(aw.get_type()!==IPCC.Web.UI.MarkType.TextLine){aw.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);}}}};function Zi(adx,bY){for(var i=0;i<adx.childNodes.length;i++){var Zh=adx.childNodes[i];if(Zh.nodeName==='kvp'){var bA=Zh.getAttribute("key");var H=Zh.getAttribute("value");bY.set_data(bA,H);}}};function auu(Qi,dA){var dq=new IPCC.Web.UI.Comment(IPCC.aN.abl(Qi.getAttribute("text")));dq.set_creationTime(Qi.getAttribute("created"));dA.addComment(dq);for(var i=0;i<Qi.childNodes.length;i++){var adO=Qi.childNodes[i];if(adO.nodeName==='data'){Zi(adO,dq.get_data());}}};function att(aiY,dA){for(var i=0;i<aiY.childNodes.length;i++){var QO=aiY.childNodes[i];if(QO.nodeName==='comments'){var gp=QO;for(var j=0;j<gp.childNodes.length;j++){var adh=gp.childNodes[j];if(adh.nodeName==='comment'){auu(adh,dA);}}}else if(QO.nodeName==='data'){Zi(QO,dA.get_data());}}};function aum(aiq,O){for(var i=0;i<aiq.childNodes.length;i++){var KP=aiq.childNodes[i];if(KP.nodeName==='conversation'){att(KP,O.get_conversation());}else if(KP.nodeName==='data'){Zi(KP,O.get_data());}}};function anj(uN,xf){var kU=null,Cz;for(var i=0;i<uN.childNodes.length;i++){Cz=uN.childNodes[i];if(Cz.nodeName==='line-rectangles'){if(!kU){kU=atv(Cz,xf);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return kU;};function atv(uN,xf){var kU=[],Cz;for(var i=0;i<uN.childNodes.length;i++){Cz=uN.childNodes[i];if(Cz.nodeName==='rectangle'){kU.push(ava(Cz,xf));}}return kU;};function ava(uN,xf){var ad=parseFloat(uN.getAttribute("x"))*xf;var fp=parseFloat(uN.getAttribute("y"))*xf;var bN=parseFloat(uN.getAttribute("width"))*xf;var cN=parseFloat(uN.getAttribute("height"))*xf;return new IPCC.Web.UI.Rectangle(ad,fp,bN,cN);};this.SA=function(bm,Ii,wB,gF,cn,bD){var aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aw.set_rectangle({x:bm.x,y:bm.y,width:bm.width,height:bm.height});aw.set_fillColor(wB);aw.set_fillVisible(true);aw.bK=bD;aw.cw=1;if(cn){aw.set_opacity(cn);}else{aw.set_opacity(127);}G.addMark(aw);return aw;};this.aqD=function(bm,abL,bD){var aw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aw.set_rectangle({x:bm.x,y:bm.y,width:bm.width,height:bm.height});aw.set_fillColor(abL.get_fillColor());aw.set_fillVisible(true);aw.bK=bD;aw.cw=1;if(abL.get_opacity()){aw.set_opacity(abL.get_opacity());}else{aw.set_opacity(127);}G.addMark(aw);return aw;};function amN(kx,aw){for(var cP=0;cP<kx.length;cP++){var cq=kx[cP].attribs;var kn=false;if(kx[cP].attribs.length>1&& !kn&&kx[cP].Im==='font'){kn=true;for(var aK=0;aK<cq.length;aK++){if(cq[aK].dG==="FACE"){aw.set_fontName(cq[aK].H);}else if(cq[aK].dG==="SIZE"&&aw.get_type()!==IPCC.Web.UI.MarkType.TextLine){var tq=parseFloat(cq[aK].H);aw.set_fontSize(tq);}else if(cq[aK].dG==="COLOR"){var adj=cq[aK].H;if(aw.get_type()===IPCC.Web.UI.MarkType.SignatureText){aw.set_fillColor(adj);}else{aw.set_textColor(adj);}}}var lm=false;if(kx[cP+1]&&aw.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(kx[cP+1].tagName==='font'){break;}else{var yN=kx[cP+1].Im;if(yN==='b'||yN==='i'||yN==='u'||yN==='s'){if(yN==='b'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(yN==='i'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(yN==='u'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(yN==='s'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}lm=true;}}if(kx[cP+2]){var aoK=kx[cP+2].Im;lm=VJ(aw,lm,aoK);}if(kx[cP+3]){var aoN=kx[cP+3].Im;lm=VJ(aw,lm,aoN);}if(kx[cP+4]){var apk=kx[cP+4].Im;lm=VJ(aw,lm,apk);}if(kn){break;}}}}};function VJ(O,aje,yw){var lm=aje;var aw=O;if(aje){if(yw==='b'){aw.set_fontStyle(aw.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);lm=true;}else if(yw==='i'){aw.set_fontStyle(aw.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);lm=true;}else if(yw==='u'){aw.set_fontStyle(aw.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);lm=true;}else if(yw==='s'){aw.set_fontStyle(aw.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);lm=true;}}else{if(yw==='b'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);lm=true;}else if(yw==='i'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);lm=true;}else if(yw==='u'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);lm=true;}else if(yw==='s'){aw.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);lm=true;}}return lm;};function EK(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var agv=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,aiE=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,awP=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aqR=EK("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var OU=EK("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aBk=EK("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var apx=EK("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var apG=EK("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var anx=EK("script,style");this.aeK=function(html,handler){var bD,yQ,xd,lV=[],vU=html;function parseEndTag(tag,tagName){var iJ;if(!tagName){iJ=0;}else{for(iJ=lV.length-1;iJ>=0;iJ--){if(lV[iJ]===tagName){break;}}}if(iJ>=0){for(var i=lV.length-1;i>=iJ;i--){if(handler.end){handler.end(lV[i]);}}lV.length=iJ;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(OU[tagName]){while(lV.last()&&aBk[lV.last()]){parseEndTag("",lV.last());}}if(apx[tagName]&&lV.last()===tagName){parseEndTag("",tagName);}unary=aqR[tagName]|| ! !unary;if(!unary){lV.push(tagName);}if(handler.start){var attrs=[];rest.replace(awP,function(xd,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:apG[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};lV.last=function(){return this[this.length-1];};function atB(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){yQ=true;if(!lV.last()|| !anx[lV.last()]){if(html.indexOf("<!--")===0){bD=html.indexOf("-->");if(bD>=0){if(handler.comment){handler.comment(html.substring(4,bD));}html=html.substring(bD+3);yQ=false;}}else if(html.indexOf("</")===0){xd=html.match(aiE);if(xd){html=html.substring(xd[0].length);xd[0].replace(aiE,parseEndTag);yQ=false;}}else if(html.indexOf("<")===0){xd=html.match(agv);if(xd){html=html.substring(xd[0].length);xd[0].replace(agv,parseStartTag);yQ=false;}}if(yQ){bD=html.indexOf("<");var text=bD<0?html:html.substring(0,bD);text=IPCC.aN.abl(text);html=bD<0?"":html.substring(bD);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+lV.last()+"[^>]*>"),atB);parseEndTag("",lV.last());}if(html===vU){throw " Parse Error in annotation Html Text: "+html;}vU=html;}parseEndTag();};this.ajV=function(html){var results="";this.aeK(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.aig=function(html){var gH=[];this.aeK(html,{start:function(tag,attrs){var eD;eD=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var xp={};xp.Im=tag;xp.attribs=[];if(tag==='b'){xp.aDQ=true;}else if(tag==='i'){xp.aEy=true;}else if(tag==='u'){xp.aEJ=true;}else if(tag==='s'){xp.aDN=true;}else{for(var i=0;i<attrs.length;i++){var Bh={};Bh.dG=attrs[i].name;Bh.H=attrs[i].value;xp.attribs.push(Bh);}}gH.push(xp);}},end:function(){},chars:function(){},comment:function(){}});return gH;};this.asH=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];switch(alignment){case 'CENTER':return alignment;case 'RIGHT':return alignment;default:return 'LEFT';}};function auc(jZ,ayZ){var lU=jZ.getElementsByTagName("highlights")[0];if(lU.hasChildNodes()){var kQ;var dJ;for(var K=0;K<lU.childNodes.length;K++){kQ=lU.childNodes[K];if(kQ.nodeType===1){dJ=kQ.getAttribute('page');if(dJ&&parseInt(dJ,10)===ayZ+1){var jj=new IPCC.Web.UI.aBa();jj.aBI=kQ.nodeName;switch(jj.aBI){case 'tag':jj.OJ=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':jj.OJ=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':jj.OJ=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':jj.OJ=IPCC.Web.UI.HighLightType.Redaction;break;default:jj.OJ=undefined;}if(kQ.childNodes[0].data){jj.dg.push(kQ.childNodes[0].data);}jj.aE.bX=kQ.getAttribute('id');jj.aE.aDK=kQ.getAttribute('userid');jj.aE.aFl=kQ.getAttribute('mode');jj.aE.eK=kQ.getAttribute('color');jj.aE.aDV=kQ.getAttribute('occurence');jj.aE.ap=kQ.getAttribute('annotation');jj.aE.aW=kQ.getAttribute('page');jj.aE.aEQ=kQ.getAttribute('documentname');jj.aE.aFR=kQ.getAttribute('tooltip');jj.aE.aET=kQ.getAttribute('allowdelete');jj.aE.lv=kQ.getAttribute('start');jj.aE.aFV=kQ.getAttribute('end');G.aCv.push(jj);}}}}};this.Sl=function(){var C;if(au.length<1){return;}fn.removeAllMarks();var K;for(K=au.length-1;K>=0;K--){au[K].remove_propertyChanged(sZ);au[K].remove_markTextSelectionChanged(AY);au[K].kf(null);C=new IPCC.Web.UI.MarkEventArgs();C.length=au.length;C.zIndex=0;C.mark=au.pop();G.ai('markRemoved',C);}C=new IPCC.Web.UI.MarkEventArgs();C.length=au.length;C.zIndex=0;G.ai('markRemoved',C);};this.wP=function(O){var mz=this.pb(O);var wn=O.dM;if(mz>=0){O.remove_propertyChanged(sZ);O.remove_markTextSelectionChanged(AY);O.kf(null);au.splice(mz,1);fn.removeMark(O);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=O;C.zIndex=mz;C.length=1;G.ai('markRemoved',C);if(wn){this.arj(wn);}}};this.aGs=function(qY){var wx=au.length;var wn=qY.dM;while(wx--){var O=au[wx];if(O.dM===wn){O.set_fillColor(qY.get_fillColor());}}};this.alD=function(qY){var wx=au.length;var wn=qY.dM;if(!wn){qY.set_text(qY.get_text());return;}while(wx--){var O=au[wx];if(O.dM===wn){if(O.get_text()!==qY.get_text()){O.set_text(qY.get_text());}if(O.get_fontName()!==qY.get_fontName()){O.set_fontName(qY.get_fontName());}if(O.get_fontSize()!==qY.get_fontSize()){O.set_fontSize(qY.get_fontSize());}}}};this.arj=function(wn){var wx=au.length;while(wx--){var O=au[wx];if(O.dM===wn){var mz=this.pb(O);fn.removeMark(O);au.splice(wx,1);var C=new IPCC.Web.UI.MarkEventArgs();C.mark=O;C.zIndex=mz;C.length=1;}}};this.aeG=function(O,mz){var MD=this.pb(O);if(MD<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(MD===mz){return;}ahE(mz);au.splice(MD,1);au.splice(mz,0,O);if(O.get_type()===IPCC.Web.UI.MarkType.Highlight||O.get_type()===IPCC.Web.UI.MarkType.HighlightText||O.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||O.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&O.dM!==undefined)){return;}var C=new IPCC.Web.UI.MarkEventArgs();C.mark=O;C.zIndex=mz;C.oldZIndex=MD;C.length=1;G.ai('markReordered',C);};function ake(kU,fl,cK){if(!kU){return undefined;}var nv={fY:'line-rectangles',dg:[],aE:{}};IPCC.aN.forEach(kU,function(F){nv.dg.push({fY:'rectangle',dg:[],aE:{x:F.x,y:F.y,height:F.height,width:F.width}});});return nv;};function TI(bY){if(!bY){return undefined;}var rO=bY.get_dataKeys();if(rO.length===0){return undefined;}var nv={fY:'data',dg:[],aE:{}};IPCC.aN.forEach(rO,function(bA){var H=bY.get_data(bA);nv.dg.push({fY:'kvp',dg:[],aE:{key:bA,value:H}});});return nv;};function auE(dq){if(!dq){return undefined;}var AR={fY:'comment',dg:[],aE:{}};AR.aE.text=IPCC.aN.Fq(dq.get_text());AR.aE.created=dq.get_creationTime();var nv=TI(dq.get_data());if(nv){AR.dg.push(nv);}return AR;};function auz(dA){if(!dA||dA.get_length()===0){return undefined;}var VG={fY:'conversation',dg:[],aE:{}};var aai={fY:'comments',dg:[],aE:{}};VG.dg.push(aai);dA.forEach(function(dq){var AR=auE(dq);if(AR){aai.dg.push(AR);}});var nv=TI(dA.get_data());if(nv){VG.dg.push(nv);}return VG;};this.azR=function(bC,fl,cK,bn){var kD={fY:'documentAnnotations',dg:[],aE:{}};var dj={fY:'pages',dg:[],aE:{}};kD.dg.push(dj);var lU={fY:'highlights',dg:[],aE:{}};kD.dg.push(lU);var vR={},uw=[];var aW={fY:'page',dg:[],aE:{id:(bC+1).toString(),pageWidth:fl,pageHeight:cK}};dj.dg.push(aW);bn=bn||{};var aeY=(bn.includeAnnotations!==undefined)? ! !bn.includeAnnotations:true,afa=(bn.includeRedactions!==undefined)? ! !bn.includeRedactions:true,aen=(bn.includeSignatures!==undefined)? ! !bn.includeSignatures:false,Js=(bn.Js!==undefined)? ! !bn.Js:false,apK= ! !Js;var K;var iI=false;var mg;var jw;var lB,xJ,vu,bo;for(K=0;K<au.length;K++){if(aeY===false&&afa===false&&aen===false){break;}var O=au[K];var aP=O.get_type();if(apK&& !O.get_visible()){continue;}if(aeY===false){if(aP===IPCC.Web.UI.MarkType.Rectangle||aP===IPCC.Web.UI.MarkType.Ellipse||aP===IPCC.Web.UI.MarkType.Line||aP===IPCC.Web.UI.MarkType.Text||aP===IPCC.Web.UI.MarkType.Stamp||aP===IPCC.Web.UI.MarkType.Highlight||aP===IPCC.Web.UI.MarkType.HighlightText||aP===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||aP===IPCC.Web.UI.MarkType.Freehand||aP===IPCC.Web.UI.MarkType.ImageStampAnnotation||aP===IPCC.Web.UI.MarkType.Polyline){if(O.jg()===false){continue;}}}if(afa===false){if(O.jg()===true){continue;}if(aP===IPCC.Web.UI.MarkType.RectangleRedaction||aP===IPCC.Web.UI.MarkType.TextSelectionRedaction||aP===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aen===false){if(aP===IPCC.Web.UI.MarkType.SignaturePath||aP===IPCC.Web.UI.MarkType.SignatureText||aP===IPCC.Web.UI.MarkType.SignatureImage||aP===IPCC.Web.UI.MarkType.TextLine){continue;}}var bv={fY:'annotation',dg:[],aE:{}};if(!O.aE.lh){bv.aE.nodeId=G.ast();}else{bv.aE.nodeId=O.aE.lh;}var aiL,KC="",vE="";if(O.get_lineColor()){var Qq=O.get_lineColor();if(Qq==='transparent'){bv.aE.lineColor=Qq;}else{aiL=Qq.replace(/#/,"");KC=parseInt(aiL,16);vE=KC.toString();bv.aE.lineColor=vE;}}bv.aE.interactionMode=O.get_interactionMode();bv.aE.stampSize='122';var MU={};MU[IPCC.Web.UI.MarkType.Stamp]=true;MU[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;MU[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((aP===IPCC.Web.UI.MarkType.Rectangle&&O.get_opacity()<255|| !O.jg())&&MU[aP]!==true){bv.aE.opacity=O.get_opacity();}if(O.get_conversation().get_length()>0){bv.dg.push(auz(O.get_conversation()));}var nv=TI(O.get_data());if(nv){bv.dg.push(nv);}iI=false;switch(aP){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:jw=O.get_fillColor();if(jw==='transparent'){bv.aE.fillColor=jw;}else if(jw){mg=jw.replace(/#/,"");bv.aE.fillColor=parseInt(mg,16).toString();}else{bv.aE.fillColor=vE;}if(O.get_fillVisible()){if(O.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(O.get_opacity()===255){if(O.jg()===true){bv.aE.drawType='rectangle_filled_redact';if(O.dM){bv.aE.highlightGroupID=O.dM;}}else{bv.aE.drawType='rectangle_filled';}}else{if(O.jg()===true){bv.aE.drawType='rectangle_trans_redact';}else{bv.aE.drawType='rectangle_trans';}}}else{if(O.get_opacity()===255){bv.aE.drawType='circle_filled';if(O.jg()){bv.aE.drawType='circle_filled_redact';}}else{bv.aE.drawType='circle_trans';if(O.jg()){bv.aE.drawType='circle_trans_redact';}}}}else{if(O.get_type()===IPCC.Web.UI.MarkType.Rectangle){bv.aE.drawType='rectangle';bv.aE.fillColor=vE;}else{bv.aE.drawType='circle';bv.aE.fillColor=vE;}}bv.aE.dragDirection='br';var F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.height=F.height;bv.aE.width=F.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bv.aE.lineWidth=O.get_lineWidth();iI=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bv.aE.highlightGroupID=O.dM;bv.aE.drawType='text_selection_redaction';if(O.dm&&O.dm.length>0){bv.aE.startIndex=O.bK;bv.aE.selectedText=O.dm;bv.aE.textLength=O.cw;}break;case IPCC.Web.UI.MarkType.Text:var yg=O.get_rectangle();bv.aE.x=yg.x;bv.aE.y=yg.y;bv.aE.x_percent=yg.x/fl;bv.aE.y_percent=yg.y/cK;bv.aE.height_percent=yg.height/cK;bv.aE.width_percent=yg.width/fl;bv.aE.height=yg.height;bv.aE.width=yg.width;jw=O.get_fillColor();if(O.jg()===true){bv.aE.drawType='text_redact';}else{bv.aE.drawType='text';bv.aE.opacity=O.get_opacity();}if(jw==='transparent'){bv.aE.fillColor=jw;}else if(jw){mg=jw.replace(/#/,"");bv.aE.fillColor=parseInt(mg,16).toString();}else{bv.aE.fillColor='16776960';}var cv='';cv="<TEXTFORMAT LEADING=\"2\">";switch(O.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:cv+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:cv+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:cv+="<P ALIGN=\"right\" ";break;}cv+=">";cv+="<FONT ";xJ=O.get_fontName();cv+="FACE="+"\""+xJ+"\" ";vu=O.get_fontSize().toString();cv+="SIZE= \""+vu+"\" ";lB="\""+O.get_textColor()+"\" ";cv+="COLOR="+lB+" ";cv+="LETTERSPACING=\"0\" ";cv+="KERNING=\"0\" ";cv+=">";var ff=O.get_fontStyle();if(ff&IPCC.Web.UI.FontStyle.Bold){cv+="<B>";}if(ff&IPCC.Web.UI.FontStyle.Italic){cv+="<I>";}if(ff&IPCC.Web.UI.FontStyle.Underline){cv+="<U>";}if(ff&IPCC.Web.UI.FontStyle.Strikeout){cv+="<S>";}bo=O.get_text();bo=IPCC.aN.Fq(bo);cv+=bo;if(ff&IPCC.Web.UI.FontStyle.Strikeout){cv+="</S>";}if(ff&IPCC.Web.UI.FontStyle.Underline){cv+="</U>";}if(ff&IPCC.Web.UI.FontStyle.Italic){cv+="</I>";}if(ff&IPCC.Web.UI.FontStyle.Bold){cv+="</B>";}cv+="</FONT>";cv+="</P>";cv+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.height=F.height;bv.aE.width=F.width;bv.aE.drawType='highlight';bv.aE.highlightGroupID=O.dM;bv.aE.isHighlight=O.mV;jw=O.get_fillColor();if(jw){mg=jw.replace(/#/,"");bv.aE.fillColor=parseInt(mg,16).toString();bv.aE.lineColor=parseInt(mg,16).toString();}else{bv.aE.fillColor=vE;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.height=F.height;bv.aE.width=F.width;bv.aE.drawType='text_hyperlink_annotation';bv.aE.href=O.oh;bv.aE.startIndex=O.bK;bv.aE.selectedText=O.dm;bv.aE.textLength=O.cw;bv.aE.highlightGroupID=O.dM;bv.aE.isHighlight=O.mV;bv.dg.push(ake(O.ds,fl,cK));break;case IPCC.Web.UI.MarkType.HighlightText:F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.height=F.height;bv.aE.width=F.width;bv.aE.drawType='highlightText';bv.aE.startIndex=O.bK;bv.aE.selectedText=O.dm;bv.aE.textLength=O.cw;bv.aE.highlightGroupID=O.dM;bv.aE.isHighlight=O.mV;jw=O.get_fillColor();if(jw){mg=jw.replace(/#/,"");bv.aE.fillColor=parseInt(mg,16).toString();bv.aE.lineColor=parseInt(mg,16).toString();}else{bv.aE.fillColor=vE;}bv.dg.push(ake(O.ds,fl,cK));break;case IPCC.Web.UI.MarkType.RectangleRedaction:F=O.get_rectangle();bv.aE.drawType='rectangle_filled_redact';bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.height=F.height;bv.aE.width=F.width;bv.aE.meta=O.get_text();bv.aE.stampSize=O.get_fontSize();if(O.dM){bv.aE.highlightGroupID=O.dM;}break;case IPCC.Web.UI.MarkType.Stamp:jw=O.get_fillColor();if(jw){mg=jw.replace(/#/,"");bv.aE.fillColor=parseInt(mg,16).toString();bv.aE.lineColor=parseInt(mg,16).toString();}else{bv.aE.fillColor=vE;}F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.height=F.height;bv.aE.width=F.width;if(O.jg()===true){bv.aE.drawType='stamp_redact';}else{bv.aE.drawType='stamp';}bo=O.get_text();bv.aE.stampSize=O.stampSize;bv.dg.push('<![CDATA['+bo+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(O.get_type()===IPCC.Web.UI.MarkType.Freehand){bv.aE.drawType='freehand';}else{bv.aE.drawType='signature_path';}cv=O.get_pathString();bv.aE.pathWidth=O.get_pathWidth();bv.aE.pathHeight=O.get_pathHeight();F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.height=F.height;bv.aE.width=F.width;break;case IPCC.Web.UI.MarkType.SignatureText:jw=O.get_fillColor();var cI;if(jw){mg=jw.replace(/#/,"");bv.aE.fillColor="";bv.aE.lineColor="";cI=parseInt(mg,16).toString();}else{bv.aE.fillColor="";cI=vE;}F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.height=F.height;bv.aE.width=F.width;bv.aE.opacity=0;bv.aE.drawType='signature_text';bv.aE.stampSize=O.stampSize;bv.aE.fontWidth=O.wq;bv.aE.fontHeight=O.vA;cv='';cv="<TEXTFORMAT LEADING=\"2\">";cv+="<P ALIGN=\"center\" ";cv+=">";cv+="<FONT ";xJ=O.get_fontName();cv+="FACE="+"\""+xJ+"\" ";vu=O.stampSize.toString();cv+="SIZE= \""+vu+"\" ";lB="\""+O.get_fillColor()+"\" ";cv+="COLOR="+lB+" ";cv+="LETTERSPACING=\"0\" ";cv+="KERNING=\"0\" ";cv+=">";bo=IPCC.aN.Fq(O.get_text());cv+=bo;cv+="</FONT>";cv+="</P>";cv+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!Js){F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.height=F.height;bv.aE.width=F.width;bv.aE.opacity=0;bv.aE.drawType='text_input_signature';bv.aE.stampSize=O.stampSize;bv.aE.fontWidth=O.wq;bv.aE.fontHeight=O.vA;cv='';cv="<TEXTFORMAT LEADING=\"2\">";cv+="<P ALIGN=\"left\" ";cv+=">";cv+="<FONT ";xJ=O.get_fontName();cv+="FACE="+"\""+xJ+"\" ";vu=O.stampSize.toString();cv+="SIZE= \""+vu+"\" ";lB="\""+O.get_textColor()+"\" ";cv+="COLOR="+lB+" ";cv+="LETTERSPACING=\"0\" ";cv+="KERNING=\"0\" ";cv+=">";bo=IPCC.aN.Fq(O.get_text());cv+=bo;cv+="</FONT>";cv+="</P>";cv+="</TEXTFORMAT>";}else{F=O.get_rectangle();var Fb=O.stampSize;var rd;if(!O.Lp|| !O.rd){var amB=IPCC.aN.aly(O.get_text(),O.get_fontName(),F.width,F.height,{wS:"pre",cJ:Fb+"px"});rd=amB;O.Lp=true;O.rd=rd;}else{rd=O.rd;}Fb=rd.fontSize;var iq=rd.width/F.width,aF=1.0,MIN_BUFFER=0.85;if(/mono/i.test(O.get_fontName())){MIN_BUFFER=0.75;}if(iq>MIN_BUFFER){aF=MIN_BUFFER*F.width/rd.width;Fb=Fb*aF;}var alg=F.width,aqE=rd.height*aF,akd=F.height-(F.height-aqE)/2,ajZ=F.x,akU=F.y+(F.height-rd.height)/2+(rd.height*(1-aF));bv.aE.x=ajZ;bv.aE.y=akU;bv.aE.x_percent=ajZ/fl;bv.aE.y_percent=akU/cK;bv.aE.height_percent=akd/cK;bv.aE.width_percent=alg/fl;bv.aE.height=akd;bv.aE.width=alg;bv.aE.opacity=0;bv.aE.drawType='text_redact';cv='';cv="<TEXTFORMAT>";cv+="<P ALIGN=\"left\" ";cv+=">";cv+="<FONT ";xJ=O.get_fontName();cv+="FACE="+"\""+xJ+"\" ";if(O.aca){vu=(Fb/O.aca).toString();}else{vu=Fb.toString();}cv+="SIZE= \""+vu+"\" ";lB="\""+O.get_textColor()+"\" ";cv+="COLOR="+lB+" ";cv+="LETTERSPACING=\"0\" ";cv+="KERNING=\"0\" ";cv+=">";bo=IPCC.aN.Fq(O.get_text());cv+=bo;cv+="</FONT>";cv+="</P>";cv+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bv.aE.drawType=(aP===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';F=O.get_rectangle();bv.aE.x=F.x;bv.aE.y=F.y;bv.aE.height=F.height;bv.aE.width=F.width;bv.aE.lineWidth=O.get_lineWidth();bv.aE.x_percent=F.x/fl;bv.aE.y_percent=F.y/cK;bv.aE.height_percent=F.height/cK;bv.aE.width_percent=F.width/fl;bv.aE.imageStampId=O.qm;vR[O.qm]={fY:'stampImage',dg:[],aE:{imageStampId:O.qm,base64format:O.dB()}};break;}if(iI){bv.aE.lineWidth=O.get_lineWidth();var bm=O.get_boundingRectangle();bv.aE.x=bm.x;bv.aE.y=bm.y;bv.aE.x_percent=bm.x/fl;bv.aE.y_percent=bm.y/cK;bv.aE.height_percent=bm.height/cK;bv.aE.width_percent=bm.width/fl;bv.aE.height=bm.height;bv.aE.width=bm.width;if(aP===IPCC.Web.UI.MarkType.Line){if(O.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bv.aE.drawType='line';}else{bv.aE.drawType='arrow';}}else{bv.aE.drawType='polyline';}bv.aE.lineWidth=O.get_lineWidth();var bE=O.get_points();if(aP===IPCC.Web.UI.MarkType.Line){if((bE.getPoint(0).x<bE.getPoint(1).x)&&(bE.getPoint(0).y>bE.getPoint(1).y)){bv.aE.dragDirection='tr';}else if((bE.getPoint(0).x>bE.getPoint(1).x)&&(bE.getPoint(0).y>bE.getPoint(1).y)){bv.aE.dragDirection='tl';}else if((bE.getPoint(0).x>bE.getPoint(1).x)&&(bE.getPoint(0).y<bE.getPoint(1).y)){bv.aE.dragDirection='bl';}else if((bE.getPoint(0).x<bE.getPoint(1).x)&&(bE.getPoint(0).y<bE.getPoint(1).y)){bv.aE.dragDirection='br';}else{bv.aE.dragDirection='br';}}else{var xS=[];var cL=bE.get_length(),ba;if(cL>1){for(var aK=0;aK<bE.get_length();aK++){ba=bE.getPoint(aK);xS.push({x:ba.x,y:ba.y});}cv=IPCC.cT.Zb(xS);}}if(KC){bv.aE.fillColor=KC;}else{bv.aE.fillColor="";}}else{bv.aE.lineWidth=O.get_lineWidth();bv.aE.dragDirection='br';}if(O.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bv.aE.meta='';}bv.aE.label='';var fD=new Date();bv.aE.saveDate=IPCC.aN.asf(fD);bv.aE.saveTime=IPCC.aN.asE(fD);bv.aE.uuid='';bv.aE.formUser='';bv.aE.created=IPCC.aN.akV(O.get_dateCreated());bv.aE.modified=IPCC.aN.akV(O.get_dateModified());if(O.get_type()===IPCC.Web.UI.MarkType.Text||O.get_type()===IPCC.Web.UI.MarkType.Freehand||O.get_type()===IPCC.Web.UI.MarkType.SignaturePath||O.get_type()===IPCC.Web.UI.MarkType.SignatureText||O.get_type()===IPCC.Web.UI.MarkType.Polyline||O.get_type()===IPCC.Web.UI.MarkType.TextLine){bv.dg.push('<![CDATA['+cv+']]>');}else{bv.dg.push('');}if(O.get_type()!==IPCC.Web.UI.MarkType.Highlight){aW.dg.push(bv);}}for(var Jp in vR){if(vR.hasOwnProperty(Jp)){uw.push(vR[Jp]);}}return{kD:kD,uw:uw};};this.azz=function(){var fu={m:[]};var K;for(K=0;K<au.length;K++){fu.m.push(au[K].azV());}G.ai('marksSaved',{});var ahR="";ahR=IPCC.cT.Zb(fu);return ahR;};this.Af=function(L){bP.addHandler('markAdded',L);};this.yU=function(L){bP.removeHandler('markAdded',L);};this.CL=function(L){bP.addHandler('markChanged',L);};this.Fo=function(L){bP.removeHandler('markChanged',L);};this.za=function(L){bP.addHandler('markRemoved',L);};this.ye=function(L){bP.removeHandler('markRemoved',L);};this.Co=function(L){bP.addHandler('markReordered',L);};this.Gk=function(L){bP.removeHandler('markReordered',L);};this.Oz=function(L){bP.addHandler('marksLoaded',L);};this.OA=function(L){bP.removeHandler('marksLoaded',L);};this.awg=function(L){bP.addHandler('marksSaved',L);};this.azl=function(L){bP.removeHandler('marksSaved',L);};this.BZ=function(L){bP.addHandler('markSelectionChanged',L);};this.Fw=function(L){bP.removeHandler('markSelectionChanged',L);};this.Jz=function(L){bP.addHandler('markTextSelectionChanged',L);};this.Kp=function(L){bP.removeHandler('markTextSelectionChanged',L);};this.AH=function(L){bP.addHandler('commentAdded',L);};this.Gw=function(L){bP.removeHandler('commentAdded',L);};this.Aj=function(L){bP.addHandler('commentRemoved',L);};this.GJ=function(L){bP.removeHandler('commentRemoved',L);};this.tn=function(L){bP.addHandler('commentChanged',L);};this.vz=function(L){bP.removeHandler('commentChanged',L);};this.iT=function(L){bP.addHandler('propertyChanged',L);};this.kA=function(L){bP.removeHandler('propertyChanged',L);};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){L(this,C);}};this.aA=function(dP){var L=bP.getHandler("propertyChanged");if(L){L(this,new IPCC.pR(dP));}};return this;};IPCC.Web.UI.ArtPage.prototype={get_markCount:function(){return this.Sn();},get_selectedMarks:function(){return this.zT();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.LC(mark,mouseLocation);},forEachMark:function(method,context){this.DA(method,context);},getMark:function(zIndex){return this.Ou(zIndex);},getZIndexOfMark:function(mark){return this.pb(mark);},loadFromJson:function(json){this.aCf(json);},removeAllMarks:function(){this.Sl();},removeMark:function(mark){this.wP(mark);},reorderMark:function(mark,zIndex){this.aeG(mark,zIndex);},saveToJson:function(){return this.azz();},add_markAdded:function(handler){this.Af(handler);},remove_markAdded:function(handler){this.yU(handler);},add_markChanged:function(handler){this.CL(handler);},remove_markChanged:function(handler){this.Fo(handler);},add_markRemoved:function(handler){this.za(handler);},remove_markRemoved:function(handler){this.ye(handler);},add_markReordered:function(handler){this.Co(handler);},remove_markReordered:function(handler){this.Gk(handler);},add_marksLoaded:function(handler){this.Oz(handler);},remove_marksLoaded:function(handler){this.OA(handler);},add_markSelectionChanged:function(handler){this.BZ(handler);},remove_markSelectionChanged:function(handler){this.Fw(handler);},add_markTextSelectionChanged:function(handler){this.Jz(handler);},remove_markTextSelectionChanged:function(handler){this.Kp(handler);},add_commentAdded:function(handler){this.AH(handler);},remove_commentAdded:function(handler){this.Gw(handler);},add_commentRemoved:function(handler){this.Aj(handler);},remove_commentRemoved:function(handler){this.GJ(handler);},add_commentChanged:function(handler){this.tn(handler);},remove_commentChanged:function(handler){this.vz(handler);}};IPCC.Web.UI.ArtPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ArtPage.registerClass('IPCC.Web.UI.ArtPage');IPCC.Web.UI.aBa=function(){this.fY=undefined;this.dg=[];this.aE={};};IPCC.Jx=function(){};IPCC.Jx.prototype.lL=function(V){this.V=V;this.bw=V.bF();this.jm=this.bw.get_cursor();this.bw.set_cursor(IPCC.an.RunMarks);this.bw.FA(IPCC.an.Link);};IPCC.Jx.prototype.fC=function(){this.bw.set_cursor(this.jm);this.bw.FA(IPCC.an.Default);this.V=false;};IPCC.Jx.prototype.ab=function(){};IPCC.nK=function(){this.bi=false;this.V=false;};IPCC.nK.prototype.lL=function(V){this.V=V;this.V.abX(true);this.bw=V.bF();this.jm=this.bw.get_cursor();this.bw.set_cursor(IPCC.an.EditMarks);this.bw.FA(IPCC.an.Move);};IPCC.nK.prototype.fC=function(){this.bw.set_cursor(this.jm);this.bw.FA(IPCC.an.Default);if(arguments[0]){if(arguments[0]===true){this.V=false;return;}}this.V.abX(false);this.V=false;};IPCC.nK.prototype.ab=function(){if(this.bi){this.bw.set_cursor(IPCC.an.EditMarks);this.bw.FA(IPCC.an.Move);this.V.Gy(true);this.bw.pE();this.bi=false;this.V.co();}};IPCC.nK.prototype.wX=function(C){this.ab();var O=C.mark;if(O&&O.kC()===IPCC.Web.UI.MarkType.Text){this.V.zg(O);this.V.co();}};IPCC.nK.prototype.kv=function(C){this.ab();var jf=C.domEvent;if(jf.button===0){var de=jf.target;this.cG=de.ImGearMarkHandle;if(this.cG){this.vl=this.cG.aI;this.oR=this.cG.bD;}else{this.vl=null;this.oR=null;}while(!(de.ImGearMarkRelation)&&de.parentNode&&de!==document.body){de=de.parentNode;}this.J=de.ImGearMarkRelation;if(this.J){this.O=this.J.O;}else{this.O=null;}this.bi=true;this.Qx=C.imagePoint;this.Ed=C.imagePoint;var O=this.O;if(!O||O.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!jf.shiftKey){this.V.dV().zT().removeAllMarks();}this.bw.Fy(C.imagePoint);}else{var gu,F;switch(this.vl){case IPCC.ar.aU.prototype.We:this.iP=O.eg();this.YJ=Math.abs(this.iP.width);this.JO=Math.abs(this.iP.height);gu={x:this.iP.x,y:this.iP.y};this.QL={x:this.iP.x+this.iP.width,y:this.iP.y+this.iP.height};if(this.oR>0&&this.oR<3){gu.x+=this.iP.width;this.QL.x-=this.iP.width;}if(this.oR>1){gu.y+=this.iP.height;this.QL.y-=this.iP.height;}this.aDt=gu;break;case IPCC.ar.aU.prototype.XB:F=O.eg();this.iP=F;gu={x:F.x+F.width/2,y:F.y+F.height/2};switch(this.oR){case 0:this.BA=F.y+F.height;gu.y=F.y;break;case 1:this.BA=F.x;gu.x=F.x+F.width;break;case 2:this.BA=F.y;gu.y=F.y+F.height;break;case 3:this.BA=F.x+F.width;gu.x=F.x;break;}break;case IPCC.ar.aU.prototype.Ib:this.bE=O.ql();if(this.oR<0||this.oR>this.bE.eI()){this.ab();}gu=this.bE.getPoint(this.oR);break;case IPCC.ar.aU.prototype.Ij:break;case IPCC.ar.aU.prototype.ZG:F=O.eg();gu={x:F.x+O.pr.x,y:F.y+O.pr.y};break;default:var yR=O.get_selected();if(jf.ctrlKey||jf.shiftKey){yR= !yR;O.set_selected(yR);}else{if(!yR){yR=true;this.V.dV().zT().removeAllMarks();if(O.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var K=0;K<this.V.dV().get_markCount();K++){var XZ=this.V.dV().getMark(K);if(XZ.kC()===608&&XZ.dM===O.dM){XZ.set_selected(yR);}}}else{O.set_selected(yR);}}}if(!yR){this.ab();}break;}if(this.bi&&gu){this.apO=gu.x-this.Qx.x;this.aqA=gu.y-this.Qx.y;if(this.cG){this.bw.set_cursor(this.cG.bf);this.bw.FA(this.cG.bf);}}}if(this.bi){this.V.Gy(false);}}this.V.co();};IPCC.nK.prototype.ld=function(C){var jf=C.domEvent;var Ed;function auG(aAI){aAI.JX(C.imagePoint.x-Ed.x,C.imagePoint.y-Ed.y);};if(jf.button!==0){this.ab();}if(this.bi){var O=this.O;if(!O||O.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.bw.BJ(C.imagePoint);}else{var gu={x:C.imagePoint.x+this.apO,y:C.imagePoint.y+this.aqA};var F;switch(this.vl){case IPCC.ar.aU.prototype.We:var qa={x:gu.x,y:gu.y};var lN={x:this.QL.x,y:this.QL.y};if(jf.ctrlKey){lN.x=this.iP.x+this.iP.width/2;lN.y=this.iP.y+this.iP.height/2;}if(jf.shiftKey){var uC=Math.abs(qa.x-lN.x);var ue=Math.abs(qa.y-lN.y);if(uC*this.JO<ue*this.YJ){if(this.JO>0.001){uC=ue*this.YJ/this.JO;}}else{if(this.JO>0.001){ue=uC*this.JO/this.YJ;}}if(qa.x<lN.x){uC= -uC;}if(qa.y<lN.y){ue= -ue;}qa.x=lN.x+uC;qa.y=lN.y+ue;}if(jf.ctrlKey){lN={x:lN.x-(qa.x-lN.x),y:lN.y-(qa.y-lN.y)};}F={};F.x=Math.min(lN.x,qa.x);F.width=Math.max(lN.x,qa.x)-F.x;F.y=Math.min(lN.y,qa.y);F.height=Math.max(lN.y,qa.y)-F.y;O.set_rectangle(F);break;case IPCC.ar.aU.prototype.XB:F=O.eg();var Bx;if(this.oR&1){if(jf.ctrlKey){Bx=this.iP.x+this.iP.width/2;F.width=Math.abs(gu.x-Bx)*2;F.x=Bx-F.width/2;}else{F.x=Math.min(gu.x,this.BA);F.width=Math.max(gu.x,this.BA)-F.x;}}else{if(jf.ctrlKey){Bx=this.iP.y+this.iP.height/2;F.height=Math.abs(gu.y-Bx)*2;F.y=Bx-F.height/2;}else{F.y=Math.min(gu.y,this.BA);F.height=Math.max(gu.y,this.BA)-F.y;}}O.set_rectangle(F);break;case IPCC.ar.aU.prototype.Ib:this.bE=O.ql();gu=this.bE.setPoint(this.oR,gu);break;case IPCC.ar.aU.prototype.Ij:break;case IPCC.ar.aU.prototype.ZG:F=O.eg();O.set_calloutPoint({x:gu.x-F.x,y:gu.y-F.y});break;default:Ed=this.Ed;this.Ed=C.imagePoint;this.V.dV().zT().np(auG);break;}}this.V.co();}};IPCC.nK.prototype.jz=function(){function avL(O){var HQ=O.afd();if(ady.contains(HQ)&&ady.contains({x:HQ.x+HQ.width,y:HQ.y+HQ.height})){O.set_selected(true);}};if(this.bi){if(!this.O){var ady=this.bw.yj();this.V.dV().DA(avL);this.bw.pE();}this.ab();}};IPCC.nK.prototype.pM=function(C){var bu=this.V.eC();if(C.windowPoint.x<=0||C.windowPoint.x>=bu.width-2){this.ab();}if(C.windowPoint.y<=0||C.windowPoint.y>=bu.height-2){this.ab();}};IPCC.nK.prototype.nh=function(){this.ab();};IPCC.Web.UI.Comment=function(text){var bP=new IPCC.Web.UI.gK();var bY=new IPCC.Web.UI.Data();this.WK=IPCC.aN.yC(new Date());this.bo=text;this.anW=function(bo){if(bo===this.bo){return;}this.bo=bo;var C=new IPCC.Web.UI.CommentEventArgs();C.comment=this;C.length=1;this.ai('commentChanged',C);};this.atb=function(){return this.bo;};this.aAE=function(aAY){this.WK=aAY;};this.asL=function(){return this.WK;};this.tn=function(L){bP.addHandler('commentChanged',L);};this.vz=function(L){bP.removeHandler('commentChanged',L);};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){L(this,C);}};this.xF=function(){return bY;};return this;};IPCC.Web.UI.Comment.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.tn(handler);},remove_commentChanged:function(handler){this.vz(handler);},get_text:function(){return this.atb();},set_text:function(text){this.anW(text);},get_creationTime:function(){return this.asL();},set_creationTime:function(isoTimeString){this.aAE(isoTimeString);},get_data:function(){return this.xF();}};IPCC.Web.UI.Comment.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Comment.registerClass('IPCC.Web.UI.Comment');IPCC.Web.UI.Conversation=function(avv){var gp=[];var bP=new IPCC.Web.UI.gK();var bY=new IPCC.Web.UI.Data();var O=avv;var G=this;function Np(aj,C){G.ai('commentChanged',C);};this.LY=function(dq){dq.add_commentChanged(Np);gp.push(dq);var C=new IPCC.Web.UI.CommentEventArgs();C.comment=dq;C.length=1;C.index=gp.length-1;this.ai('commentAdded',C);};this.azA=function(dq){var XL= -1;IPCC.aN.forEach(gp,function(el,idx){if(el===dq){XL=idx;}});if(XL=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var afl=gp.splice(XL,1)[0];afl.vz(Np);var C=new IPCC.Web.UI.CommentEventArgs();C.comment=afl;C.length=1;this.ai('commentRemoved',C);};this.np=function(og,dH){var K;for(K=0;K<gp.length;K++){og.call(dH,gp[K],K,this);}};this.eI=function(){return gp.length;};this.AH=function(L){bP.addHandler('commentAdded',L);};this.Gw=function(L){bP.removeHandler('commentAdded',L);};this.tn=function(L){bP.addHandler('commentChanged',L);};this.vz=function(L){bP.removeHandler('commentChanged',L);};this.Aj=function(L){bP.addHandler('commentRemoved',L);};this.GJ=function(L){bP.removeHandler('commentRemoved',L);};this.xF=function(){return bY;};this.QW=function(){return O;};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){L(this,C);}};return this;};IPCC.Web.UI.Conversation.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.LY(comment);},removeCommentInstance:function(comment){this.azA(comment);},forEach:function(method,context){this.np(method,context);},get_length:function(){return this.eI();},add_commentAdded:function(handler){this.AH(handler);},remove_commentAdded:function(handler){this.Gw(handler);},add_commentChanged:function(handler){this.tn(handler);},remove_commentChanged:function(handler){this.vz(handler);},add_commentRemoved:function(handler){this.Aj(handler);},remove_commentRemoved:function(handler){this.GJ(handler);},get_data:function(){return this.xF();},get_mark:function(){return this.QW();}};IPCC.Web.UI.Conversation.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Conversation.registerClass('IPCC.Web.UI.Conversation');IPCC.Web.UI.Data=function(){this.bY={};this.xF=function(key){if(typeof key==='undefined'){return IPCC.aN.extend({},this.bY);}else if(typeof key==='string'){return this.bY[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aze=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.bY[key]=value;}else if(typeof value==='undefined'){delete this.bY[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.atZ=function(){var keys=[];IPCC.aN.forEach(this.bY,function(value,key){keys.push(key);});return keys;};return this;};IPCC.Web.UI.Data.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.xF(key);},set_data:function(key,value){return this.aze(key,value);},get_dataKeys:function(){return this.atZ();}};IPCC.Web.UI.Data.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Data.registerClass('IPCC.Web.UI.Data');IPCC.ar={};IPCC.HI=function(V){var bQ=this;this.alW='filter';this.alJ=function(cn){return 'progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(cn*100)+');';};this.VX=true;this.Sk=function(af,cr,lQ,bz,pl,nG){if(af.Hg){af.qI.aeu(cr,lQ,bz,af.kh);}};this.afp=function(){};this.ahm(V);this.acu=function(bJ){return new IPCC.Du(bJ.clientWidth,bJ.clientHeight,window.screen.deviceXDPI,window.screen.deviceYDPI);};this.ZN=function(am){bQ.kv(am);};this.ahd=function(am){bQ.wX(am);};this.Zd=function(am){bQ.ld(am);};this.De=function(am){bQ.nh(am);};this.Yo=function(am){bQ.jz(am);};this.TS=function(am){am.returnValue=false;bQ.kv(am);};this.YY=function(am){am.returnValue=false;bQ.ld(am);};this.aag=function(am){am.returnValue=false;bQ.jz(am);};this.Vt=function(am){bQ.Ni(am);};this.Uw=function(am){if(am.target!==document.activeElement){bQ.amA(am);}};this.abN=function(am){if(am.target!==document.activeElement){bQ.amj(am);}};this.agg=function(){var ey=V.kg().igElements.lW;IPCC.Web.UI.ao.addHandler(ey,"mousewheel",this.De);IPCC.Web.UI.ao.addHandler(ey,"dblclick",this.ahd);};this.aik=function(){var ey=V.kg().igElements.lW;IPCC.Web.UI.ao.removeHandler(ey,"mousewheel",this.De);IPCC.Web.UI.ao.removeHandler(ey,"dblclick",this.ahd);};this.acb=function(af,fQ,ou,zn){var K,aD,bJ;for(K=0;K<ou.eO.length;K++){aD=ou.eO[K];bJ=document.createElement('div');aD.pool.parentElementID=zn+K.toString();bJ.id=aD.pool.parentElementID;bJ.style.width='0px';bJ.style.height='0px';bJ.setAttribute('tabindex','-1');fQ.appendChild(bJ);}};this.afC=function(fa){var Qh=this.YW();var DX=fa.pool;var fQ=document.getElementById(DX.parentElementID);var bJ;bJ=document.createElement('img');bJ.id=Qh;if(V.bF().get_presentationQuality()>49){bJ.style.msInterpolationMode='bicubic';}else{bJ.style.msInterpolationMode='nearest-neighbor';}bJ.style.position='absolute';bJ.style.display='none';bJ.setAttribute('tabindex','-1');bJ.setAttribute('hidefocus','true');fQ.appendChild(bJ);fa.elementID=Qh;bJ.poolItem=fa;};this.ank=function(fa){var bJ=document.getElementById(fa.elementID);this.pB(bJ.style,'display','none');};this.ZV=function(fa){var bJ=document.getElementById(fa.elementID);if(bJ===null){fa.elementID='';return;}bJ.src='';bJ.parentElement.removeChild(bJ);fa.elementID='';};var EZ=function(am){try{IPCC.Web.UI.ao.removeHandler(am.target,'load',EZ);am.target.onabort=null;am.target.onerror=null;var fa=am.target.poolItem;fa.loaded=true;bQ.xM();}catch(ex){V.T('downloadImage',ex);var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=ex;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}};var aBV=function(){try{var am=window.event;IPCC.Web.UI.ao.removeHandler(am.srcElement,'load',EZ);am.srcElement.onabort=null;am.srcElement.onerror=null;var fa=am.srcElement.poolItem;fa.loaded=false;var cE='An image download was aborted by the user';if(typeof(V.kg)==='function'){cE+='Div Id = '+V.kg().id;}throw new IPCC.Web.UI.ImGearException(cE,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){V.T('downloadImage',ex);var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=ex;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}};var aCS=function(){try{var am=window.event;IPCC.Web.UI.ao.removeHandler(am.srcElement,'load',EZ);am.srcElement.onabort=null;am.srcElement.onerror=null;var fa=am.srcElement.poolItem;fa.loaded=false;var cE='An image failed to load. Error status ';if(typeof(V.kg)==='function'){cE+='Div Id = '+V.kg().id;}throw new IPCC.Web.UI.ImGearException(cE,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){V.T('downloadImage',ex);var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=ex;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}};this.SD=function(bJ,dh,sv){var ja=true;var ll=0;if(V.ia()===0){ja=false;}var bG=new XMLHttpRequest(),jD,kJ=false;if(V.RY()&&V.dU()===true){var fP=IPCC.Web.os.Qb(4);var mc=IPCC.Web.gl.Er.lO(fP);var Zv=dh+'&iv='+mc;bG.open('GET',Zv,true);bG.responseType='text';}else{bG.open('GET',dh,true);bG.responseType='text';}function lH(){var cR;try{var di,aG,bZ,ks;var jS;var hS=di;if(bG.readyState===4){di=bG.status;if(bG.status===200){aG=null;try{if(ja===true){if(jD){clearTimeout(jD);}}var nt=bG.getResponseHeader("Accusoft-Data-Encrypted");if(nt==='true'){var rF=IPCC.Web.gl.pw.sk(bG.getResponseHeader("Accusoft-Data-SK"));var bA=IPCC.Web.Dy(rF,fP);var ct=IPCC.Web.Cr(bG);var tg=IPCC.Web.As(ct,bA,fP);var TQ=IPCC.Web.gl.pw.lO(tg,0,0);bJ.setAttribute('src','data:'+sv+';base64,'+TQ);}else{bJ.setAttribute('src',dh);}}catch(ex){bZ="Image error, Error message = "+ex.message;cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=ex;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);throw new IPCC.Web.UI.ImGearArgumentException(null,bZ);}}else if((di<200)||(di>=300)){if(ja===true){if(jD){clearTimeout(jD);}}hS=bG.status;if(di===403){ll++;if(bG.statusText&&bG.statusText!==""){bZ="Expired viewer session ID, error message from the server: "+bG.statusText;}else{bZ="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(di,bZ);}ks=bG.getResponseHeader('Accusoft-Status-Message');if(ks){var ov;jS=bG.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vx(jS)){ov=parseInt(jS,10);}throw new IPCC.Web.UI.ImGearHttpException(hS,ks,ov);}else if(kJ){throw new IPCC.Web.UI.ImGearHttpException(hS,"Client Image load timeout");}else{if(bG.statusText&&bG.statusText!==""){bZ=bG.statusText;}else{bZ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hS,bZ);}}}}catch(e){V.T('openPage',e);if(typeof(V.ai)==='function'){cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}}};bG.onreadystatechange=lH;if(ja===true){jD=setTimeout(function(){kJ=true;bG.abort();},V.ia());}bG.send();};this.ahF=function(la){var K;for(K=0;K<la.length;K++){var bJ=document.getElementById(la[K].poolItem.elementID);bJ.style.visibility='hidden';IPCC.Web.UI.ao.addHandler(bJ,'load',EZ);bJ.onabort=aBV;bJ.onerror=aCS;if(V.RY()&&V.dU()===true){this.SD(bJ,la[K].url,'image/png');}else{bJ.setAttribute('src',la[K].url);}}};this.QV=function(hq,aqZ,YN,wa){var mx=document.getElementById(hq.poolItem.elementID);if(YN){this.pB(mx,'width',Math.round(wa.height));this.pB(mx,'height',Math.round(wa.width));}else{this.pB(mx,'width',Math.round(wa.width));this.pB(mx,'height',Math.round(wa.height));}this.pB(mx.style,'left',wa.x.toString());this.pB(mx.style,'top',wa.y.toString());this.pB(mx.style,'filter',aqZ);this.pB(mx.style,'visibility','visible');this.pB(mx.style,'display','block');};this.aaG=function(la,cn,cr){var K;if(la.length<1){return;}var GA='';if(cn<1){GA='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(cn*100).toString()+')';}var fw=cr.clone();var Bv=1/la[0].level.aF;var Eo=IPCC.eF(Bv,0,0,Bv,0,0);fw.zr(Eo);var oE=fw.IH();if(oE){Eo=new IPCC.eF(-1,0,0,1,0,0);fw.append(Eo);}var rH=Math.round(fw.CV()/90);Eo=new IPCC.eF(1,0,0,1,0,0);Eo.rotate(rH*90);fw.zr(Eo);var adT='';if(oE||rH!==0){adT+='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oE?'1':'0')+', rotation='+rH.toString()+')';}var YN=(rH===1||rH===3);var jr,Gf,wa;for(K=0;K<la.length;K++){jr=la[K];Bv=1/jr.level.aF;Gf={x:jr.x*Bv,y:jr.y*Bv};Gf.width=jr.right*Bv-Gf.x;Gf.height=jr.bottom*Bv-Gf.y;wa=cr.rK(Gf);this.QV(la[K],GA+adT,YN,wa);}};};IPCC.HI.prototype=new IPCC.aU();IPCC.ar.HI=function(){};IPCC.ar.HI.prototype={abT:function(V,af,bz){this.V=V;this.bw=V.bF();this.af=af;this.fl=bz.width;this.cK=bz.height;this.BY=bz.hf;this.aBg=bz.gC;if(!document.namespaces.igvml){document.namespaces.add('igvml','urn:schemas-microsoft-com:vml');var style=document.createStyleSheet();style.addRule('igvml\\:group','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:oval','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:rect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:fill','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:polyline','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:shape','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:skew','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:stroke','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:fill','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textpath','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:roundrect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textbox','behavior: url(#default#VML); display:inline-block;');}af.sN=document.createElement('div');af.Wu.insertBefore(af.sN,af.yc);},Jb:function(J){var fH='vmltextmark-'+J.O.jx();var mu=document.createElement('div');mu.style.position='absolute';mu.style.top=mu.style.left='0';mu.style.width=mu.style.height='100%';mu.style.background='blue';mu.style['filter']="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";mu.setAttribute('data-pcc-mark',fH);return mu;},aab:function(J){J.pK=[];J.kz=[];var fH='vmlmark-'+J.O.jx(),G=this,tz,ma,iy,ep,OV;switch(J.O.get_type()){case IPCC.Web.UI.MarkType.Rectangle:J.ax=this.aL('rect');J.sy=this.aL('fill');J.ax.appendChild(J.sy);if(J.O.jg()&&J.O.get_opacity()===255){IPCC.Web.UI.ao.addHandler(J.ax,"mouseover",function(){J.ax.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(127/2.55)+')';});IPCC.Web.UI.ao.addHandler(J.ax,"mouseout",function(){J.ax.style.filter='';});}break;case IPCC.Web.UI.MarkType.HighlightText:fH="highlighttextannotation-"+J.O.jx();J.ax=this.aL('group');J.ax.setAttribute('data-pcc-mark',fH);this.fc(J.ax,{width:this.fl*100+'px',height:this.cK*100+'px'});J.hz=this.aL('group');J.ax.appendChild(J.hz);this.fc(J.hz,{width:this.fl*100+'px',height:this.cK*100+'px'});J.oe=this.aL('shape');J.pK.push(J.oe);J.wL=this.aL('stroke');this.ag(J.wL,{on:'true'});J.oe.appendChild(J.wL);J.wL.imgearUnstyled=true;J.ax.appendChild(J.oe);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:fH="texthyperlinkannotation-"+J.O.jx();J.ax=this.aL('group');J.ax.setAttribute('data-pcc-mark',fH);this.fc(J.ax,{width:this.fl*100+'px',height:this.cK*100+'px'});J.hz=this.aL('group');J.ax.appendChild(J.hz);this.fc(J.hz,{width:this.fl*100+'px',height:this.cK*100+'px'});J.oe=this.aL('shape');J.pK.push(J.oe);this.fc(J.oe,{cursor:IPCC.an.es(IPCC.an.Link)});J.wL=this.aL('stroke');this.ag(J.wL,{on:'true'});J.oe.appendChild(J.wL);J.wL.imgearUnstyled=true;J.ax.appendChild(J.oe);J.wM=this.aL('shape');J.pK.push(J.wM);this.fc(J.wM,{cursor:IPCC.an.es(IPCC.an.Link)});J.Kg=this.aL('stroke');J.kz.push(J.Kg);this.ag(J.Kg,{on:'true'});J.wM.appendChild(J.Kg);J.Kg.imgearUnstyled=true;J.ax.appendChild(J.wM);IPCC.Web.UI.ao.addHandler(J.ax,"mouseover",function(){J.wM.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ar.aU.xe(true,J.O.get_selected())*100+")";});IPCC.Web.UI.ao.addHandler(J.ax,"mouseout",function(){J.wM.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ar.aU.xe(false,J.O.get_selected())*100+")";});break;case IPCC.Web.UI.MarkType.DocumentHyperlink:fH="documenthyperlink-"+J.O.jx();J.ax=this.aL('group');J.ax.setAttribute('data-pcc-mark',fH);J.F=this.aL('roundrect');J.VL=this.aL('fill');J.uy=this.aL('stroke');J.F.appendChild(J.VL);J.F.appendChild(J.uy);J.ax.appendChild(J.F);this.fc(J.F,{cursor:IPCC.an.es(IPCC.an.Link)});if(J.O.xh==='Underline'&&J.O.gq>0){J.mb=this.aL('rect');J.alY=this.aL('stroke');J.ZU=this.aL('fill');J.mb.appendChild(J.alY);J.mb.appendChild(J.ZU);J.ax.appendChild(J.mb);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J.ax=this.aL('shape');J.hH=document.createElement('img');J.hH.setAttribute('data-pcc-mark',fH);J.hH.setAttribute("src",J.O.get_image());J.hH.setAttribute("class",'pcc-image-stamp-img');J.hH.removeAttribute('height');J.hH.removeAttribute('width');var mu=this.Jb(J);mu.setAttribute('data-pcc-mark',fH);J.ax.appendChild(J.hH);J.ax.appendChild(mu);break;case IPCC.Web.UI.MarkType.RectangleRedaction:J.ax=this.aL('group');this.fc(J.ax,{width:this.fl*100+'px',height:this.cK*100+'px'});J.hk=this.aL('rect');J.ax.appendChild(J.hk);J.lE=this.aL('shape');J.rZ=document.createTextNode('');J.Rg=document.createElement('div');J.Rg.setAttribute('class','pcc-valign-mid');J.uB=document.createElement('div');J.uB.setAttribute('class','pcc-cell-content');J.uB.style.height='1px';J.uB.style.width='1px';J.ci=document.createElement('div');J.ci.style.position='absolute';J.ci.style.overflow='hidden';J.ci.style.display='table';if(document.documentMode>=8){J.ci.style.whiteSpace='pre-wrap';}J.uB.appendChild(J.rZ);J.ci.appendChild(J.Rg);J.Rg.appendChild(J.uB);J.sy=J.lE;fH='vmltextmark-'+J.O.jx();J.lE.setAttribute('data-pcc-mark',fH);J.ci.setAttribute('data-pcc-mark',fH);J.Rg.setAttribute('data-pcc-mark',fH);J.uB.setAttribute('data-pcc-mark',fH);IPCC.Web.UI.ao.addHandler(J.ci,"mouseover",function(){if(G.V.mI()===false){J.ci.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";J.ci.style.color='#000000';}});IPCC.Web.UI.ao.addHandler(J.ci,"mouseout",function(){if(G.V.mI()===false){J.ci.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";J.ci.style.color='#ffffff';}});break;case IPCC.Web.UI.MarkType.Ellipse:J.ax=this.aL('oval');J.sy=this.aL('fill');J.ax.appendChild(J.sy);break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:J.ax=this.aL('group');this.fc(J.ax,{width:this.fl*100+'px',height:this.cK*100+'px'});J.ax.setAttribute('data-pcc-mark',fH);J.hN=this.aL('shape');this.ag(J.hN,{filled:'f'});J.pK.push(J.hN);J.CN=this.aL('stroke');J.kz.push(J.CN);this.ag(J.CN,{on:'true'});J.hN.appendChild(J.CN);J.wc=this.aL('shape');J.pK.push(J.wc);J.EY=this.aL('stroke');J.kz.push(J.EY);this.ag(J.EY,{on:'true'});J.wc.appendChild(J.EY);J.EY.imgearUnstyled=true;J.wI=this.aL('shape');J.pK.push(J.wI);J.Hf=this.aL('stroke');J.kz.push(J.Hf);this.ag(J.Hf,{on:'true'});J.wI.appendChild(J.Hf);J.Hf.imgearUnstyled=true;J.ax.appendChild(J.hN);J.ax.appendChild(J.wc);J.ax.appendChild(J.wI);break;case IPCC.Web.UI.MarkType.Polygon:J.ax=this.aL('shape');J.pK.push(J.ax);break;case IPCC.Web.UI.MarkType.Text:J.ax=this.aL('group');this.fc(J.ax,{width:this.fl*100+'px',height:this.cK*100+'px'});J.lE=this.aL('shape');J.pK.push(J.lE);J.HW=this.aL('stroke');J.kz.push(J.HW);J.lE.appendChild(J.HW);J.ax.appendChild(J.lE);J.HW.imgearUnstyled=true;J.sy=this.aL('fill');J.lE.appendChild(J.sy);J.hN=this.aL('shape');this.ag(J.hN,{filled:'f'});J.pK.push(J.hN);J.CN=this.aL('stroke');J.kz.push(J.CN);this.ag(J.CN,{on:'true'});J.hN.appendChild(J.CN);J.ax.appendChild(J.hN);J.qX=this.aL('shape');this.ag(J.qX,{filled:'f'});J.pK.push(J.qX);J.yF=this.aL('stroke');J.kz.push(J.yF);this.ag(J.yF,{on:'true'});J.qX.appendChild(J.yF);J.ax.appendChild(J.qX);J.yF.imgearUnstyled=true;J.rZ=document.createTextNode('');J.ci=document.createElement('div');J.ci.style.position='absolute';J.ci.style.overflow='hidden';if(document.documentMode>=8){J.ci.style.whiteSpace='pre-wrap';}J.ci.appendChild(J.rZ);fH='vmltextmark-'+J.O.jx();J.lE.setAttribute('data-pcc-mark',fH);J.HW.setAttribute('data-pcc-mark',fH);J.hN.setAttribute('data-pcc-mark',fH);J.qX.setAttribute('data-pcc-mark',fH);J.yF.setAttribute('data-pcc-mark',fH);J.ci.setAttribute('data-pcc-mark',fH);break;case IPCC.Web.UI.MarkType.Highlight:J.ax=this.aL('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:J.ax=this.aL('group');J.hz=J.ax;this.fc(J.ax,{width:this.fl*100+'px',height:this.cK*100+'px'});break;case IPCC.Web.UI.MarkType.Stamp:J.ax=this.aL('roundrect');J.uG=document.createTextNode('');J.eW=document.createElement('div');iy=J.O.bo;J.O.yP=false;J.O.gY=J.O.cI;ep={};ep.color=J.O.cI;ep.fontFamily="Arial";this.fc(J.eW,ep);if(!iy){iy=J.O.dg[0];J.O.bo=iy;if(!iy){iy="APPROVED";}}mu=this.Jb(J);mu.setAttribute('data-pcc-mark',fH);J.uG.data=iy;J.eW.appendChild(J.uG);J.ax.appendChild(J.eW);J.ax.appendChild(mu);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var O=J.O;var ug=O.get_pathWidth();var uU=O.get_pathHeight();var rG=O.get_pathString();var cV=IPCC.aN.xN.Path(rG,{width:ug,height:uU,multiplier:100,thickness:(O.Kd>0)?O.Kd:O.get_lineWidth(),color:O.get_lineColor()});J.ax=cV;var axN=this.Jb(J);J.ax.appendChild(axN);break;case IPCC.Web.UI.MarkType.SignatureText:J.ax=this.aL('rect');J.uG=document.createTextNode('');J.eW=document.createElement('div');J.eW.setAttribute('data-pcc-mark',fH);tz=J.O.bo;J.O.yP=false;J.O.gY="none";J.O.cn=255;ma={};ma.color=J.O.cI;ma.fontFamily=J.O.get_fontName();ma.textAlign="center";this.fc(J.eW,ma);if(ma.fontFamily){J.eW.style.fontFamily='"'+ma.fontFamily+'", cursive';}if(!tz){tz=J.O.dg[0];J.O.bo=tz;}OV=this.Jb(J);J.uG.data=tz;J.eW.appendChild(J.uG);J.ax.appendChild(J.eW);J.ax.appendChild(OV);break;case IPCC.Web.UI.MarkType.TextLine:J.ax=this.aL('rect');J.uG=document.createTextNode('');J.eW=document.createElement('div');J.eW.setAttribute('data-pcc-mark',fH);tz=J.O.bo;ma={};ma.color=J.O.cI;ma.fontFamily=J.O.get_fontName();ma.whiteSpace="pre";ma.textAlign="left";this.fc(J.eW,ma);if(ma.fontFamily){J.eW.style.fontFamily='"'+ma.fontFamily+'", cursive';}if(!tz){tz=J.O.dg[0];J.O.bo=tz;}OV=this.Jb(J);J.uG.data=tz;J.eW.appendChild(J.uG);J.ax.appendChild(J.eW);J.ax.appendChild(OV);break;}if(!J.sy&&J.ax){J.sy=J.ax;}if(J.ax&&J.ax.tagName!=='group'){J.DB=this.aL('stroke');J.kz.push(J.DB);this.ag(J.DB,{on:'true'});J.ax.appendChild(J.DB);}var aK;for(aK=0;aK<J.pK.length;aK++){this.ag(J.pK[aK],{coordorigin:'0,0',coordsize:this.fl*100+','+this.cK*100});this.fc(J.pK[aK],{width:this.fl*100+'px',height:this.cK*100+'px'});}for(aK=0;aK<J.kz.length;aK++){this.ag(J.kz[aK],{joinstyle:'miter'});}J.tE=this.aL('group');this.QU(J);this.fc(J.tE,{left:'0px',top:'0px',width:'300px',height:'300px',position:'absolute'});this.ag(J.tE,{coordorigin:'0,0',coordsize:this.fl*100+','+this.cK*100});J.tE.ImGearMarkRelation=J;J.tE.setAttribute('data-pcc-mark','vmlmark-'+J.O.jx());if(J.ax){J.tE.appendChild(J.ax);}this.af.sN.appendChild(J.tE);if(J.ci){J.ci.ImGearMarkRelation=J;this.af.sN.appendChild(J.ci);}},mq:function(apb,kk,mK){var cV=this.Yr(kk,mK);this.ag(apb,{path:cV});},Yr:function(kk,mK){var cV='m';if(kk.length<1){cV='';}else{cV='m'+Math.round(kk[0].x*100)+','+Math.round(kk[0].y*100);var K;for(K=1;K<kk.length;K++){if(K>1){cV+=',';}else{cV+='l';}cV+=Math.round(kk[K].x*100)+','+Math.round(kk[K].y*100);}if(mK&&kk.length>2){cV+='x';}cV+='e';}return cV;},aqV:function(kU,FL){var cV='';IPCC.aN.forEach(kU,function(F){var oP=this.aqL(F,FL);cV=cV+this.Yr(oP,false)+", ";},this);return cV;},apQ:function(kU){var cV='';IPCC.aN.forEach(kU,function(F){var oP=this.apA(F);cV=cV+this.Yr(oP,true)+", ";},this);return cV;},apA:function(F){var oP=[];oP.push({x:F.x,y:F.y});oP.push({x:F.x+F.width,y:F.y});oP.push({x:F.x+F.width,y:F.y+F.height});oP.push({x:F.x,y:F.y+F.height});return oP;},aqL:function(F,FL){FL=FL||0;var oP=[];oP.push({x:F.x,y:F.y+F.height+FL});oP.push({x:F.x+F.width,y:F.y+F.height+FL});return oP;},KA:function(fj,je,vY,qE,rM,Ej,rf,aBN){var dr=this.adv(fj,je,vY,qE,rM);var al={display:'block'},aE={fillcolor:Ej,filled:false},qr={color:Ej};switch(rM){case IPCC.Web.UI.LineHeadType.None:al.display='none';break;case IPCC.Web.UI.LineHeadType.Pointer:this.mq(rf,[dr.tA,fj,dr.uO],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.mq(rf,[dr.tA,fj,dr.uO],true);aE.filled=true;break;case IPCC.Web.UI.LineHeadType.Open:this.mq(rf,[dr.tA,fj,dr.uO],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:aE.filled=true;this.mq(rf,[dr.tA,fj,dr.uO,dr.zW],true);break;}if(rM!==IPCC.Web.UI.LineHeadType.None){this.fc(rf,al);this.ag(rf,aE);this.ag(aBN,qr);}return dr;},VH:function(J){var O=J.O;var fr,EO,Hw,pS;fr=this.Jt(O);if(fr.length<2||O.mK){this.fc(J.wc,{display:'none'});this.fc(J.wI,{display:'none'});}else{O.tw=O.gY;pS=this.RF(fr,true);EO=this.KA(pS.fj,pS.je,O.GB,O.DJ,O.EL,O.tw,J.wc,J.EY);pS=this.RF(fr,false);Hw=this.KA(pS.fj,pS.je,O.El,O.Dx,O.mt,O.tw,J.wI,J.Hf);fr[0]=EO.zW;fr[fr.length-1]=Hw.zW;}this.mq(J.hN,fr,O.mK);},VV:function(J){var nD=this.aeU(J);this.mq(J.lE,nD.SJ,true);var IQ={},AW={};var O=J.O;if(nD.Pi||O.gY==='transparent'){AW.on=false;}else{AW.color=O.gY;AW.dashstyle=this.xZ(O.gv);AW.on=true;AW.opacity=O.cn/255;}if(nD.KS){this.mq(J.hN,nD.KS,false);J.hN.style.visibility='visible';}else{J.hN.style.visibility='hidden';}if(nD.CW){this.mq(J.qX,nD.CW,false);J.qX.style.visibility='visible';}else{J.qX.style.visibility='hidden';}if(O.Cq){IQ.color=O.EJ;IQ.dashstyle=this.xZ(O.rJ);J.yF.imgearCalloutSized=true;}else{IQ.color=O.gY;IQ.dashstyle=this.xZ(O.gv);J.yF.imgearCalloutSized=false;}this.ag(J.yF,IQ);this.ag(J.HW,AW);},apq:function(J,cr,aF){var O=J.O;var F=O.eg();var gc=1;if(O.gF){gc+=O.gq/2;}F.width-=2*gc;F.height-=2*gc;F.x+=gc;F.y+=gc;F=cr.rK(F);var TK=F.x,Ty=F.y;var fw=new IPCC.eF(1,0,0,1,0,0);switch(O.xH){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:fw.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:fw.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:fw.rotate(180);fw.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:fw.scale(-1,1);fw.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:fw.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:fw.scale(-1,1);fw.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:fw.rotate(270);break;}fw.append(cr);var ep={};var mw;if(O.get_type()===IPCC.Web.UI.MarkType.TextLine){mw=O.cJ*aF;}else{mw=O.cJ*this.BY/72*aF;}ep.fontSize=Math.round(mw)+'px';var oE=fw.IH();var ca=fw.CV();if(oE){ca=(360-ca)%360;}var rH=Math.round(ca/90);var yk='';if(oE||rH){yk='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oE?'1':'0')+', rotation='+rH.toString()+');';}if(O.tS<255){yk+='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(O.tS/255*100)+');';}J.eW.style.filter=yk;var eD;if((ca>45&&ca<135)||(ca>225&&ca<315)){eD=F.width;F.width=F.height;F.height=eD;}ep.left=TK+'px';ep.top=Ty+'px';ep.width=F.width+'px';ep.height=F.height+'px';J.eW.style.width=F.width+'px';J.eW.style.height=F.height+'px';J.eW.style.lineHeight=J.eW.style.height;J.eW.style.fontSize=Math.round(mw)+'px';},anG:function(J,cr,aF){var O=J.O;var F=O.eg();var gc=1;if(O.gF){gc+=O.gq/2;}F.width-=2*gc;F.height-=2*gc;F.x+=gc;F.y+=gc;F=cr.rK(F);var TK=F.x,Ty=F.y;var fw=new IPCC.eF(1,0,0,1,0,0);switch(O.xH){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:fw.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:fw.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:fw.rotate(180);fw.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:fw.scale(-1,1);fw.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:fw.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:fw.scale(-1,1);fw.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:fw.rotate(270);break;}fw.append(cr);var ep={};var mw=O.cJ*this.BY/72*aF;O.mw=mw;ep.fontSize=Math.round(mw)+'px';var oE=fw.IH();var ca=fw.CV();if(oE){ca=(360-ca)%360;}var rH=Math.round(ca/90);var yk='';if(oE||rH){yk='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(oE?'1':'0')+', rotation='+rH.toString()+');';}if(this.V.mI()===true){yk+=" progid:DXImageTransform.Microsoft.Alpha(opacity=50)";J.ci.style.color='#000000';}else if(O.tS<255){yk+=' progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(O.tS/255*100)+');';}J.ci.style.filter=yk;var eD;if((ca>45&&ca<135)||(ca>225&&ca<315)){eD=F.width;F.width=F.height;F.height=eD;}ep.left=TK+'px';ep.top=Ty+'px';ep.width=F.width+'px';ep.height=F.height+'px';this.fc(J.ci,ep);if(J.uB!==undefined){J.uB.style.width=F.width+'px';}},HF:function(J){var O=J.O;var apn={},ep={};ep.lineHeight=1;if(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){ep.backgroundColor='#000000';}else{ep.backgroundColor='transparent';}ep.color=O.pI;ep.fontFamily=O.gf;if(O.ff&IPCC.Web.UI.FontStyle.Italic){ep.fontStyle='italic';}else{ep.fontStyle='';}if(O.ff&IPCC.Web.UI.FontStyle.Bold){ep.fontWeight='bold';}else{ep.fontWeight='';}if((O.ff&IPCC.Web.UI.FontStyle.Underline)&&(O.ff&IPCC.Web.UI.FontStyle.Strikeout)){ep.textDecoration='underline line-through';}else if(O.ff&IPCC.Web.UI.FontStyle.Underline){ep.textDecoration='underline';}else if(O.ff&IPCC.Web.UI.FontStyle.Strikeout){ep.textDecoration='line-through';}else{ep.textDecoration='';}switch(O.pO){case IPCC.Web.UI.HorizontalAlignment.Center:ep.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:ep.textAlign='right';break;default:ep.textAlign='left';break;}if(document.documentMode<8){var aBf=O.bo.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br/>');J.ci.innerHTML=aBf;}else{this.aaM(J);}this.ag(J.ci,apn);this.fc(J.ci,ep);if(J.O.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(O.cI==="#000000"){O.cI='#ffffff';}if(O.jg()===true){O.cI='white';}else{O.set_opacity(O.cn);}}},QU:function(J){var O=J.O,G=this;if(!O){return;}var ax=J.ax;var K,F,fr,al={},aE={},mB={},qr={},gF=true,DC,un,aar,aaf,PP,JD,iy,NH,nN,oM,yB,ep;var iI=false;switch(O.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:iI=true;this.VH(J);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Highlight:F=O.get_rectangle();if(F.x===0&&F.y===0){var fB=this.V.cf().fE();if(fB.eI()>0){var dZ=fB.kK(O.bK);F=dZ.aa;}O.mV='y';}al.left=F.x*100+'px';al.top=F.y*100+'px';al.width=F.width*100+'px';al.height=F.height*100+'px';break;case IPCC.Web.UI.MarkType.HighlightText:this.FN(J);al={display:(O.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(O.cn/2.55)+")",color:O.cI};aE={fillcolor:O.cI,filled:true};qr={color:O.cI};this.fc(J.oe,al);this.ag(J.oe,aE);this.ag(J.wL,qr);this.Cg(J);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.FN(J);al={display:(O.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ar.aU.Po(false,J.O.get_selected())*100+")",color:"blue"};aE={fillcolor:"blue",filled:true};qr={color:"blue"};var anv={filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ar.aU.xe(false,J.O.get_selected())*100+")",weight:0};this.fc(J.oe,al);this.ag(J.oe,aE);this.ag(J.wL,qr);this.fc(J.wM,anv);this.ag(J.Kg,qr);this.Cg(J);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:F=O.get_rectangle();al.left=F.x*100+'px';al.top=F.y*100+'px';al.width=F.width*100+'px';al.height=F.height*100+'px';J.F.style.width='100%';J.F.style.height='100%';var afU=0;if(J.O.xh!=='Underline'&&(J.O.FP>0||J.O.Fc>0)){afU=0.4;}J.F.setAttribute('arcsize',afU);if(J.mb){J.mb.style.width='100%';J.mb.style.top='100%';J.mb.style.height='10000px';J.mb.setAttribute('fill',true);J.mb.setAttribute('fillcolor',J.O.gY);J.alY.setAttribute('on',false);J.ZU.setAttribute('type','solid');J.ZU.setAttribute('opacity',J.O.oB/255);}J.VL.setAttribute('type','solid');J.VL.setAttribute('opacity',IPCC.ar.aU.Po());if(J.O.xh==='Underline'||J.O.gq===0){J.uy.setAttribute('on',false);}else if(J.O.xh==='Dashed'){J.uy.setAttribute('dashstyle','dash');J.uy.setAttribute('color',J.O.gY);J.uy.setAttribute('weight',J.O.gq+'px');J.uy.setAttribute('opacity',J.O.oB/255);}else{J.uy.setAttribute('on',true);J.uy.setAttribute('color',J.O.gY);J.uy.setAttribute('weight',J.O.gq+'px');J.uy.setAttribute('opacity',J.O.oB/255);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F=O.get_rectangle();al.left=F.x*100+'px';al.top=F.y*100+'px';al.width=F.width*100+'px';al.height=F.height*100+'px';J.hH.src=J.O.aY;var KZ=J.ax.getBoundingClientRect();var ik=J.hH.getBoundingClientRect();if(ik.bottom!==undefined&&KZ.bottom!==undefined){var LM=KZ.bottom-KZ.top;var aqP=KZ.right-KZ.left;var cK=ik.bottom-ik.top;var fl=ik.right-ik.left;J.hH.style['position']='relative';if(LM===cK&&aqP===fl){J.hH.style['max-height']='100%';J.hH.style['height']='auto';J.hH.style['max-width']='100%';J.hH.style['width']='auto';J.hH.style['top']='0';}else if(LM<=cK){J.hH.style['max-height']='100%';J.hH.style['height']='100%';J.hH.style['max-width']='available';J.hH.style['width']='auto';J.hH.style['top']='0';}else{J.hH.style['max-height']='available';J.hH.style['height']='auto';J.hH.style['max-width']='100%';J.hH.style['width']='100%';J.hH.style['top']='';}if(LM>cK){var aDn=100*((LM/2-cK/2)/LM);J.hH.style.top=aDn+'%';}}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(G.V.mI()===true){J.ci.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";J.ci.style.color='#000000';}else{J.ci.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";J.ci.style.color='#ffffff';}this.HF(J);setTimeout(function(){DC=J.ci.cloneNode(true);DC.style.visibility='hidden';document.body.appendChild(DC);un=DC.getElementsByTagName('div');aar=un[0];aaf=un[1];aaf.style.height='inherit';PP=aaf.getBoundingClientRect();JD=aar.getBoundingClientRect();if(PP.top!==0){if(PP.top===JD.top&&PP.bottom===JD.bottom&&J.ci.style.height!==''){J.uB.style.height=J.ci.style.height;}else{J.uB.style.height='inherit';}}document.body.removeChild(DC);DC=undefined;},0);break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Cg(J);return;case IPCC.Web.UI.MarkType.Ellipse:F=O.get_rectangle();al.left=F.x*100+'px';al.top=F.y*100+'px';al.width=F.width*100+'px';al.height=F.height*100+'px';break;case IPCC.Web.UI.MarkType.Polygon:fr=this.Jt(O);this.mq(ax,fr,true);break;case IPCC.Web.UI.MarkType.Text:this.VV(J);this.HF(J);break;case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:F=O.get_rectangle();al.left=F.x*100+'px';al.top=F.y*100+'px';al.width=F.width*100+'px';al.height=F.height*100+'px';iy=O.get_text();if(!iy){if(O.get_type()===IPCC.Web.UI.MarkType.Stamp){iy="APPROVED";}else{iy="";}}J.uG.data=iy;NH=this.arr(F.width,F.height);J.eW.style.textAlign='center';J.eW.style.fontSize=NH+'px';if(O.get_type()===IPCC.Web.UI.MarkType.SignatureText){nN=12*F.width/(O.wq||1);oM=12*F.height/(O.vA||1);yB=Math.min(nN,oM)/2;if(O.get_visible()){J.ax.style.display='block';}else{J.ax.style.display='none';}}O.cJ=yB||NH;O.stampSize=Math.floor(yB||NH);J.eW.style.width=F.width/3.25;J.eW.style.height=F.height/3.25;J.eW.style.lineHeight=J.eW.style.height;if(J.O.get_type()===IPCC.Web.UI.MarkType.SignatureText){J.eW.style.fontFamily=J.O.get_fontName()+', cursive';}if(O.get_type()===IPCC.Web.UI.MarkType.Stamp){J.O.gY=J.O.cI;}else{O.gF=false;}ep={};ep.color=J.O.cI;this.fc(J.eW,ep);break;case IPCC.Web.UI.MarkType.TextLine:F=O.get_rectangle();al.left=F.x*100+'px';al.top=F.y*100+'px';al.width=F.width*100+'px';al.height=F.height*100+'px';iy=O.get_text()||"";J.uG.data=iy;nN=12*F.width/(O.wq||1);oM=12*F.height/(O.vA||1);yB=Math.min(nN,oM);var aF=0.9;yB*=aF;O.cJ=yB;O.mw=yB;O.aca=this.BY/72;O.stampSize=yB;J.eW.style.width=F.width;J.eW.style.height=F.height;J.eW.style.lineHeight=J.eW.style.height;J.eW.style.fontFamily=J.O.get_fontName()+', sans-serif';ep={};ep.color=J.O.pI;this.fc(J.eW,ep);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:try{ax.setAttribute('stroke',O.get_lineColor());if(O.Qe===true){O.Qe=false;ax.setAttribute("d",O.get_pathString());var ug=O.get_pathWidth();var uU=O.get_pathHeight();ax.setAttribute('width',ug*100);ax.setAttribute('height',uU*100);ax.coordsize=[ug,uU].join(', ');}if(O.get_visible()===false){ax.style.display='none';}else{ax.style.display='';}var JJ;var JP;var YG;var Uc;var Xq=O.get_pathWidth()/O.get_pathHeight();F=O.get_rectangle();var aAC=F.width/F.height;if(aAC>Xq){JP=F.height;JJ=F.height*Xq;YG=F.x-(JJ-F.width)/2;Uc=F.y;O.Kd=O.gq*JJ/O.get_pathWidth();}else{JJ=F.width;JP=F.width/Xq;Uc=F.y-(JP-F.height)/2;YG=F.x;O.Kd=O.gq*JP/O.get_pathHeight();}al.left=YG*100+'px';al.top=Uc*100+'px';al.width=JJ*100+'px';al.height=JP*100+'px';}catch(e){}break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',O.get_type());}if(O.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&O.get_type()!==IPCC.Web.UI.MarkType.Freehand&&O.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&O.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(iI){mB.filled=false;}else{if(O.yP&&O.cI!=='transparent'){if(J.sy.tagName==='fill'){mB.on=true;mB.opacity=O.cn/255;mB.color=O.cI;}else{mB.filled=true;mB.fillColor=O.cI;}}else{if(J.sy.tagName==='fill'){mB.on=true;mB.opacity=0.01;mB.color='white';}else{mB.filled=false;}}gF=O.gF;}if(gF&&O.get_lineColor()!=='transparent'){qr.color=O.get_lineColor();qr.dashstyle=this.xZ(O.gv);qr.on=true;}else{qr.on=false;}}var GA='';switch(O.kC()){case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;default:var Qv={};Qv[IPCC.Web.UI.MarkType.Rectangle]=true;Qv[IPCC.Web.UI.MarkType.Ellipse]=true;Qv[IPCC.Web.UI.MarkType.Text]=true;if(Qv[O.kC()]===true){qr.opacity=O.cn/255;}else{if(O.cn<255){GA='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(O.cn/2.55)+')';}var FW=ax.firstChild;if(FW&&FW.nodeName==='shape'){while(FW){FW.style.filter=GA;FW=FW.nextSibling;}}else{ax.style.filter=GA;}}break;}if(O.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&O.get_type()!==IPCC.Web.UI.MarkType.Freehand){if(O.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&O.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(O.gI){al.visibility='visible';if(J.ci){J.ci.style.visibility='visible';}}else{al.visibility='hidden';if(J.ci){J.ci.style.visibility='hidden';}}}al.cursor=IPCC.an.es(this.bw.Go());if(J.ci){J.ci.style.cursor=IPCC.an.es(this.bw.Go());}this.fc(ax,al);this.ag(J.sy,mB);this.ag(ax,aE);for(K=0;K<J.kz.length;K++){if(!J.kz[K].imgearUnstyled){this.ag(J.kz[K],qr);}}}else{this.fc(ax,al);}},Cg:function(J){var O=J.O,K,al={},mB={};var hz=J.hz;while(hz.firstChild){hz.removeChild(hz.firstChild);}var hJ;for(K=0;K<O.eJ.length;K++){for(var aK=0;aK<O.eJ[K].length;aK++){var KO=this.V.cf().fE();if(KO.eI()>0){var Tq=KO.kK(O.eJ[K].startIndex+aK);hJ=Tq.aa;}var bm=this.aL('rect');al.left=hJ.x*100+'px';al.top=hJ.y*100+'px';al.width=hJ.width*100+'px';al.height=hJ.height*100+'px';al.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(O.eJ[K].opacity/2.55)+')';this.fc(bm,al);mB.fillColor=O.eJ[K].color;mB.filled=true;this.ag(bm,mB);var DB=this.aL('stroke');this.ag(DB,{on:'f'});bm.appendChild(DB);hz.appendChild(bm);}}},FN:function(J){var O=J.O;if(O.ds===null||O.ds===undefined){return;}if(O.ds.length===0&&O.cw>0&&this.V.cf().nr()){O.ds=IPCC.aN.Qf(this.V.cf().fE(),O.bK,O.bK+O.cw-1);}if(!J.bK|| !J.cw||J.bK!==O.bK||O.gI===false||O.gI===true||J.cw!==O.cw){var cV=this.apQ(O.ds);this.ag(J.oe,{path:cV});if(J.wM){cV=this.aqV(O.ds,O.gq/ -2);this.ag(J.wM,{path:cV});}J.bK=O.bK;J.cw=O.cw;}},arr:function(IM,aAi){var nk=0;if(IM>=aAi){nk=(IM/14)/2;}else{nk=IM/15;}if(nk*15>=IM){nk=(IM/15)/2;}return nk;},xZ:function(gv){switch(gv){case IPCC.Web.UI.LineStyle.Dash:return 'dash';case IPCC.Web.UI.LineStyle.Dot:return 'dot';case IPCC.Web.UI.LineStyle.DashDot:return 'dashdot';case IPCC.Web.UI.LineStyle.DashDotDot:return 'shortdashdotdot';default:break;}return 'solid';},Jk:function(J){this.af.sN.removeChild(J.tE);if(J.ci){this.af.sN.removeChild(J.ci);}delete J.tE;},aeu:function(cr,lQ,bz,kh){var mk=cr.transform({x:0,y:0});var ly=cr.transform({x:1,y:0});var nV=mk.x-ly.x;var IC=nV*nV;nV=mk.y-ly.y;IC+=nV*nV;var aF=Math.sqrt(IC);var Ce={width:bz.width*aF+'px',height:bz.height*aF+'px'};var oE=cr.IH();if(oE){Ce.flip='x';}else{Ce.flip='';}var ca=cr.CV();if((ca>45&&ca<135)||(ca>225&&ca<315)){Ce.left=(bz.height-bz.width)*aF/2+'px';Ce.top=(bz.width-bz.height)*aF/2+'px';}else{Ce.left='0px';Ce.top='0px';}var K,aK,J;for(K=0;K<kh.length;K++){J=kh[K];this.ag(J.tE,{rotation:oE? -ca:ca});this.fc(J.tE,Ce);for(aK=0;aK<J.kz.length;aK++){if(J.kz[aK].imgearCalloutSized){this.ag(J.kz[aK],{weight:J.O.Dc*aF});}else{if(J.O.get_type()!==IPCC.Web.UI.MarkType.SignaturePath){this.ag(J.kz[aK],{weight:J.O.gq*aF});}else{this.ag(J.kz[aK],{weight:(J.O.Kd>0)?J.O.Kd:J.O.gq*aF});}}}if(J.ci){this.anG(J,cr,aF);}if(J.eW){this.apq(J,cr,aF);}}},agY:function(){this.af=undefined;},aL:function(aI){return document.createElement('igvml:'+aI);},fc:function(ax,kE){var K;for(K in kE){if(kE.hasOwnProperty(K)){if(ax.style[K]!==kE[K]){ax.style[K]=kE[K];}}}},ag:function(ax,aE){var K;if(document.documentMode===8){for(K in aE){if(aE.hasOwnProperty(K)){var val=aE[K];var str=val.toString();if(ax[K]!==str){ax[K]=str;}}}}else{for(K in aE){if(aE.hasOwnProperty(K)){if(aE[K]){ax.setAttribute(K,aE[K].toString());}}}}}};IPCC.afV=function(V,qg){var bQ=this;this.alW='opacity';this.alJ=function(cn){return cn.toString();};var agd=function agd(af,cr,lQ,bz,pl,nG){var lg;if(this.V.sn()===true){af.Dz.setAttribute('width',lQ.width);af.Dz.setAttribute('height',lQ.height);af.we.setAttribute('width',lQ.width);af.we.setAttribute('height',lQ.height);lg=cr.qH().toString()+','+cr.qO().toString()+','+cr.sb().toString()+','+cr.tp().toString()+','+(cr.xm()+pl).toString()+','+(cr.yq()+nG).toString();this.kO(af.Iq,'transform','matrix('+lg+')');}else{af.Dz.setAttribute('width',lQ.width);af.Dz.setAttribute('height',lQ.height);af.we.setAttribute('width',lQ.width);af.we.setAttribute('height',lQ.height);lg=cr.qH().toString()+','+cr.qO().toString()+','+cr.sb().toString()+','+cr.tp().toString()+','+(cr.xm()+pl).toString()+','+(cr.yq()+nG).toString();this.kO(af.Iq,'transform','matrix('+lg+')');}};var XD,Xi;this.Sk=function(af,cr,lQ,bz,pl,nG){if(af.Zu.match('maglevel')){agd.apply(this,arguments);return;}var aa=af.fQ.parentElement.getBoundingClientRect();var jG=aa.width/bz.width;var agx=function(val){return Math.abs(val)<1.0e-14;};var fs=0,fF=0;var asa=function(){var pN=cr.qO();if(agx(pN)){pN=0;}var pW=cr.sb();if(agx(pW)){pW=0;}var ayy=cr.qH();var ca=(pN>=0&&pW<0)?90:(pN<0&&pW>=0)?270:(ayy<0)?180:(pN>=0&&pW>=0)?0:0;switch(ca){case 90:fs=aa.width;break;case 180:fs=aa.width;fF=aa.height;break;case 270:fF=aa.height;break;}return ca*(Math.PI/180);};var ca=asa();if(parseInt(ca,10)===1||parseInt(ca,10)===4){jG=aa.height/bz.width;}if(jG===XD&&ca===Xi){return;}else{XD=jG;Xi=ca;}var eS=1,iV=0;if(ca!==0){eS=Math.cos(ca);iV=Math.sin(ca);}var bg={jG:eS*jG,tj:eS*jG,pN:iV*jG,pW:iV* -1*jG,fs:fs,fF:fF};var aBr=new IPCC.eF(bg.jG,bg.pN,bg.pW,bg.tj,bg.fs,bg.fF);cr.Rk(aBr);V.bF().ic(cr);var lg='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';lg=lg.replace('{scaleX}',bg.jG).replace('{scaleY}',bg.tj).replace('{skewX}',bg.pN).replace('{skewY}',bg.pW).replace('{moveX}',bg.fs).replace('{moveY}',bg.fF);this.kO(af.Iq,'transform',lg);};this.afp=function(){XD=undefined;Xi=undefined;};this.ahm(V);this.acu=function(bJ){var bu=new IPCC.Du(bJ.clientWidth,bJ.clientHeight,96,96);return bu;};this.TS=function(am){am.preventDefault();bQ.kv(am);};this.YY=function(am){am.preventDefault();bQ.ld(am);};this.aag=function(am){am.preventDefault();bQ.jz(am);};this.ZN=function(am){bQ.kv(am);};this.aiR=function(am){bQ.wX(am);};this.Zd=function(am){bQ.ld(am);};this.De=function(am){bQ.nh(am);};this.PH=0;this.Yo=function(am){if(am.rawEvent.detail>1){if(window.navigator.msPointerEnabled){var Um=false;if(! !(navigator.userAgent.match('6.1'))&&document.documentMode===11){Um=true;}if(!this.PH){if(am.target instanceof SVGPolylineElement&&Um===true){bQ.wX(am);}else{bQ.jz(am);}this.PH=am.rawEvent.timeStamp;return;}var aiI=500;if(Um){aiI=8000;}if(am.rawEvent.timeStamp-this.PH>aiI){bQ.jz(am);}else{bQ.wX(am);}this.PH=am.rawEvent.timeStamp;}else{bQ.wX(am);}}else{bQ.jz(am);}};this.Vt=function(am){bQ.Ni(am);};this.Uw=function(am){if(am.target!==document.activeElement){bQ.amA(am);}};this.abN=function(am){if(am.target!==document.activeElement){bQ.amj(am);}};this.pM=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;bQ.sV(C);V.ayt(C);}catch(ex){V.T('mouseOut',ex);}};this.Oi=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;bQ.sV(C);V.ayG(C);}catch(ex){V.T('touchStart',ex);}};this.NT=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;bQ.sV(C);V.axX(C);}catch(ex){V.T('touchMove',ex);}};this.Nc=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;bQ.sV(C);V.ayE(C);}catch(ex){V.T('touchEnd',ex);}};this.HC=function(am){try{am.preventDefault();var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;bQ.sV(C);V.ayz(C);}catch(ex){V.T('touchCancel',ex);}};this.agc=function(am){try{am.preventDefault();}catch(ex){V.T('dragStart',ex);}};this.agg=function(){var ey=V.kg().igElements.lW;IPCC.Web.UI.ao.addHandler(ey,"mousewheel",this.De);IPCC.Web.UI.ao.addHandler(ey,"DOMMouseScroll",this.De);if(qg){IPCC.Web.UI.ao.addHandler(ey,"touchstart",this.Oi);IPCC.Web.UI.ao.addHandler(ey,"touchmove",this.NT);IPCC.Web.UI.ao.addHandler(ey,"touchend",this.Nc);IPCC.Web.UI.ao.addHandler(ey,"touchcancel",this.HC);}IPCC.Web.UI.ao.addHandler(ey,"mouseout",this.pM);IPCC.Web.UI.ao.addHandler(ey,"dragstart",this.agc);};this.aik=function(){var ey=V.kg().igElements.lW;IPCC.Web.UI.ao.removeHandler(ey,"DOMMouseScroll",this.De);IPCC.Web.UI.ao.removeHandler(ey,"mouseout",this.pM);if(qg){IPCC.Web.UI.ao.removeHandler(ey,"touchstart",this.Oi);IPCC.Web.UI.ao.removeHandler(ey,"touchmove",this.NT);IPCC.Web.UI.ao.removeHandler(ey,"touchend",this.Nc);IPCC.Web.UI.ao.removeHandler(ey,"touchcancel",this.HC);}IPCC.Web.UI.ao.removeHandler(ey,"dragstart",this.agc);};this.acb=function(af,fQ,ou,zn){var K,aD,bJ,abh;var KD=function(aI,bX,aE){var bJ=document.createElementNS('http://www.w3.org/2000/svg',aI);var K;if(bX){bJ.setAttribute('id',bX);}for(K in aE){if(aE.hasOwnProperty(K)){bJ.setAttribute(K,aE[K]);}}return bJ;};var dW=KD('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});af.we=KD('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});dW.appendChild(af.we);var Vs=KD('g',null,{});af.Iq=Vs;dW.appendChild(Vs);var cL;if(V.sn()===false){cL=ou.eO.length;}else{cL=1;}for(K=0;K<cL;K++){aD=ou.eO[K];aD.pool.parentElementID=zn+K.toString();abh=1/aD.aF;bJ=KD('g',aD.pool.parentElementID,{transform:'matrix('+abh.toString()+',0,0,'+abh.toString()+',0,0)'});Vs.appendChild(bJ);}af.Dz=dW;fQ.appendChild(dW);};this.afC=function(fa){var Qh=this.YW();fa.elementID=Qh;};this.ank=function(fa){var bJ=document.getElementById(fa.elementID);this.kO(bJ,'display','none');};this.ZV=function(fa){var bJ=document.getElementById(fa.elementID);if(bJ===null){fa.elementID='';return;}bJ.setAttributeNS('http://www.w3.org/1999/xlink','href','');bJ.parentNode.removeChild(bJ);fa.elementID='';};var EZ=function(am){try{am.target.onload=undefined;am.target.onerror=undefined;am.target.onabort=undefined;var fa=am.target.poolItem;fa.loaded=true;bQ.xM();}catch(ex){V.T('downloadImage',ex);}};var ahn=function(am){try{am.target.onload=undefined;am.target.onerror=undefined;am.target.onabort=undefined;am.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');am.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){V.T('downloadImage',ex);var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=ex;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}};this.ahF=function(la){var K;var cL=la.length;if(V.sn()===false){cL=la.length;}else{cL=1;}for(K=0;K<cL;K++){var hq=la[K];var bJ=document.getElementById(hq.poolItem.elementID);if(bJ===null){var fa=hq.poolItem;var DX=fa.pool;var fQ=document.getElementById(DX.parentElementID);bJ=document.createElementNS('http://www.w3.org/2000/svg','image');this.kO(bJ,'id',fa.elementID);this.kO(bJ,'externalResourcesRequired','true');bJ.poolItem=fa;bJ.onload=EZ;bJ.onerror=ahn;bJ.onabort=ahn;if(document.documentMode>8){fa.loaded=true;}if(V.RY()&&V.dU()===true){this.SD(bJ,hq.url,'image/png');}else{bJ.setAttributeNS('http://www.w3.org/1999/xlink','href',hq.url);}fQ.appendChild(bJ);this.kO(bJ,'display','block');var bN=hq.right-hq.x;var cN=hq.bottom-hq.y;this.kO(bJ,'x',hq.x);this.kO(bJ,'y',hq.y);this.kO(bJ,'width',bN);this.kO(bJ,'height',cN);}this.kO(bJ,'display','block');}if(document.documentMode>8&&la.length>0){bQ.xM();}};this.SD=function(bJ,dh,sv){var ja=true;var ll=0;if(V.ia()===0){ja=false;}var bG=new XMLHttpRequest(),jD,kJ=false;if(V.RY()&&V.dU()===true){var fP=IPCC.Web.os.Qb(4);var mc=IPCC.Web.gl.Er.lO(fP);var Zv=dh+'&iv='+mc;bG.open('GET',Zv,true);bG.responseType='text';}else{bG.open('GET',dh,true);bG.responseType='text';}function lH(){var cR;try{var di,aG,bZ,ks;var jS;var hS=di;if(bG.readyState===4){di=bG.status;if(bG.status===200){aG=null;try{if(ja===true){if(jD){clearTimeout(jD);}}var nt=bG.getResponseHeader("Accusoft-Data-Encrypted");if(nt==='true'&&V.dU()===true){var rF=IPCC.Web.gl.pw.sk(bG.getResponseHeader("Accusoft-Data-SK"));var bA=IPCC.Web.Dy(rF,fP);var ct=IPCC.Web.Cr(bG);var tg=IPCC.Web.As(ct,bA,fP);var TQ=IPCC.Web.gl.pw.lO(tg,0,0);bJ.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+sv+';base64,'+TQ);}else{bJ.setAttributeNS('http://www.w3.org/1999/xlink','href',dh);}}catch(ex){bZ="Image error, Error message = "+ex.message;cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=ex;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);throw new IPCC.Web.UI.ImGearArgumentException(null,bZ);}}else if((di<200)||(di>=300)){if(ja===true){if(jD){clearTimeout(jD);}}hS=bG.status;if(di===403){ll++;if(bG.statusText&&bG.statusText!==""){bZ="Expired viewer session ID, error message from the server: "+bG.statusText;}else{bZ="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(di,bZ);}ks=bG.getResponseHeader('Accusoft-Status-Message');if(ks){var ov;jS=bG.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vx(jS)){ov=parseInt(jS,10);}throw new IPCC.Web.UI.ImGearHttpException(hS,ks,ov);}else if(kJ){throw new IPCC.Web.UI.ImGearHttpException(hS,"Client Image load timeout");}else{if(bG.statusText&&bG.statusText!==""){bZ=bG.statusText;}else{bZ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hS,bZ);}}}}catch(e){V.T('openPage',e);if(typeof(V.ai)==='function'){cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}}};bG.onreadystatechange=lH;if(ja===true){jD=setTimeout(function(){kJ=true;bG.abort();},V.ia());}bG.send();};this.aCC=function(af){var ll=0;var hq=af.ou.eO[0].tiles[0];if(!hq){return;}var DX=hq.level.pool;var fQ=document.getElementById(DX.parentElementID);var ja=true;if(V.ia()===0){ja=false;}var yi=V.Kj();if(af.GU){if(yi===2){delete af.GU;if(fQ.childNodes.length>0){fQ.removeChild(fQ.childNodes[0]);}}else if(yi===1){if(fQ.childNodes.length>0){fQ.removeChild(fQ.childNodes[0]);}}else{if(fQ.childNodes.length===0){fQ.appendChild(af.amT);}}V.Bk=true;return;}if(yi>0){return;}var bG=new XMLHttpRequest(),jD,kJ=false;function lH(){try{var di,aG,bZ,ks;var jS;var hS=di;var cR;if(bG.readyState===4){di=bG.status;if(bG.status===200){if(ja===true){if(jD){clearTimeout(jD);}}aG=null;try{var jQ;var nt=bG.getResponseHeader("Accusoft-Data-Encrypted");if(nt==='true'&&V.dU()===true){var rF=IPCC.Web.gl.pw.sk(bG.getResponseHeader("Accusoft-Data-SK"));var bA=IPCC.Web.Dy(rF,fP);var ct=IPCC.Web.Cr(bG);var tg=IPCC.Web.As(ct,bA,fP);jQ=IPCC.Web.gl.Ga.lO(tg);}else{jQ=bG.responseText;}aBc(jQ);}catch(ex){bZ="SVG image error, Error message = "+ex.message;cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=ex;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);throw new IPCC.Web.UI.ImGearArgumentException(null,bZ);}}else if((di<200)||(di>=300)){if(ja===true){if(jD){clearTimeout(jD);}}hS=bG.status;if(di===480){ll++;if(bG.statusText&&bG.statusText!==""){bZ=bZ="PDF file password required, error message from the server: "+bG.statusText;}else{bZ="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(di,bZ);}if(di===403){ll++;if(bG.statusText&&bG.statusText!==""){bZ="Expired viewer session ID, error message from the server: "+bG.statusText;}else{bZ="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(di,bZ);}ks=bG.getResponseHeader('Accusoft-Status-Message');if(ks){var ov;jS=bG.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vx(jS)){ov=parseInt(jS,10);}throw new IPCC.Web.UI.ImGearHttpException(hS,ks,ov);}else if(kJ){throw new IPCC.Web.UI.ImGearHttpException(hS,"Client SVG load timeout");}else{if(bG.statusText&&bG.statusText!==""){bZ=bG.statusText;}else{bZ="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hS,bZ);}}}}catch(e){V.T('openPage',e);if(typeof(V.ai)==='function'){cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=V.aM;V.ai('pageOpenFailed',cR);}}};var alC=function(){V.Bk=true;V.ai('pageDisplayed',{bC:V.aM});};var aBc=function(fT){var wU=DX.parentElementID.toString();fT=fT.replace(/href="#/g,'href="#'+wU);fT=fT.replace(/="url\(#/g,'="url(#'+wU);fT=fT.replace(/fill:url\(#/g,'fill:url(#'+wU);fT=fT.replace(/ id="/g,' id="'+wU);fT=fT.replace(/<use([^>]+)\/>/g,' <use$1></use>');var RK=document.createElement('div');RK.innerHTML=fT;var qp=RK.querySelectorAll('style');IPCC.aN.forEach(qp,function(bq){var acx=(bq.styleSheet)?bq.styleSheet.cssText:bq.textContent;if(bq.styleSheet){bq.styleSheet.cssText=acx;}else{bq.appendChild(document.createTextNode(acx));}});var jY=null;var JC=RK.firstChild;while(JC!==null){if(JC.nodeName==='svg'){jY=JC;break;}JC=JC.nextSibling;}if(jY===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!af.GU){af.amT=jY;fQ.appendChild(jY);af.GU=true;if(!V.Bk&&af.GU){setTimeout(alC,1);}}};var dh;var fP,mc;V.Bk=false;if(V.dU()===true){fP=IPCC.Web.os.UF(4,IPCC.Web.RX());mc=IPCC.Web.gl.Er.lO(fP);dh=hq.url+'&iv='+mc;}else{dh=hq.url;}bG.open('GET',dh,true);bG.responseType='text';if(document.documentMode===10||IPCC.aN.CJ){bG.setRequestHeader('Content-Type','svg');}else{bG.setRequestHeader('Content-Type','svga');}bG.onreadystatechange=lH;if(ja===true){jD=setTimeout(function(){kJ=true;bG.abort();},V.ia());}bG.send();};this.QV=function(hq,cn){if(!hq){return;}var mx=document.getElementById(hq.poolItem.elementID);this.kO(mx,'x',hq.x);this.kO(mx,'y',hq.y);this.kO(mx,'width',hq.right-hq.x);this.kO(mx,'height',hq.bottom-hq.y);this.kO(mx,'opacity',cn);this.kO(mx,'display','block');};this.aaG=function(la,cn,cr){var K;if(V.sn()===false){for(K=0;K<la.length;K++){this.QV(la[K],cn);}}};return this;};IPCC.afV.prototype=new IPCC.aU();IPCC.ar.agm=function(){};IPCC.ar.EH=1;IPCC.ar.agm.prototype={abT:function(V,af,bz){this.V=V;this.bw=V.bF();this.af=af;this.fl=bz.width;this.cK=bz.height;this.BY=bz.hf;this.aBg=bz.gC;af.sN=this.aL('g');this.ag(af.sN,{'fill-opacity':1});af.Iq.appendChild(af.sN);},aab:function(J){var fH='',F,G=this;switch(J.O.get_type()){case IPCC.Web.UI.MarkType.Rectangle:J.ax=this.aL('rect');if(J.O.jg()&&J.O.get_opacity()===255){J.ax.addEventListener("mouseover",function(C){if(J.O.get_selected()===false&&J.ax&&(C.which===0||C.buttons===0)){J.ax.style.opacity=127/255;}},false);J.ax.addEventListener("mouseout",function(C){if(J.ax&&(C.which===0||C.buttons===0)){J.ax.style.opacity=J.O.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:fH="highlighttextannotation-"+J.O.jx();J.ax=this.aL('g');J.hz=this.aL('g');J.ax.appendChild(J.hz);J.oS=this.aL('g');J.oS.setAttribute('data-pcc-mark',fH);J.ax.appendChild(J.oS);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:fH="texthyperlinkannotation-"+J.O.jx();J.ax=this.aL('g');J.ax.style.cursor=IPCC.an.es(IPCC.an.Link);J.hz=this.aL('g');J.ax.appendChild(J.hz);J.oS=this.aL('g');J.oS.style.opacity=IPCC.ar.aU.Po();J.oS.style.fill="blue";J.oS.setAttribute('data-pcc-mark',fH);J.ax.appendChild(J.oS);J.lA=this.aL('g');J.lA.style.stroke="blue";J.lA.style.opacity=IPCC.ar.aU.xe(false);J.lA.setAttribute('data-pcc-mark',fH);J.ax.appendChild(J.lA);J.ax.addEventListener("mouseover",function(C){if(J.lA){J.lA.style.opacity=IPCC.ar.aU.xe(true,J.O.get_selected());}},false);J.ax.addEventListener("mouseout",function(C){if(J.lA){J.lA.style.opacity=IPCC.ar.aU.xe(false,J.O.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:fH="documenthyperlink-"+J.O.jx();J.ax=this.aL('g');J.ax.style.cursor=IPCC.an.es(IPCC.an.Link);J.F=this.aL('rect');J.F.style['fill-opacity']=IPCC.ar.aU.Po();if(J.O.xh!=='Underline'){J.F.style.stroke=J.O.gY;J.F.style['stroke-width']=J.O.gq+'px';J.F.style['stroke-opacity']=(J.O.gq===0)?0:J.O.oB/255;if(J.O.xh==='Dashed'){J.F.style['stroke-dasharray']=J.O.Bf.join(', ');}J.F.setAttribute('rx',J.O.FP);J.F.setAttribute('ry',J.O.Fc);}else{J.mb=this.aL('line');J.mb.style.stroke=J.O.gY;J.mb.style['stroke-opacity']=J.O.oB/255;J.mb.style['stroke-width']=J.O.gq+'px';J.ax.appendChild(J.mb);}J.F.style.fill='transparent';J.F.setAttribute('data-pcc-mark',fH);J.ax.appendChild(J.F);break;case IPCC.Web.UI.MarkType.RectangleRedaction:fH="textmark-"+J.O.jx();J.ax=this.aL('g');J.hk=this.aL('rect');J.jk=this.aL('g');J.jk.setAttribute('data-pcc-mark',fH);J.rZ=document.createTextNode('');if(document.documentMode>8){J.fd=this.aL('text');J.fd.setAttribute('data-pcc-mark',fH);J.fd.appendChild(J.rZ);J.Xp=0;J.Cx=this.aL('clipPath');J.BK=this.aL('rect');J.jk.appendChild(J.Cx);J.Cx.appendChild(J.BK);J.jk.appendChild(J.fd);J.IW="PCC"+IPCC.ar.EH;IPCC.ar.EH++;this.ag(J.Cx,{id:J.IW,clipPathUnits:"userSpaceOnUse"});F=J.O.get_rectangle();this.ag(J.BK,{x:0,y:0,width:F.width,height:F.height,"data-pcc-mark":fH});var acd=function(C){if(J.O.get_selected()===false&&J.hk&&(C.which===0||C.buttons===0)){if(G.V.mI()===false){J.ax.style.opacity=0.5;J.fd.style.opacity=0;}}};J.ax.addEventListener("mouseover",function(C){acd(C);},false);J.jk.addEventListener("mouseover",function(C){acd(C);},false);J.ax.addEventListener("mouseout",function(C){if(J.hk&&(C.which===0||C.buttons===0)){if(G.V.mI()===false){J.ax.style.opacity=1;J.fd.style.opacity=1;}}},false);}else{J.ci=document.createElement('div');this.ag(J.ci,{"data-pcc-mark":fH});J.ci.appendChild(J.rZ);J.sr=document.createElement('body');this.ag(J.sr,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":fH});J.sr.appendChild(J.ci);J.GE=this.aL('foreignObject');J.GE.appendChild(J.sr);J.jk.appendChild(J.GE);J.sr.addEventListener("mouseover",function(C){if(J.O.get_selected()===false&&J.hk&&(C.which===0||C.buttons===0)){J.hk.style.opacity=0.5;J.ci.style.opacity=0;}},false);J.sr.addEventListener("mouseout",function(C){if(J.hk&&(C.which===0||C.buttons===0)){if(G.V.mI()===false){J.hk.style.opacity=1;J.ci.style.opacity=1;}}},false);}J.ax.appendChild(J.hk);break;case IPCC.Web.UI.MarkType.Ellipse:J.ax=this.aL('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:J.ax=this.aL('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:J.ax=this.aL('g');J.hz=J.ax;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:J.ax=this.aL('g');J.hN=this.aL('polyline');J.wc=this.aL('path');J.wI=this.aL('path');J.ax.appendChild(J.hN);J.ax.appendChild(J.wc);J.ax.appendChild(J.wI);break;case IPCC.Web.UI.MarkType.Polygon:J.ax=this.aL('polygon');break;case IPCC.Web.UI.MarkType.Text:fH="textmark-"+J.O.jx();J.ax=this.aL('g');J.lE=this.aL('polygon');J.hN=this.aL('path');J.qX=this.aL('path');J.jk=this.aL('g');J.ax.appendChild(J.lE);J.ax.appendChild(J.hN);J.ax.appendChild(J.qX);this.ag(J.lE,{style:'stroke:none;'});J.jk.setAttribute('data-pcc-mark',fH);J.rZ=document.createTextNode('');if(document.documentMode>8){J.fd=this.aL('text');J.fd.setAttribute('data-pcc-mark',fH);J.fd.appendChild(J.rZ);J.Xp=0;J.Cx=this.aL('clipPath');J.BK=this.aL('rect');J.jk.appendChild(J.Cx);J.Cx.appendChild(J.BK);J.aaU=this.aL('g');J.jk.appendChild(J.aaU);J.jk.appendChild(J.fd);J.IW="PCC"+IPCC.ar.EH;IPCC.ar.EH++;this.ag(J.Cx,{id:J.IW,clipPathUnits:"userSpaceOnUse"});F=J.O.get_rectangle();this.ag(J.BK,{x:0,y:0,width:F.width,height:F.height,"data-pcc-mark":fH});}else{J.ci=document.createElement('div');J.ci.appendChild(J.rZ);J.sr=document.createElement('body');this.ag(J.sr,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":fH});J.sr.appendChild(J.ci);J.GE=this.aL('foreignObject');J.GE.appendChild(J.sr);J.jk.appendChild(J.GE);}J.lE.setAttribute('data-pcc-mark',fH);break;case IPCC.Web.UI.MarkType.Stamp:J.ax=this.aL('g');J.wT=this.aL('rect');J.wT.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.hk=this.aL('rect');J.Mf=this.ZT(J);J.ax.appendChild(J.wT);J.ax.appendChild(J.hk);J.ax.appendChild(J.Mf);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J.ax=this.aL('g');J.wT=this.aL('rect');J.wT.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.hk=this.aL('rect');J.ahz=this.arC(J);J.ahz.setAttribute('data-pcc-mark',"mark-"+J.O.jx());J.ax.appendChild(J.wT);J.ax.appendChild(J.hk);J.ax.appendChild(J.ahz);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var O=J.O;var abf=O.eg();var bN=abf.width;var cN=abf.height;var ug=O.get_pathWidth();var uU=O.get_pathHeight();var rG=O.get_pathString();var cV=IPCC.aN.xN.Path(rG,{width:bN,height:cN,multiplier:100,thickness:O.get_lineWidth(),color:O.get_lineColor()});var dW=IPCC.aN.xN.SVG('0 0 '+ug+' '+uU,100);var bm=IPCC.aN.xN.Rect(ug,uU,'fill:rgba(255, 255, 255, 0);stroke:none;');dW.appendChild(bm);dW.appendChild(cV);J.ax=dW;J.axl=cV;J.adY=bm;break;case IPCC.Web.UI.MarkType.SignatureText:J.ax=this.aL('g');J.hk=this.aL('rect');J.hk.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.Mf=this.ZT(J);J.ax.appendChild(J.hk);J.ax.appendChild(J.Mf);J.O.gF=false;break;case IPCC.Web.UI.MarkType.TextLine:J.ax=this.aL('g');J.hk=this.aL('rect');J.hk.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.Mf=this.ZT(J,{alignment:"start"});J.ax.appendChild(J.hk);J.ax.appendChild(J.Mf);break;}J.ax.ImGearMarkRelation=J;J.ax.setAttribute('data-pcc-mark',"mark-"+J.O.jx());this.af.sN.appendChild(J.ax);if(J.jk){J.jk.ImGearMarkRelation=J;this.af.sN.appendChild(J.jk);}this.QU(J);},ZT:function(J,options){options=options||{};var alignment=options.alignment?options.alignment.toLowerCase():"middle";var O=J.O;var iy=O.bo;if(!iy){iy=O.dg[0];if(!iy){if(O.get_type()===IPCC.Web.UI.MarkType.Stamp){iy="APPROVED";}else{iy="";}}}var F=O.eg();J.fd=this.aL('text');J.IW="PCC"+IPCC.ar.EH;IPCC.ar.EH++;var uK=document.createTextNode(iy);J.fd.setAttribute("font-size","22px");J.fd.setAttribute("text-anchor",alignment);if(O.get_type()===IPCC.Web.UI.MarkType.TextLine){J.fd.setAttribute("style",'white-space:pre;');}if(alignment==="middle"){J.fd.setAttribute("x",F.x+(F.width/2));J.fd.setAttribute("y",F.y+(F.height/2));}else if(alignment==="start"){J.fd.setAttribute("x",F.x);J.fd.setAttribute("y",F.y+(F.height/2));}else if(alignment==="end"){J.fd.setAttribute("x",F.x+F.width);J.fd.setAttribute("y",F.y+(F.height/2));}J.fd.appendChild(uK);return J.fd;},arC:function(J){var O=J.O;J.hH=document.createElementNS('http://www.w3.org/2000/svg','svg');J.xg=document.createElementNS('http://www.w3.org/2000/svg','image');J.xg.setAttribute('id','childimg');J.xg.setAttributeNS('http://www.w3.org/1999/xlink','href',O.get_image());J.hH.appendChild(J.xg);return J.hH;},arz:function(J,pO){var O=J.O;var F=O.eg();var bo=O.bo.trim().replace(/ {2,}/g,' ');var Mi,gy,mP,Zy;var Ct=J.fd;var yx=[];var cL=Ct.childNodes.length;if(cL>1){var ayS=Ct.parentNode;var Zl=this.aL('text');Zl.setAttribute('data-pcc-mark',J.jk.getAttribute('data-pcc-mark'));ayS.replaceChild(Zl,Ct);J.fd=Zl;J.fd.appendChild(J.rZ);J.jk.appendChild(J.fd);Ct={};Ct=J.fd;}var QR=2;if(pO){switch(pO){case IPCC.Web.UI.HorizontalAlignment.Center:QR=F.width/2;break;case IPCC.Web.UI.HorizontalAlignment.Right:QR=F.width-8.4;break;}}var abk=0;abk=F.height;var aeX;var acf=0;var eN=this.BY/72;var acD=0;var WG=O.cJ*eN;var cN=F.height;var TC=0;var wQ=0;var GR=bo.split('\n');for(var K=0;K<GR.length;K++){var BD='';var ajC=2;if(GR[K].length>0){mP=GR[K].split(' ');Zy=mP[0];gy=this.aL('tspan');if(K>0){gy.setAttributeNS(null,"x",QR);gy.setAttributeNS(null,"dy",WG*(TC+1));}Mi=window.document.createTextNode(mP[0]);gy.appendChild(Mi);Ct.appendChild(gy);for(var aK=1;aK<mP.length;aK++){if(mP[aK].length>Zy.length){Zy=mP[aK];}cL=gy.firstChild.data.length;var Lb=mP[aK];if(mP[aK].length>0){if(gy.firstChild.data[gy.firstChild.data.length-1]!==' '){gy.firstChild.data+=" "+mP[aK];}else{gy.firstChild.data+=mP[aK];}}if(gy.firstChild.data[gy.firstChild.data.length-1]!==' '&&aK!==mP.length-1){gy.firstChild.data+=' ';Lb+=' ';}BD=BD+Lb;aeX=BD.length*(O.cJ*eN);try{acf=gy.getComputedTextLength();}catch(e){}var adg=acf*eN;if(adg===0){acD=aeX;}else{acD=adg;}var Xp=gy.firstChild.data.length*(O.cJ/2);if(Xp>=F.width){ajC++;BD='';gy.firstChild.data=gy.firstChild.data.slice(0,cL);BD=BD+Lb;if(BD.length>1){if(gy.firstChild.data[gy.firstChild.data.length-1]!==' '){gy.firstChild.data+=' ';cL+=1;}yx.push({bK:wQ,aeC:gy});wQ+=cL;gy=this.aL('tspan');gy.setAttributeNS(null,"x",QR);gy.setAttributeNS(null,"dy",WG);if(aK===mP.length-1){Mi=window.document.createTextNode(mP[aK]);}else{Mi=window.document.createTextNode(Lb);}gy.appendChild(Mi);Ct.appendChild(gy);}}abk=WG*ajC;if(abk>=cN){break;}}if(gy.firstChild.data.length>0){yx.push({bK:wQ,aeC:gy});}wQ+=gy.firstChild.data.length+1;TC=0;}else{TC++;}}return yx;},aBQ:function(jM,gy,hz,wQ){if(jM.length>0){var agP=gy.getNumberOfChars();if(jM[0].bK>wQ+agP){return;}for(var K=Math.max(jM[0].bK-wQ,0);K<agP;K++){var F=gy.getExtentOfChar(K);var bm=this.aL('rect');this.ag(bm,{x:F.x,y:F.y,width:F.width,height:F.height,fill:jM[0].ET});hz.appendChild(bm);if(jM[0].dk===K+wQ){jM.shift();if(jM.length===0){return;}K=jM[0].bK-wQ-1;}}}},mq:function(bJ,kk,mK){var cV='M',K;for(K=0;K<kk.length;K++){if(K>0){cV+=' L';}cV+=kk[K].x+','+kk[K].y;}if(mK){cV+='Z';}this.ag(bJ,{d:cV});},VY:function(bJ,kk,mK){var Qp='',K;for(K=0;K<kk.length;K++){if(K>0){Qp+=' ';}Qp+=kk[K].x+','+kk[K].y;}if(mK&&kk.length>2){Qp+=' '+kk[0].x+','+kk[0].y;}this.ag(bJ,{points:Qp});},KA:function(fj,je,vY,qE,rM,Ej,rf){var dr=this.adv(fj,je,vY,qE,rM);var al='';al+='stroke:'+Ej+';';switch(rM){case IPCC.Web.UI.LineHeadType.None:al='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.mq(rf,[dr.tA,fj,dr.uO],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.mq(rf,[dr.tA,fj,dr.uO],true);al+='fill:'+Ej+';';break;case IPCC.Web.UI.LineHeadType.Open:this.mq(rf,[dr.tA,fj,dr.uO],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.mq(rf,[dr.tA,fj,dr.uO,dr.zW],true);al+='fill:'+Ej+';';break;}this.ag(rf,{style:al});return dr;},VH:function(J){var O=J.O;var bE,fr,K,EO,Hw,gv='',pS;bE=O.get_points();fr=[];for(K=0;K<bE.get_length();K++){fr.push(bE.getPoint(K));}if(fr.length<2||O.mK){this.ag(J.wc,{style:'display:none;'});this.ag(J.wI,{style:'display:none;'});}else{O.tw=O.gY;pS=this.RF(fr,true);EO=this.KA(pS.fj,pS.je,O.GB,O.DJ,O.EL,O.tw,J.wc);pS=this.RF(fr,false);Hw=this.KA(pS.fj,pS.je,O.El,O.Dx,O.mt,O.tw,J.wI);fr[0]=EO.zW;fr[fr.length-1]=Hw.zW;}this.VY(J.hN,fr,O.mK);var xi=this.xZ(O.gv);if(xi!==''){gv+='stroke-dasharray:'+xi+';';}this.ag(J.hN,{style:gv});},VV:function(J){var nD=this.aeU(J);this.VY(J.lE,nD.SJ,false);var aho='',gv='fill:none;',rJ='fill:none;';if(nD.Pi){aho='stroke:none;';}if(nD.KS){this.mq(J.hN,nD.KS,false);}else{gv+='display:none;';}if(nD.CW){this.mq(J.qX,nD.CW,false);}else{rJ+='display:none;';}var O=J.O;if(O.Cq){rJ+='stroke:'+O.EJ+';stroke-width:'+O.Dc+';';var xi=this.xZ(O.rJ);if(xi!==''){rJ+='stroke-dasharray:'+xi+';';}}this.ag(J.hN,{style:gv});this.ag(J.qX,{style:rJ});this.ag(J.lE,{style:aho});},HF:function(J){var O=J.O,Fe;if(!O){return;}var F=O.eg();var mw=O.cJ*this.BY/72;O.mw=mw;var ut=F.width,ta=F.height,Hi=false,eD;var lg,fz=0,er=0;var gc=1;if(O.gF){gc+=O.gq/2;}switch(O.xH){case IPCC.Web.UI.Orientation.TopLeft:lg='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:lg='-1,0,0,1';fz=ut-gc;break;case IPCC.Web.UI.Orientation.BottomRight:lg='-1,0,0,-1';fz=ut-gc;er=ta-gc;break;case IPCC.Web.UI.Orientation.BottomLeft:lg='1,0,0,-1';er=ta-gc;break;case IPCC.Web.UI.Orientation.LeftTop:lg='0,1,1,0';Hi=true;break;case IPCC.Web.UI.Orientation.RightTop:lg='0,1,-1,0';fz=ut-gc;Hi=true;break;case IPCC.Web.UI.Orientation.RightBottom:lg='0,-1,-1,0';fz=ut-gc;er=ta-gc;Hi=true;break;case IPCC.Web.UI.Orientation.LeftBottom:lg='0,-1,1,0';er=ta-gc;Hi=true;break;}if(O.cI==="#c0c0c0"){O.cI='#ffffff';}if(O.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(O.jg()===true){O.cI='#ffffff';}else{O.set_opacity(O.cn);}}if(Hi){eD=ut;ut=ta;ta=eD;}ut-=2*gc;ta-=2*gc;if(ut<0){ut=0;}if(ta<0){ta=0;}var Zr='normal';var ff='normal';var ph='';var tm;ph+='word-wrap:break-word;background-color:transparent;line-height:1;';var Av=0;if(O.pI.length===7&&O.pI.charAt(0)==='#'){Av=parseInt(O.pI.slice(1),16);}var cn=Math.min(1,Math.max(0,O.tS/255));if(document.documentMode>8){ff='normal';if(O.ff&IPCC.Web.UI.FontStyle.Italic){ff='italic';}Zr='normal';if(O.ff&IPCC.Web.UI.FontStyle.Bold){Zr='bold';}tm='none';if((O.ff&IPCC.Web.UI.FontStyle.Underline)&&(O.ff&IPCC.Web.UI.FontStyle.Strikeout)){tm='underline line-through';}else if(O.ff&IPCC.Web.UI.FontStyle.Underline){tm='underline';}else if(O.ff&IPCC.Web.UI.FontStyle.Strikeout){tm='line-through';}}else{ph+='color:rgba('+(Av>>16)+','+((Av>>8)&255)+','+(Av&255)+','+cn+');';ph+='font-family:'+O.gf+';';ph+='font-size:'+mw+'px;';if(O.ff&IPCC.Web.UI.FontStyle.Italic){ph+='font-style:italic;';}if(O.ff&IPCC.Web.UI.FontStyle.Bold){ph+='font-weight:bold;';}if((O.ff&IPCC.Web.UI.FontStyle.Underline)&&(O.ff&IPCC.Web.UI.FontStyle.Strikeout)){ph+='text-decoration:underline line-through;';}else if(O.ff&IPCC.Web.UI.FontStyle.Underline){ph+='text-decoration:underline;';}else if(O.ff&IPCC.Web.UI.FontStyle.Strikeout){ph+='text-decoration:line-through;';}}var CT={x:2,anchor:'start'};switch(O.pO){case IPCC.Web.UI.HorizontalAlignment.Left:ph+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:ph+='text-align:center;';CT.x=(F.width/2)-3;CT.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:ph+='text-align:right;';CT.x=F.width-8;CT.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'){switch(O.AJ){case IPCC.Web.UI.VerticalAlignment.Center:if(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.ag(J.sr,{style:'display:table; width: 100%'});ph+='display: table-cell; white-space: normal; vertical-align: middle; height:'+ta+'px';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.ag(J.ci,{style:ph});this.ag(J.jk,{transform:'matrix('+lg+','+(fz+F.x+gc)+','+(er+F.y+gc)+')'});this.ag(J.GE,{x:0,y:0,width:ut,height:ta});this.aaM(J);}else{var yx=this.arz(J,O.pO);var ahu=yx.length;switch(O.AJ){case IPCC.Web.UI.VerticalAlignment.Center:if(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Fe=(F.height/2)+(O.cJ/4);if(ahu>1){Fe-=(ahu-1)*(O.cJ/2);}if(Fe<0){Fe=O.cJ;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.ag(J.BK,{x:0,y:0,width:F.width-5,height:F.height-5});var avY="url(#"+J.IW+")";var Ve={x:CT.x,y:(this.BY/72)*O.cJ,width:F.width,height:F.height,'font-family':O.gf,'font-size':mw,fill:'rgba('+(Av>>16)+', '+((Av>>8)&255)+', '+(Av&255)+', '+cn+')','font-weight':Zr,'font-style':ff,'text-decoration':tm,'text-anchor':CT.anchor};if(typeof Fe!=='undefined'){delete Ve.y;Ve.dy=Fe;}this.ag(J.fd,Ve);J.fd.style.opacity=cn;this.ag(J.jk,{transform:'matrix('+lg+','+(fz+F.x+gc)+','+(er+F.y+gc)+')','clip-path':avY});var hz=J.aaU;while(hz&&hz.firstChild){hz.removeChild(hz.firstChild);}if(O.eJ){var jM=this.akk(O.eJ);for(var K=0;K<yx.length;K++){this.aBQ(jM,yx[K].aeC,hz,yx[K].bK);}}}},FN:function(J){var O=J.O;if(O.ds===null||O.ds===undefined){return;}if(O.ds.length===0&&O.cw>0&&this.V.cf().nr()){O.ds=IPCC.aN.Qf(this.V.cf().fE(),O.bK,O.bK+O.cw-1);}if(!J.bK|| !J.cw||J.bK!==O.bK||J.cw!==O.cw||O.gI===false||O.gI===true){while(J.oS.firstChild){J.oS.removeChild(J.oS.firstChild);}if(J.lA){while(J.lA.firstChild){J.lA.removeChild(J.lA.firstChild);}}if(O.gI===false){return;}IPCC.aN.forEach(J.O.ds,function(iG){var ahA=this.aL('rect');J.oS.appendChild(ahA);this.ag(ahA,{x:iG.x,y:iG.y,width:iG.width,height:iG.height});if(J.lA){var ahU=this.aL('line');this.ag(ahU,{x1:iG.x,y1:iG.y+iG.height-1,x2:iG.x+iG.width,y2:iG.y+iG.height-1,"stroke-width":2});J.lA.appendChild(ahU);}},this);J.bK=O.bK;J.cw=O.cw;}},QU:function(J){var O=J.O;if(!O){return;}var ax=J.ax;var F,al='',bE,gF=true,pk,nN,oM,Wk,vo,FT;var iI=false;switch(O.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:iI=true;this.VH(J);break;case IPCC.Web.UI.MarkType.Rectangle:F=O.get_rectangle();this.ag(ax,{x:F.x,y:F.y,width:F.width,height:F.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.FN(J);J.oS.style.fill=O.cI;J.oS.style.opacity=(O.cn/255);this.Cg(J);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.FN(J);J.oS.style.fill="blue";J.lA.style.stroke="blue";if(J.O.get_selected()){J.lA.style.opacity=IPCC.ar.aU.xe(false,J.O.get_selected());}else{J.lA.style.opacity=IPCC.ar.aU.xe(false,J.O.get_selected());}this.Cg(J);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:F=O.get_rectangle();this.ag(J.F,{x:F.x,y:F.y,width:F.width,height:F.height});if(J.mb){this.ag(J.mb,{x1:F.x,y1:F.y+F.height,x2:F.x+F.width,y2:F.y+F.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof J.hk!=='undefined'){if(this.V.mI()===true){J.hk.style.opacity=0.5;if(typeof J.ci!=='undefined'){J.ci.style.opacity=0;}else{J.fd.style.opacity=0;}}else{J.hk.style.opacity=1;if(typeof J.ci!=='undefined'){J.ci.style.opacity=1;}}}F=O.get_rectangle();this.ag(ax,{x:F.x,y:F.y,width:F.width,height:F.height});this.ag(J.hk,{x:F.x,y:F.y,width:F.width,height:F.height});if(this.V.mI()===false){this.HF(J);}break;case IPCC.Web.UI.MarkType.Ellipse:F=O.get_rectangle();this.ag(ax,{cx:F.x+F.width/2,cy:F.y+F.height/2,rx:F.width/2,ry:F.height/2});break;case IPCC.Web.UI.MarkType.Polygon:bE=this.Jt(O);this.VY(ax,bE,false);al+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.VV(J);this.HF(J);if(typeof document.documentMode==='undefined'){J.sr.style.cursor=IPCC.an.es(this.bw.Go());}break;case IPCC.Web.UI.MarkType.Stamp:F=O.get_rectangle();this.ag(ax,{x:F.x,y:F.y,width:F.width,height:F.height});this.ag(J.wT,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.wT.style.opacity=1;this.ag(J.hk,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':O.cI,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(F.width/6);if(textFontSize>F.height){textFontSize=(F.height-(F.height/6));}pk=J.O.get_text();if(!pk){pk='APPROVED';}J.fd.childNodes[0].data=pk;var nk=pk.length*textFontSize;if(nk>F.width){textFontSize=((F.width/pk.length));}FT=Math.round(textFontSize);O.stampSize=FT.toString();this.ag(J.fd,{x:F.x+(F.width/2),y:F.y+(F.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':O.cI,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F=O.get_rectangle();this.ag(ax,{x:F.x,y:F.y,width:F.width,height:F.height});this.ag(J.wT,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.wT.style.opacity=1;this.ag(J.hk,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':O.cI,'stroke-width':'0','fill':'none'});J.xg.setAttribute('height',F.height);J.xg.setAttribute('width',F.width);J.xg.setAttribute('x',F.x);J.xg.setAttribute('y',F.y);J.xg.setAttributeNS('http://www.w3.org/1999/xlink','href',O.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Cg(J);break;case IPCC.Web.UI.MarkType.Highlight:F=O.get_rectangle();if(F.x===0&&F.y===0){var fB=this.V.cf().fE();if(fB.eI()>0){var dZ=fB.kK(O.bK);F=dZ.aa;}O.mV='y';}this.ag(ax,{x:F.x,y:F.y,width:F.width,height:F.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:F=O.get_rectangle();this.ag(ax,{x:F.x,y:F.y,width:F.width,height:F.height});var NR=J.axl;if(O.Qe===true){O.Qe=false;NR.setAttribute("d",O.get_pathString());var ug=O.get_pathWidth();var uU=O.get_pathHeight();ax.setAttribute('viewBox','0 0 '+ug+' '+uU);J.adY.setAttribute('width',ug);J.adY.setAttribute('height',uU);}if(O.get_visible()){J.ax.style.display='block';}else{J.ax.style.display='none';}NR.style.stroke=O.get_lineColor();NR.style.strokeWidth=O.get_lineWidth()+'px';NR.style.opacity=O.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:F=O.get_rectangle();this.ag(ax,{x:F.x,y:F.y,width:F.width,height:F.height});this.ag(J.hk,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.hk.style.opacity=1;var aps=J.O.get_text()||"";J.fd.childNodes[0].data=aps;nN=12*F.width/(O.wq||1);oM=12*F.height/(O.vA||1);vo=Math.min(nN,oM);var amZ=Math.floor(vo);O.stampSize=amZ.toString();this.ag(J.fd,{x:F.x+(F.width/2),y:F.y+(F.height/2+(vo/3)),'font-size':vo,'stroke':"none",'fill':O.get_fillColor(),'font-family':O.get_fontName()});if(O.get_visible()){J.ax.style.display='block';}else{J.ax.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:F=O.get_rectangle();this.ag(ax,{x:F.x,y:F.y,width:F.width,height:F.height});al='stroke:'+(O.gF?'black':'none')+';stroke-width:1;';this.ag(J.hk,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':O.gF?'black':'none','fill':'rgba(255, 255, 255, 0)','style':al});J.fd.style.opacity=1;pk=J.O.get_text()||"";J.fd.childNodes[0].data=pk;Wk=IPCC.aN.aly(pk,O.get_fontName(),F.width,F.height,{wS:"pre",dW:J.ax});vo=Wk.fontSize;O.mw=vo;O.stampSize=vo;O.Lp=true;O.rd=Wk;this.ag(J.fd,{x:F.x,y:F.y+(F.height/2+(vo/3)),'font-size':vo,'stroke':"none",'fill':O.get_textColor(),'font-family':O.get_fontName(),'white-space':'pre'});this.ag(ax,{style:'fill:none;opacity:1;'});break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',O.get_type());}if(O.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&O.get_type()!==IPCC.Web.UI.MarkType.Freehand&&O.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&O.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&O.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&O.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&O.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(iI){al+='fill:none;';}else{if(O.yP){al+='fill:'+O.cI+';';}else{al+='fill:none;';}gF=O.gF;var xi=this.xZ(O.gv);if(xi!==''){al+='stroke-dasharray:'+xi+';';}}if(gF){al+='stroke:'+O.get_lineColor()+';';al+='stroke-width:'+O.gq+';';}else{al+='stroke:none;';}if(O.get_type()===IPCC.Web.UI.MarkType.SignatureText){al+='opacity:'+1+';';}else{al+='opacity:'+(O.cn/255)+';';}if(!O.gI){al+='display:none;';if(J.jk){J.jk.style.display='none';}}else{if(J.jk){J.jk.style.display='block';}}al+='cursor:'+IPCC.an.es(this.bw.Go())+';';this.ag(ax,{style:al});}if(O.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!O.gI){al+='display:none;';}else{al+='display:block;';}al+='cursor:'+IPCC.an.es(this.bw.Go())+';';this.ag(ax,{style:al});}},Cg:function(J){var O=J.O,azU=O.get_visible();var F=O.get_rectangle();if(F.x===0&&F.y===0){return;}var hz=J.hz;while(hz.firstChild){hz.removeChild(hz.firstChild);}var hJ;for(var K=0;K<O.eJ.length;K++){for(var aK=0;aK<O.eJ[K].length;aK++){var KO=this.V.cf().fE();if(KO.eI()>0){var Tq=KO.kK(O.eJ[K].startIndex+aK);hJ=Tq.aa;}var bm=this.aL('rect');this.ag(bm,{x:hJ.x,y:hJ.y,width:hJ.width,height:hJ.height,fill:O.eJ[K].color,display:(azU)?'block':'none'});bm.style.opacity=(O.eJ[K].opacity)?(O.eJ[K].opacity)/255.0:0.5;hz.appendChild(bm);}}},xZ:function(gv){switch(gv){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Jk:function(J){this.af.sN.removeChild(J.ax);if(J.jk){this.af.sN.removeChild(J.jk);}delete J.ax;},aeu:function(){},agY:function(){this.af=undefined;},aL:function(aI){return document.createElementNS('http://www.w3.org/2000/svg',aI);},ag:function(ax,aE){var K;for(K in aE){if(aE.hasOwnProperty(K)){var attr=aE[K];ax.setAttribute(K,attr!==undefined&&attr!==null?attr.toString():'');}}}};IPCC.ar.wE={CA:function(){var wd=IPCC.ar.wE;if(wd.vs===null){
/*@cc_on@if(@_jscript)wd.vs=document.documentMode>8;@else@*/ wd.vs=true;/*@end@*/}return wd.vs;},vs:null};if(IPCC.wE.CA()){IPCC.ar.aU=IPCC.ar.agm;}else{IPCC.ar.aU=IPCC.ar.HI;}IPCC.ar.aU.xe=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};IPCC.ar.aU.Po=function(){return 31/255;};IPCC.ar.aU.aEk=function(isSelected){return isSelected?"purple":"blue";};IPCC.ar.aU.prototype.adv=function(fj,je,vY,qE,rM){var dr={fj:fj,je:je,vY:vY,qE:qE,rM:rM};if(fj.x===je.x&&fj.y===je.y){dr.rM=IPCC.Web.UI.LineHeadType.None;}var LT=Math.atan2(fj.x-je.x,-(fj.y-je.y))+Math.PI/2;vY*=Math.PI/180;var ju=LT+vY;dr.tA={x:fj.x+Math.cos(ju)*qE,y:fj.y+Math.sin(ju)*qE};ju=LT-vY;dr.uO={x:fj.x+Math.cos(ju)*qE,y:fj.y+Math.sin(ju)*qE};switch(dr.rM){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:dr.zW={x:(dr.tA.x+dr.uO.x)/2,y:(dr.tA.y+dr.uO.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:dr.zW={x:fj.x+Math.cos(LT)*qE/2,y:fj.y+Math.sin(LT)*qE/2};break;default:dr.zW=fj;break;}return dr;};IPCC.ar.aU.prototype.aeU=function(J){var O=J.O;var F=O.get_rectangle();var GO={x:O.pr.x+F.x+0.00001,y:O.pr.y+F.y+0.00001};var aG={};var gN=[{x:F.x,y:F.y},{x:F.x+F.width,y:F.y},{x:F.x+F.width,y:F.y+F.height},{x:F.x,y:F.y+F.height}];if(!O.Ag){aG.SJ=gN;aG.Pi= !O.gF;return aG;}var K,adQ=[];for(K=0;K<4;K++){adQ.push({x:(gN[K].x+gN[(K+3)%4].x)/2,y:(gN[K].y+gN[(K+3)%4].y)/2,aAt:true});}for(K=3;K>=0;K--){gN.splice(K,0,adQ[K]);}function agD(Lu){var nV,IC;nV=(GO.x-(gN[Lu].x+gN[(Lu+1)%8].x)/2)*F.height;IC=nV*nV;nV=(GO.y-(gN[Lu].y+gN[(Lu+1)%8].y)/2)*F.width;return IC+nV*nV;};var YS=0,afL=agD(0),gr;for(K=1;K<8;K++){gr=agD(K);if(gr<afL){afL=gr;YS=K;}}gN=gN.slice(YS+1).concat(gN.slice(0,YS+1));var EF=gN[0],DE=gN[7];for(K=gN.length-1;K>=0;K--){if(gN[K].aAt){gN.splice(K,1);}}switch(O.Kf){case IPCC.Web.UI.CalloutType.Triangle:gN.splice(0,0,{x:(EF.x*3+DE.x)/4,y:(EF.y*3+DE.y)/4});gN.push({x:(EF.x+DE.x*3)/4,y:(EF.y+DE.y*3)/4});if(O.Cq){aG.Pi=true;aG.KS=[].concat(gN);aG.CW=[gN[0],GO,gN[gN.length-1]];}gN.push(GO);break;default:case IPCC.Web.UI.CalloutType.Line:aG.CW=[{x:(EF.x+DE.x)/2,y:(EF.y+DE.y)/2},GO];break;}aG.SJ=gN;if(!O.gF){aG.Pi=true;delete aG.KS;delete aG.CW;}return aG;};IPCC.ar.aU.prototype.Jt=function(O){var bE=O.get_points();var fr=[],K;for(K=0;K<bE.get_length();K++){fr.push(bE.getPoint(K));}return fr;};IPCC.ar.aU.prototype.RF=function(fr,aCm){var bD=0,RA=1,ack=fr.length-2,fj,je;if(!aCm){bD=fr.length-1;RA= -1;}fj=fr[bD];bD+=RA;je=fr[bD];bD+=RA;while(fj.x===je.x&&fj.y===je.y&&ack>0){je=fr[bD];bD+=RA;ack--;}return{fj:fj,je:je};};IPCC.ar.aU.prototype.alA=function(V,af,au,ki){if(!af.mZ){af.mZ=[];}var mZ=af.mZ;if(au.length<1&&mZ.length<1){if(af.yc.firstChild){af.yc.innerHTML='';}return;}var bH=V.dV();var fn=bH.zT();if(this.gX===undefined){this.gX=40;var zY=document.createElement("div");zY.className='pccMarkHandleTopLeft';zY.visibility='hidden';document.body.appendChild(zY);if(zY.currentStyle){this.gX=parseInt(zY.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aBy=document.defaultView.getComputedStyle(zY);this.gX=parseInt(aBy.width,10)||0;}document.body.removeChild(zY);}var K,LP=[];for(K=0;K<au.length;K++){if(au[K].get_visible()===true){if(fn.HU(au[K])>=0||(au[K].get_selected()===true&&(au[K].kL===true||au[K].jO===true))||au[K].xy===true){LP.push(au[K]);}}}for(K=0;K<mZ.length;K++){while(K<mZ.length&&(K>=LP.length||mZ[K].O!==LP[K])){af.yc.removeChild(mZ[K].iF);mZ.splice(K,1);}if(K<mZ.length&&V.mN()){this.aaV(mZ[K],ki);}}for(K=mZ.length;K<LP.length;K++){mZ[K]={O:LP[K]};this.asJ(af.yc,mZ[K]);this.aaV(mZ[K],ki);}};IPCC.ar.aU.prototype.wC=function(iF,aqn,Gs,vl,arN,bf,bX){var ck=[],K,cG;if(bX===undefined){bX='handle';}for(K=0;K<aqn;K++){cG={ax:document.createElement('div')};cG.ax.ImGearMarkHandle=cG;cG.bf=bf;cG.aI=vl;cG.bD=arN+K;iF.appendChild(cG.ax);cG.ax.setAttribute('data-pcc-mark',bX+'-'+iF.ImGearMarkRelation.O.jx());ck.push(cG);}return ck;};IPCC.ar.aU.prototype.aoj=function(cg){if(cg.ck===undefined){return;}var K;for(K=0;K<cg.ck.length;K++){var cG=cg.ck[K];cG.ax.style.cursor=IPCC.an.es(cG.bf);}};IPCC.ar.aU.prototype.asJ=function(yc,cg){cg.iF=document.createElement('div');cg.iF.style.width='0px';cg.iF.style.height='0px';cg.iF.style.left='0px';cg.iF.style.top='0px';cg.iF.style.zIndex='1';var K,O=cg.O,cG;cg.iF.ImGearMarkRelation=cg;switch(O.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:cg.ck=this.wC(cg.iF,2,this.gX,this.Ij,0,IPCC.an.Move);cg.ck=cg.ck.concat(this.wC(cg.iF,2,this.gX,this.Ib,0,IPCC.an.Move));break;case IPCC.Web.UI.MarkType.Polygon:cg.ck=[];break;case IPCC.Web.UI.MarkType.Freehand:cg.ck=[];cg.ij=document.createElement('div');cg.ij.style.border='1px solid gray';cg.ij.style.position='absolute';cg.iF.appendChild(cg.ij);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&O.dM!==undefined){break;}cg.ij=document.createElement('div');cg.ij.style.border='1px solid gray';cg.ij.style.position='absolute';cg.iF.appendChild(cg.ij);cg.ck=this.wC(cg.iF,4,this.gX,this.We,0,-1);cg.ck=cg.ck.concat(this.wC(cg.iF,4,this.gX,this.XB,0,-1));for(K=4;K<8;K++){cG=cg.ck[K];cG.aqN=cg.ck[K-4];cG.aqa=cg.ck[(K+1)%4];}if(O.get_type()===IPCC.Web.UI.MarkType.Text){cg.ck=cg.ck.concat(this.wC(cg.iF,1,this.gX,this.ZG,0,IPCC.an.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:cg.ck=this.wC(cg.iF,1,this.gX,this.Ij,0,IPCC.an.Move,'texthandlestart');cg.ck=cg.ck.concat(this.wC(cg.iF,1,this.gX,this.Ij,1,IPCC.an.Move,'texthandleend'));break;}if(O.kC()===IPCC.Web.UI.MarkType.Text||O.kC()===IPCC.Web.UI.MarkType.TextLine){var pZ=document.createElement('div');pZ.className='pccEditMarkButton';pZ.setAttribute('data-pcc-mark','edit-'+O.jx());pZ.onclick=function(bL){bL=bL||{};bL.stopPropagation?bL.stopPropagation():bL.cancelBubble=true;bL.preventDefault?bL.preventDefault():bL.returnValue=false;var sH;var lj=cg.iF;while(lj&&(lj.parentNode||lj.ownerSVGElement)){if(lj.parentNode.id&&lj.parentNode.id.indexOf("__pViewId")!== -1){sH=lj.parentNode;}lj=lj.ownerSVGElement||lj.parentNode;}sH&&sH.aH.ayr(bL,O);};cg.iF.appendChild(pZ);var awD={ax:pZ};cg.ck.push(awD);}yc.appendChild(cg.iF);};IPCC.ar.aU.kM={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};IPCC.ar.aU.prototype.We=0;IPCC.ar.aU.prototype.XB=1;IPCC.ar.aU.prototype.Ib=2;IPCC.ar.aU.prototype.Ij=3;IPCC.ar.aU.prototype.ZG=4;IPCC.ar.aU.prototype.adS=function(cG,aBu){switch(aBu){case IPCC.ar.aU.kM.TopLeft:cG.ax.className='pccMarkHandleTopLeft';break;case IPCC.ar.aU.kM.TopCenter:cG.ax.className='pccMarkHandleTopCenter';break;case IPCC.ar.aU.kM.TopRight:cG.ax.className='pccMarkHandleTopRight';break;case IPCC.ar.aU.kM.MidLeft:cG.ax.className='pccMarkHandleMidLeft';break;case IPCC.ar.aU.kM.MidRight:cG.ax.className='pccMarkHandleMidRight';break;case IPCC.ar.aU.kM.BottomLeft:cG.ax.className='pccMarkHandleBottomLeft';break;case IPCC.ar.aU.kM.BottomCenter:cG.ax.className='pccMarkHandleBottomCenter';break;case IPCC.ar.aU.kM.BottomRight:cG.ax.className='pccMarkHandleBottomRight';break;case IPCC.ar.aU.kM.Point:cG.ax.className='pccMarkHandlePoint';break;case IPCC.ar.aU.kM.TextSelectionStart:cG.ax.className='pccMarkHandleTextSelectionStart';break;case IPCC.ar.aU.kM.TextSelectionEnd:cG.ax.className='pccMarkHandleTextSelectionEnd';break;default:cG.ax.className='pccMarkHandlePoint';break;}};IPCC.ar.aU.prototype.zz=function(cG,ayq,ki,Gs,oR){cG.ba=ki.transform(ayq);cG.ax.style.left=(cG.ba.x-Gs/2)+'px';cG.ax.style.top=(cG.ba.y-Gs/2)+'px';cG.ax.style.display='block';cG.ax.style.zIndex='1';this.adS(cG,oR);};IPCC.ar.aU.prototype.abd=function(cG,Gs,oR){cG.ax.style.left=(cG.ba.x-Gs/2)+'px';cG.ax.style.top=(cG.ba.y-Gs/2)+'px';cG.ax.style.display='block';cG.ax.style.zIndex='1';this.adS(cG,oR);};IPCC.ar.aU.prototype.tu=function(cG){cG.ax.style.display='none';};IPCC.ar.aU.prototype.aaV=function(cg,ki){cg.iF.style.cursor=IPCC.an.es(this.bw.Go());var K,O=cg.O,ck=cg.ck,cG;var fr,F,mk,ly,vl,ew;var gr,Gr,fz,er,QC;switch(O.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:fr=this.Jt(O);Gr=fr.length+2-ck.length;if(Gr>0){cg.ck=cg.ck.concat(this.wC(cg.iF,Gr,this.gX,this.Ib,ck.length-2,IPCC.an.Move));ck=cg.ck;}for(K=0;K<fr.length;K++){this.zz(ck[K+2],fr[K],ki,this.gX,IPCC.ar.aU.kM.Point);}for(K=fr.length+2;K<ck.length;K++){this.tu(ck[K+2]);}break;case IPCC.Web.UI.MarkType.Polygon:fr=this.Jt(O);Gr=fr.length-ck.length;if(Gr>0){cg.ck=cg.ck.concat(this.wC(cg.iF,Gr,this.gX,this.Ib,ck.length,IPCC.an.Move));ck=cg.ck;}for(K=0;K<fr.length;K++){this.zz(ck[K],fr[K],ki,this.gX,IPCC.ar.aU.kM.Point);}for(K=fr.length;K<ck.length;K++){this.tu(ck[K]);}break;case IPCC.Web.UI.MarkType.Freehand:F=O.eg();mk=ki.transform({x:F.x,y:F.y});ly=ki.transform({x:F.x+F.width,y:F.y+F.height});ew={x:Math.min(mk.x,ly.x),y:Math.min(mk.y,ly.y)};ew.width=Math.max(mk.x,ly.x)-ew.x;ew.height=Math.max(mk.y,ly.y)-ew.y;cg.ij.style.left=ew.x+'px';cg.ij.style.top=ew.y+'px';cg.ij.style.width=ew.width+'px';cg.ij.style.height=ew.height+'px';cg.ij.setAttribute('data-pcc-mark','outline-'+O.jx());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(O.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&O.dM!==undefined){break;}F=O.eg();ck[0].ba=ki.transform({x:F.x,y:F.y});ck[1].ba=ki.transform({x:F.x+F.width,y:F.y});ck[2].ba=ki.transform({x:F.x+F.width,y:F.y+F.height});ck[3].ba=ki.transform({x:F.x,y:F.y+F.height});ew={x:Math.min(ck[0].ba.x,ck[2].ba.x),y:Math.min(ck[0].ba.y,ck[2].ba.y)};ew.width=Math.max(ck[0].ba.x,ck[2].ba.x)-ew.x;ew.height=Math.max(ck[0].ba.y,ck[2].ba.y)-ew.y;QC={x:ew.x+ew.width/2,y:ew.y+ew.height/2};for(K=0;K<4;K++){cG=ck[K];vl=(cG.ba.x<QC.x)?((cG.ba.y<QC.y)?0:2):((cG.ba.y<QC.y)?1:3);this.abd(cG,this.gX,vl);switch(vl){case 0:cG.bf=IPCC.an.ResizeNW;break;case 1:cG.bf=IPCC.an.ResizeNE;break;case 2:cG.bf=IPCC.an.ResizeSW;break;case 3:cG.bf=IPCC.an.ResizeSE;break;}}cg.ij.style.left=ew.x+'px';cg.ij.style.top=ew.y+'px';cg.ij.style.width=ew.width+'px';cg.ij.style.height=ew.height+'px';cg.ij.setAttribute('data-pcc-mark','outline-'+O.jx());var aEq=ew.x+ew.width/4;var aow=ew.x+ew.width*3/4;var aEi=ew.y+ew.height/4;var aoW=ew.y+ew.height*3/4;if(this.bw.zp()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){mk=ck[0].ba;ly=ck[1].ba;var axo=ck[2].ba;fz=mk.x-ly.x;er=ly.y-axo.y;var amM=fz*fz;var amQ=er*er;if(Math.min(amM,amQ)<this.gX*this.gX*5){this.tu(ck[0]);this.tu(ck[1]);this.tu(ck[2]);this.tu(ck[3]);}}for(K=4;K<8;K++){cG=ck[K];mk=cG.aqN.ba;ly=cG.aqa.ba;fz=mk.x-ly.x;er=mk.y-ly.y;gr=fz*fz+er*er;if(this.bw.zp()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gr<this.gX*this.gX*5){this.tu(cG);}else{cG.ba={x:(mk.x+ly.x)/2,y:(mk.y+ly.y)/2};this.abd(cG,this.gX,K);if(cG.ba.x<aEq){cG.bf=IPCC.an.ResizeW;}else if(cG.ba.x>aow){cG.bf=IPCC.an.ResizeE;}else if(cG.ba.y<aEi){cG.bf=IPCC.an.ResizeN;}else if(cG.ba.y>aoW){cG.bf=IPCC.an.ResizeS;}}}if(O.get_type()===IPCC.Web.UI.MarkType.Text){if(O.Ag){this.zz(ck[8],{x:F.x+O.pr.x,y:F.y+O.pr.y},ki,this.gX,IPCC.ar.aU.kM.Callout);}else{this.tu(ck[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:var dZ,hJ,zN;var GM=this.V.cf();var fB=GM.fE();if(O.kL===true){zN=O.bK;if(zN>=fB.eI()){dZ=fB.kK(fB.eI()-1);hJ=dZ.vj();this.zz(ck[0],new IPCC.Web.UI.Point(hJ.x+hJ.width,hJ.y),ki,this.gX,IPCC.ar.aU.kM.TextSelectionStart);break;}dZ=fB.kK(O.bK);hJ=dZ.vj();this.zz(ck[0],new IPCC.Web.UI.Point(hJ.x,hJ.y),ki,this.gX,IPCC.ar.aU.kM.TextSelectionStart);}else{this.tu(ck[0]);}if(O.jO===true){zN=O.bK+O.cw-1;if(zN<0){dZ=fB.kK(0);hJ=dZ.vj();this.zz(ck[1],new IPCC.Web.UI.Point(hJ.x,hJ.y+hJ.height),ki,this.gX,IPCC.ar.aU.kM.TextSelectionEnd);break;}dZ=fB.kK(zN);hJ=dZ.vj();this.zz(ck[1],new IPCC.Web.UI.Point(hJ.x+hJ.width,hJ.y+hJ.height),ki,this.gX,IPCC.ar.aU.kM.TextSelectionEnd);}else{this.tu(ck[1]);}break;}if(O.get_type()===IPCC.Web.UI.MarkType.Text||O.get_type()===IPCC.Web.UI.MarkType.TextLine){var wm=ck[ck.length-1];if(wm.ax.className.match(/pcc/)){var UU=cg.ij.clientHeight;var UV=cg.ij.clientWidth;var alN=cg.ij.offsetTop;var amk=cg.ij.offsetLeft;var ale=wm.ax.clientHeight;var Tm=wm.ax.clientWidth;wm.ax.style.position='absolute';wm.ax.style.zIndex='2';if(UU>ale+10&&UV>Tm+10){wm.ax.style.top=(UU-ale)/2+alN+'px';wm.ax.style.left=(UV-Tm)/2+amk+'px';}else{wm.ax.style.top=UU+alN+10+'px';wm.ax.style.left=(UV-Tm)/2+amk+'px';}}}this.aoj(cg);};IPCC.ar.aU.prototype.akk=function(hw,we){var axZ=IPCC.aN.als(hw,we||'#ffffff'),aAV=IPCC.aN.map(axZ,function(bq){return{bK:bq.startIndex,dk:bq.endIndex,ET:bq.color};});return aAV;};IPCC.ar.aU.prototype.aaM=function(J){var O=J.O;if(O.eJ){var jM=this.akk(O.eJ);var FM=O.bo;var Cc='';for(var K=jM.length-1;K>=0;K--){var Xv=jM[K];var bK=Xv.bK;var dk=Xv.dk;var eK=Xv.ET;var dm=IPCC.aN.IS(FM.substr(bK,dk-bK+1));var alE=IPCC.aN.IS(FM.substr(dk+1,FM.length-dk+1));FM=FM.substr(0,bK);Cc="<span style='background-color:"+eK+";'>"+dm+'</span>'+alE+Cc;}Cc=IPCC.aN.IS(FM)+Cc;Cc=Cc.replace(/\n/g,'<br/>');J.ci.innerHTML=Cc;}else{J.rZ.data=O.bo;}};IPCC.Web.UI.ImGearDocumentHyperlink=function(mO){var ad=0,fp=0,bN=0,cN=0,oh=mO.href||"",avm=mO.borderStyle||"Solid",qc=mO.borderThickness||0,Bf=mO.borderPattern||[1],FP=mO.borderHorizontalRadius||0,Fc=mO.borderHorizontalRadius||0,rh=mO.borderColor||"#0000FF",oB=mO.borderOpacity||255,F,O;if(typeof oB==='string'){oB=parseInt(oB,10);}if(mO.rectangle){ad=mO.rectangle.x;fp=mO.rectangle.y;bN=mO.rectangle.width;cN=mO.rectangle.height;}F=new IPCC.Web.UI.Rectangle(ad,fp,bN,cN);this.eg=function(){var Yg=new IPCC.Web.UI.Rectangle(F.x,F.y,F.width,F.height);return Yg;};this.Eh=function(mA){F.x=mA.x;F.y=mA.y;F.width=mA.width;F.height=mA.height;};this.adt=function(){return oh;};this.arV=function(){return avm;};this.ata=function(){return qc;};this.asR=function(){return Bf;};this.arG=function(){return FP;};this.arY=function(){return Fc;};this.arB=function(){return rh;};this.ash=function(){return oB;};this.QW=function(){return O;};this.amq=function(aCj){O=aCj;};};IPCC.Web.UI.ImGearTextCharacter=function(ad,fp,bN,cN,Ay,aBm){this.aa=new IPCC.Web.UI.Rectangle(ad,fp,bN,cN);this.lk=Ay;this.Hv=aBm;this.atc=function(){return Ay;};this.vj=function(){var Yg=new IPCC.Web.UI.Rectangle(this.aa.x,this.aa.y,this.aa.width,this.aa.height);return Yg;};this.aGF=function(){return this.Hv;};};IPCC.Web.UI.ImGearTextCharacterCollection=function(){var jo=[];this.avz=function(mi){jo.push(new IPCC.Web.UI.ImGearTextCharacter(mi.aa.x,mi.aa.y,mi.aa.width,mi.aa.height,mi.lk,mi.Hv));};this.aEh=function(aqO){function nb(mi){jo.push(mi);};aqO.forEach(nb,{});};this.aEY=function(bD,alw){var aK;var cL=jo.length;if(bD>jo.length||(bD<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bD,'index of theText Character Collection is out of range');}for(aK=0;aK<cL;aK++){if(jo[aK]===alw){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bo Character instance in a mi collection).');}}jo.splice(bD,0,alw);};this.aAh=function(acC,adN){IPCC.aN.forEach(jo,function(lk){lk.aa.width=lk.aa.width*acC;lk.aa.height=lk.aa.height*adN;lk.aa.x=lk.aa.x*acC;lk.aa.y=lk.aa.y*adN;});};this.np=function(og,dH){var Sm=[].concat(jo);var K;for(K=0;K<Sm.length;K++){og.call(dH,new IPCC.Web.UI.ImGearTextCharacter(Sm[K].x,Sm[K].y),K,this);}};function mR(bD){if(bD>jo.length-1||(bD<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bD);}};this.kK=function(bD){mR(bD);var ww=jo[bD];return new IPCC.Web.UI.ImGearTextCharacter(ww.aa.x,ww.aa.y,ww.aa.width,ww.aa.height,ww.lk,ww.Hv);};this.aDX=function(bD,mi){mR(bD);var Dm=jo[bD];if(Dm.aa.x===mi.aa.x&&Dm.aa.y===mi.y&&Dm.aa.width===mi.aa.width&&Dm.aa.height===mi.aa.height&&Dm.lk===mi.lk&&Dm.Hv===mi.Hv){return;}jo[bD]=mi;};this.eI=function(){return jo.length;};this.aGu=function(bD){mR(bD);jo.splice(bD,1);};this.aGh=function(){if(jo.length<1){return;}jo=[];};return this;};IPCC.Web.UI.ImGearHyperlinkCollection=function(){var Fz=[];this.awn=function(aBe){Fz.push(aBe);};this.dw=function(){return Fz.length;};this.np=function(og,dH){IPCC.aN.forEach(Fz,og,dH);};this.azx=function(){if(Fz.length<1){return;}Fz=[];};return this;};IPCC.Web.UI.ImGearHyperlinkPage=function(){var HB=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Km=function(){return HB;};};IPCC.Web.UI.ImGearTextPage=function(){var aqf=new IPCC.Web.UI.ImGearTextCharacterCollection();var Vj=false;var abp=false;var Zm="";var wV=new IPCC.Web.UI.ImGearTextSectionCollection();this.fE=function(){return aqf;};this.nr=function(){return Vj;};this.Ma=function(H){abp=true;if(H===Vj){return;}if((H===true)||(H===false)){Vj=H;}};this.Ai=function(){return abp;};this.FO=function(){return Zm;};this.aAf=function(H){if(H===Zm){return;}Zm=H;};this.YO=function(){return wV;};};IPCC.Web.UI.ImGearTextSection=function(){var F=null;var bK=0;var dk=0;this.eg=function(){return F;};this.Eh=function(H){F=H;};this.amR=function(){return bK;};this.aqj=function(H){bK=H;};this.aeH=function(){return dk;};this.aAp=function(H){dk=H;};};IPCC.Web.UI.ImGearTextSectionCollection=function(){var wV=[];this.ajm=function(iQ){wV.push(iQ);};function mR(bD){if(bD>wV.length-1||(bD<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bD);}};this.art=function(bD){mR(bD);return wV[bD];};this.eI=function(){return wV.length;};return this;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.ImGearThumbnailLayout=function(){};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum('IPCC.Web.UI.ImGearThumbnailLayout',false);IPCC.Web.UI.ImGearThumbnailSelectionMode=function(){};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailSelectionMode.prototype={Single:1,Multiple:2};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum('IPCC.Web.UI.ImGearThumbnailSelectionMode',false);IPCC.Web.UI.ImGearPageCountStatus=function(){};IPCC.Web.UI.ImGearPageCountStatus.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearPageCountStatus.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};IPCC.Web.UI.ImGearPageCountStatus.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);IPCC.Web.UI.ImGearPageCreateArgs=function(){};IPCC.Web.UI.ImGearPageCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCreateArgs.prototype={};IPCC.Web.UI.ImGearPageCreateArgs.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');IPCC.Web.UI.ImGearPage=function(bj){this.aR=undefined;var bC=0;var aS=0,ajS=0,alp=0;var bI=0,aiN=0,ahX=0;var DP='';var nF=false;var G=this;var bP=new IPCC.Web.UI.gK();this.gV=undefined;this.aEj=undefined;this.gg={tJ:0,aoE:false,vb:1000,XE:false};var iC=new IPCC.Web.UI.ImGearTextPage();var OE=new IPCC.Web.UI.ImGearHyperlinkPage();var mv=0;var lp=false;var Mp=false,GX=0,HJ=0;function agH(o){return!isNaN(o-0);};if(bj.pageNumber!==undefined){if(agH(bj.pageNumber)){bC=bj.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}if(bj.caption!==undefined){IPCC.aJ.aI(bj.caption,'caption','string');DP=bj.caption;}var BN;if(bj.BN!==undefined){if(bj.textData.text&&bj.textData.rectangles){BN=bj.textData;}}if(bj.selected!==undefined){nF=bj.selected;}this.mp=function(){return bC;};this.aDF=function(H){if(agH(bj.pageNumber)){bC=H;}};this.mH=function(){return aS;};function aht(){var ano=iC.fE();var qR=aS/GX,ra=bI/HJ;ano.aAh(qR,ra);};function ahv(){var HB=OE.Km();var qR=aS/GX,ra=bI/HJ;HB.np(function(jv){jv.Eh(jv.eg().scale(qR,ra));var agA=jv.QW();agA.set_rectangle(agA.get_rectangle().scale(qR,ra));});};this.JE=function(H){aS=H;if(Mp&&aS&&aS!==GX&&bI&&bI!==HJ){aht();ahv();Mp=false;}};this.mj=function(){return bI;};this.LW=function(H){bI=H;if(Mp&&aS&&aS!==GX&&bI&&bI!==HJ){aht();ahv();Mp=false;}};this.aDO=function(){return ajS;};this.apg=function(H){ajS=H;};this.aFo=function(){return aiN;};this.amY=function(H){aiN=H;};this.aDW=function(){return alp;};this.aDx=function(H){alp=H;};this.aFz=function(){return ahX;};this.aDG=function(H){ahX=H;};this.RI=function(){return nF;};this.LQ=function(H){if(nF!==H){nF=H;this.aA('selected');}};this.RM=function(){return DP;};this.WT=function(H){IPCC.aJ.ii(H,'caption');DP=H;this.aA('caption');};this.ask=function(){return this.aR;};this.cf=function(){return iC;};this.ia=function(){return mv;};this.sm=function(H){if(mv===H){return;}if(isNaN(H)){return;}mv=H;this.aA('serviceResponseTimeout');};this.dU=function(){return lp;};this.hX=function(H){lp=H;};this.iT=function(L){bP.addHandler('propertyChanged',L);};this.kA=function(L){bP.removeHandler('propertyChanged',L);};this.wF=function(L){bP.addHandler('textPageReady',L);};this.yf=function(L){bP.removeHandler('textPageReady',L);};this.acR=function(){return OE;};this.Zo=function(L){bP.addHandler('hyperlinkPageReady',L);};this.afr=function(L){bP.removeHandler('hyperlinkPageReady',L);};this.Bb=function(L){bP.dv('textExtractionFailed',L);};this.FR=function(L){bP.cu('textExtractionFailed',L);};this.agL=function(fW){if(aS===0&&bI===0){Mp=true;GX=fW.width;HJ=fW.height;}};this.ahJ=function(fW){if(iC.fE().eI()>0){return;}else if(fW.errorCode==="1"||fW.errorCode===1){var Fs=new IPCC.Web.UI.ImGearException(fW.errorDescription,{name:'Text Extraction'});var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=Fs;cR.pageNumber=G.get_pageNumber();G.ai('textExtractionFailed',cR);return;}var apS=iC.fE();var Qd=false;var aal;function IS(Ye){return Ye;};var ra=1;var qR=1;if(fW.height&&fW.height>0&&bI>0){if(fW.height!==bI){ra=bI/fW.height;}}if(fW.width&&fW.width>0&&aS>0){if(fW.width!==aS){qR=aS/fW.width;}}var iQ;var abR= -1;var NY;var iO,Ay;for(var K=0;K<fW.rectangles.length;K++){iO=fW.rectangles[K];Ay=IS(fW.text[K]);Qd=false;if(iO[2]===0){Ay="\n";Qd=true;if(K>0){aal=fW.rectangles[K-1];iO[2]=aal[2];}}if(qR===1&&ra===1){NY=new IPCC.Web.UI.ImGearTextCharacter(iO[0],iO[1],iO[2],iO[3],Ay,Qd);}else{NY=new IPCC.Web.UI.ImGearTextCharacter(iO[0]*qR,iO[1]*ra,iO[2]*qR,iO[3]*ra,Ay,Qd);}if(NY){apS.avz(NY);}if(iQ===undefined||abR!==iO[1]||iO[0]<iQ.eg().x){if(iQ){iC.YO().ajm(iQ);}iQ=new IPCC.Web.UI.ImGearTextSection();iQ.Eh(new IPCC.Web.UI.Rectangle(iO[0],iO[1],iO[2],iO[3]));iQ.aqj(K);}else{if(iO[0]+iO[2]-iQ.eg().x>iQ.eg().width){iQ.eg().width=iO[0]+iO[2]-iQ.eg().x;}}iQ.aAp(K);abR=iO[1];}if(iQ){iC.YO().ajm(iQ);}iC.aAf(fW.text);if(fW.text.length>0){iC.Ma(true);G.ai('textPageReady',{pageNumber:G.mp(),containsText:true});}else{iC.Ma(false);G.ai('textPageReady',{pageNumber:G.mp(),containsText:false});}};this.afq=function(adM,Nh,Oo){if(!adM){return;}OE.Km().azx();var ra=1;var qR=1;if(Nh&&Nh>0&&bI>0){if(Nh!==bI){ra=bI/Nh;}}if(Oo&&Oo>0&&aS>0){if(Oo!==aS){qR=aS/Oo;}}IPCC.aN.forEach(adM,function(acH){var jv;switch(acH.markType){case "DocumentHyperlink":jv=new IPCC.Web.UI.ImGearDocumentHyperlink(acH.properties);jv.Eh(jv.eg().scale(qR,ra));OE.Km().awn(jv);break;default:break;}});G.ai('hyperlinkPageReady',{pageNumber:G.mp()});};this.asC=function(){G.Bj();};this.Bj=function(){if(!G.aR){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(iC.Ai()){return;}var PK=true;if(G.ia()===0){PK=false;}var eG,jD,kJ=false;if(window.XMLHttpRequest){eG=new XMLHttpRequest();}function Ny(bo){if(bo.pages){var aM;if(bo.pages.length>0){if(bo.pages[0].number!==G.mp()){for(var K=0;K<bo.pages.length;K++){if(bo.pages[K].number===G.mp()){aM=K;break;}}if(!aM){G.gg.XE=false;return;}}else{aM=0;}var fW=bo.pages[aM];G.gg.XE=true;if(bo.pages[aM].text&&bo.pages[aM].text.length>0){iC.Ma(true);}else{iC.Ma(false);}G.gg.vb=1000;setTimeout(function(){G.agL(fW);G.ahJ(fW);G.afq(fW.markup,fW.height,fW.width);},10);return;}}var qV=G.gg.vb;if(!G.gg.XE){if(G.gg.tJ<6){if(G.gg.tJ<2){qV=qV+1000;}else{qV=qV+3000;}G.gg.tJ++;G.gg.vb=qV;setTimeout(G.asC,qV);}else{G.gg.aoE=true;}}};function Vq(){var fP=G.aR.fP;try{var di;var aG;if(eG.readyState===0||eG.readyState===4){di=eG.status;if(eG.status===200){if(PK===true){if(jD){clearTimeout(jD);}}aG=null;var fT;var nt=eG.getResponseHeader("Accusoft-Data-Encrypted");if(nt==='true'){var rF=IPCC.Web.gl.pw.sk(eG.getResponseHeader("Accusoft-Data-SK"));var bA=IPCC.Web.Dy(rF,fP);var ct=IPCC.Web.Cr(eG);var tg=IPCC.Web.As(ct,bA,fP);fT=IPCC.Web.gl.Ga.lO(tg);}else{fT=eG.responseText;}if(typeof JSON!=='undefined'){aG=JSON.parse(fT);}else{aG=IPCC.cT.pa(fT);}Ny(aG);}else if((di<200)||(di>=300)){if(PK===true){if(jD){clearTimeout(jD);}}if(kJ){throw new IPCC.Web.UI.ImGearHttpException(di,"Text extraction timeout");}else{if(eG.statusText){throw new IPCC.Web.UI.ImGearHttpException(di,"Unable to obtain text, Error from the service = "+eG.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(di,"Unable to obtain text from the service");}}}}}catch(e){var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;cR.pageNumber=G.get_pageNumber();G.ai('textExtractionFailed',cR);return;}};var bK=G.get_pageNumber();var lq=G.aR.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(lq))){lq='e'+G.aR.get_encodedDocumentIdentifier();}else{lq='u'+encodeURIComponent(lq);}var gE=G.aR.oQ;var mc=G.aR.mc;if(G.dU()){eG.open('GET',gE+'/Document/q/'+bK.toString()+'-'+bK.toString()+'/Text?DocumentID='+lq+'&iv='+mc,true);}else{eG.open('GET',gE+'/Document/q/'+bK.toString()+'-'+bK.toString()+'/Text?DocumentID='+lq,true);}eG.responseType='text';eG.setRequestHeader("accept","application/json");eG.onreadystatechange=Vq;if(PK===true){jD=setTimeout(function(){kJ=true;eG.abort();},G.ia());}eG.send();};this.cf=function(){return iC;};this.anJ=function(H){if(typeof H.nr!=='function'){return;}iC=H;};this.Ti=function(CI,Ca){var G=this;if(G.mH()>0||G.mj()>0){CI(G.mH(),G.mj());}else{var ru=IPCC.gQ.rz(G.aR.get_documentIdentifier());if(!ru||ru===""){Ca("Invalid encoded Identifier");}var bG=new XMLHttpRequest();var aG;var lH=function(){if(bG.readyState===4){var jF=bG.status;if(jF===200){if(typeof JSON!=='undefined'){aG=JSON.parse(bG.responseText);}else{aG=IPCC.cT.pa(bG.responseText);}if(aG.imageWidth&&aG.imageHeight){CI(aG.imageWidth,aG.imageHeight);}else{Ca("Unable to obtain document information from the server");}}else if((jF<200)||(jF>=300)){Ca("Unable to obtain document information from the server");}}};var sv='';if(!IPCC.wE.CA()){sv='&ContentType=png';}var dh;if(!(/^[\x00-\x7F]*$/.test(ru))){dh=G.aR.oQ+'/Page/q/'+(G.get_pageNumber())+'/Attributes?DocumentID=e'+ru+sv;}else{dh=G.aR.oQ+'/Page/q/'+(G.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(G.aR.get_documentIdentifier())+sv;}bG.open('GET',dh,true);bG.setRequestHeader('Content-Type','application/json');bG.onreadystatechange=lH;bG.send();}};this.aA=function(dP){var L=bP.getHandler('propertyChanged');if(L){L(this,new IPCC.pR(dP));}};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){try{L(G,C);}catch(e){IPCC.ei.NQ('event raise, ImGearPage, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPage.prototype={get_pageNumber:function(){var R=this.mp();return R;},get_pageWidth:function(){var R=this.mH();return R;},get_pageHeight:function(){var R=this.mj();return R;},get_textPage:function(){var R=this.cf();return R;},get_selected:function(){var R=this.RI();return R;},set_selected:function(value){this.LQ(value);},get_caption:function(){var R=this.RM();return R;},set_caption:function(value){this.WT(value);},get_encryption:function(){var R=this.dU();return R;},set_encryption:function(value){this.hX(value);},get_hyperlinkPage:function(){return this.acR();},get_document:function(){var R=this.ask();return R;},add_propertyChanged:function(handler){this.iT(handler);},remove_propertyChanged:function(handler){this.kA(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Ti(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};IPCC.Web.UI.ImGearPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPage.registerClass('IPCC.Web.UI.ImGearPage');IPCC.Web.UI.ImGearPageEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageEventArgs.prototype={};IPCC.Web.UI.ImGearPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageEventArgs.registerClass('IPCC.Web.UI.ImGearPageEventArgs');IPCC.Web.UI.ImGearPageCollection=function(){var G=this;var dj=[];var bP=new IPCC.Web.UI.gK();this.ajI=false;this.alb=true;this.aR=undefined;this.ahT=function(aW){this.ail(dj.length,aW);};function mR(bD){if(bD>dj.length-1||(bD<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bD,'page index is out of range in the page collection');}};this.ail=function(bD,aW){var aK;var cL=dj.length;if(bD>dj.length||(bD<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bD,'index of the page Collection is out of range');}if(G.alb&&G.ajI){if(cL>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(aK=0;aK<cL;aK++){if(dj[aK]===aW){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(G.aR){if(!aW.aR){aW.aR=G.aR;}}aW.add_propertyChanged(CK);dj.splice(bD,0,aW);var C=new IPCC.Web.UI.ImGearPageEventArgs();C.imGearPage=aW;C.length=1;G.ai('pageAdded',C);};this.kc=function(bD){mR(bD);var hx=dj[bD];return hx;};this.anK=function(bD,aW){mR(bD);var TP=dj[bD];if(TP===aW){return;}dj[bD]=aW;var C=new IPCC.Web.UI.ImGearPageEventArgs();C.imGearPage=aW;C.length=1;this.ai('pageAdded',C);TP.remove_propertyChanged(CK);var AA=new IPCC.Web.UI.ImGearPageEventArgs();AA.imGearPage=TP;AA.length=1;this.ai('pageRemoved',AA);};this.eI=function(){return dj.length;};this.np=function(og,dH){var aeS=[].concat(dj);var K;for(K=0;K<aeS.length;K++){og.call(dH,aeS[K],K,this);}};this.afv=function(bD){mR(bD);var C=new IPCC.Web.UI.ImGearPageEventArgs();C.imGearPage=dj[bD];dj[bD].remove_propertyChanged(CK);C.length=1;dj.splice(bD,1);G.ai('pageRemoved',C);};this.atl=function(aW){var dw=dj.length;for(var K=0;K<dw;K++){if(aW===dj[K]){return K;}}return-1;};this.azy=function(){var K=0;while(dj.length>0){this.afv(K);}};function CK(aj,C){var AA=new IPCC.Web.UI.ImGearPageEventArgs();AA.imGearPage=aj;AA.length=1;G.ai('pageChanged',AA);};this.Iu=function(L){bP.addHandler('pageAdded',L);};this.Kr=function(L){bP.removeHandler('pageAdded',L);};this.Ir=function(L){bP.addHandler('pageChanged',L);};this.IV=function(L){bP.removeHandler('pageChanged',L);};this.HX=function(L){bP.addHandler('pageRemoved',L);};this.Kn=function(L){bP.removeHandler('pageRemoved',L);};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){try{L(G,C);}catch(e){IPCC.ei.NQ('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPageCollection.prototype={addPage:function(page){this.ahT(page);},insertPage:function(index,page){this.ail(index,page);},forEach:function(method,context){this.np(method,context);},getPage:function(index){return this.kc(index);},setPage:function(index,page){this.anK(index,page);},get_length:function(){return this.eI();},removePage:function(index){this.afv(index);},removeAllPages:function(){this.azy();},add_pageAdded:function(handler){this.Iu(handler);},remove_pageAdded:function(handler){this.Kr(handler);},add_pageChanged:function(handler){this.Ir(handler);},remove_pageChanged:function(handler){this.IV(handler);},add_pageRemoved:function(handler){this.HX(handler);},remove_pageRemoved:function(handler){this.Kn(handler);}};IPCC.Web.UI.ImGearPageCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCollection.registerClass('IPCC.Web.UI.ImGearPageCollection');IPCC.Web.UI.ImGearDocumentCreateArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCreateArgs.prototype={};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');IPCC.Web.UI.ImGearDocument=function(bj){var kq='';var fV='';var G=this;this.dj=new IPCC.Web.UI.ImGearPageCollection();this.rg=undefined;this.dj.aR=this;var Re=false;this.oQ=undefined;var eQ=0;var Nv=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var DP;var bP=new IPCC.Web.UI.gK();this.fP=IPCC.Web.os.UF(4,IPCC.Web.RX());this.mc=IPCC.Web.gl.Er.lO(this.fP);var DK=[];var nf=0;var mX=[];var Bw=[];var gg={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var ZS=false;this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){try{L(G,C);}catch(e){IPCC.ei.NQ('raise event error in ImGearDocument, error: '+e.message);IPCC.ei.iS(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function Lz(aj,C){if(C.length>0){G.ai('pageAdded',C);}};function Mh(aj,C){if(C.length>0){G.ai('pageRemoved',C);}};function CK(aj,C){G.ai('pageChanged',C);};this.dj.add_pageAdded(Lz);this.dj.add_pageRemoved(Mh);this.dj.add_pageChanged(CK);function avf(){function auq(fi,gW){var aV=fi+'() threw an exception ';if(gW.name){aV+='( '+gW.name+" ";}else{aV+=".";}if(gW.message){aV+="  exception message = "+gW.message;}if(gW.statusCode){aV+="  exception statusCode = "+gW.statusCode;}aV=aV.replace(/\n/g," ");IPCC.ei.iS(aV,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.T=auq;this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){L(G,C);}};};if(arguments.length===0){var aV="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',aV);}if(arguments.length>0){if(bj.documentIdentifier!==undefined){kq=bj.documentIdentifier;fV=IPCC.gQ.rz(kq);}if(bj.encodedDocumentIdentifier!==undefined){var nV=bj.encodedDocumentIdentifier;if(bj.documentIdentifier!==undefined){fV=IPCC.gQ.rz(kq);if(nV!==fV){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{kq=IPCC.gQ.JI(bj.encodedDocumentIdentifier);}}if(bj.imageServicePath!==undefined){this.oQ=bj.imageServicePath;if(!IPCC.Web.tW){IPCC.Web.MH(this.oQ);}}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var uc;if(bj.includeAllPages!==undefined){Re=bj.includeAllPages;if(Re===true){var aCi=new avf();var Tj=0;G.aY=new IPCC.gQ(fV,0,0,0,0,0);var mo=function(){eQ=G.aY.eQ;Nv=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;Tj<eQ;Tj++){var cs=new IPCC.Web.UI.ImGearPage({pageNumber:Tj,aR:G});cs.aR=G;G.dj.addPage(cs);}};Nv=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.aY.GN(this.oQ,aCi,mo);}catch(e){Nv=IPCC.Web.UI.ImGearPageCountStatus.Failed;var cR=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cR.exception=e;G.ai('pageOpenFailed',cR);throw e;}}}else if(bj.pages!==undefined){if(bj.pages.length>0){var K=0;for(K=0;K<bj.pages.length;K++){var cz=bj.pages[K];cz.document=this;this.dj.addPage(cz);}}}else if(bj.pageNumber!==undefined){if(bj.pageRangeCount!==undefined){var ml=bj.pageRangeCount;if(ml>0){var ae;for(ae=bj.pageNumber;ae<=ml;ae++){uc=new IPCC.Web.UI.ImGearPage(ae);uc.aR=G;this.dj.addPage(uc);}}else if(ml===0){uc=new IPCC.Web.UI.ImgearPage({pageNumber:bj.pageNumber,aR:G});uc.aR=G;G.dj.addPage(uc);}}else{if(bj.selected){uc=new IPCC.Web.UI.ImGearPage({pageNumber:bj.pageNumber,aR:G,selected:true});}else{uc=new IPCC.Web.UI.ImGearPage({pageNumber:bj.pageNumber,aR:G});}uc.aR=G;G.dj.addPage(uc);}}}this.vO=function(){return kq;};this.BP=function(){return fV;};this.atf=function(){return this.dj;};this.arZ=function(){return eQ;};this.asc=function(){return Nv;};this.arX=function(){return Re;};this.alO=function(H){Re=H;this.aA('includeAllPages');};var lp=false;this.dU=function(){return lp;};this.hX=function(H){lp=H;};this.Iu=function(L){bP.addHandler('pageAdded',L);};this.Kr=function(L){bP.removeHandler('pageAdded',L);};this.HX=function(L){bP.addHandler('pageRemoved',L);};this.Kn=function(L){bP.removeHandler('pageRemoved',L);};this.Cy=function(L){bP.addHandler('pageOpenFailed',L);};this.zJ=function(L){bP.removeHandler('pageOpenFailed',L);};this.iT=function(L){bP.addHandler('propertyChanged',L);};this.kA=function(L){bP.removeHandler('propertyChanged',L);};this.Ir=function(L){bP.addHandler('pageChanged',L);};this.IV=function(L){bP.removeHandler('pageChanged',L);};this.aA=function(dP){var L=bP.getHandler('propertyChanged');if(L){L(this,new IPCC.pR(dP));}};this.RM=function(){return DP;};this.WT=function(H){DP=H;this.aA('caption');};this.awZ=function(L){bP.addHandler('textPagesReceived',L);};this.aAF=function(L){bP.removeHandler('textPagesReceived',L);};this.asm=function(){return Bw.length;};this.asG=function(){return DK.length;};this.asV=function(){return gg;};this.ajX=function(){return ZS;};this.aof=function(H){ZS=H;};this.awO=function(gi){if(gg.stopRequests===true){var C={};C.error=0;C.textPagesReceived=YF(gi);if(C.textPagesReceived.length===0){if(nf>0&&nf<gi){for(var cP=nf;cP<gi;cP++){C.textPagesReceived.push(cP);}}}C.length=2;G.ai('textPagesReceived',C);return;}var iZ=true;var KG=false;for(var K=0;K<nf;K++){if(Array.prototype.indexOf){if(DK.indexOf(K)<0){iZ=false;KG=true;break;}}else{if(IPCC.Web.hG(DK,K)<0){KG=true;break;}}}if(KG){G.KB(K,undefined,gi);}else if(nf<gi){for(var aK=0;aK<gi;aK++){if(Array.prototype.indexOf){if(mX.indexOf(aK)<0){iZ=false;break;}}else{if(IPCC.Web.hG(mX,aK)<0){iZ=false;break;}}}if(!iZ){KG=true;G.KB(aK,undefined,gi);}else{G.KB(nf,undefined,gi);}}else{KG=false;}};function YF(gi){var UR=[],cP;if(mX.length>0){var iZ=true;for(cP=0;cP<gi;cP++){iZ=true;if(Array.prototype.indexOf){if(mX.indexOf(cP)<0){iZ=false;}}else{if(IPCC.Web.hG(mX,cP)<0){iZ=false;}}if(!iZ){mX.push(cP);Bw.push(cP);UR.push(cP);}}}else{for(cP=0;cP<gi;cP++){mX.push(cP);Bw.push(cP);UR.push(cP);}}return UR;};this.KB=function(agI,ajA,gi){ZS=true;var bK;if(!isNaN(agI)){bK=agI;}else{bK=0;}var EW;if(!isNaN(gi)){EW=gi;}var dk;if(!isNaN(ajA)){dk=ajA;}else if(!isNaN(EW)){dk=EW-1;}else{EW=gi;if(!isNaN(EW)){dk=EW-1;}}if(isNaN(dk)){dk=bK+1;}if(dk-bK>9){dk=bK+9;}var eG;if(window.XMLHttpRequest){eG=new XMLHttpRequest();}function Ny(bo){var Qt=nf;var Yz=[];var iZ=true;var bh;for(var aW=0;aW<bo.pages.length;aW++){if(Array.prototype.indexOf){if(DK.indexOf(bo.pages[aW].number)<0){iZ=false;}}else{if(IPCC.Web.hG(DK,bo.pages[aW].number)<0){iZ=false;}}if(!iZ){DK.push(bo.pages[aW].number);if(G.dj.kc(bo.pages[aW].number).cf().Ai()===false){bh=G.dj.kc(bo.pages[aW].number);bh.agL(bo.pages[aW]);bh.ahJ(bo.pages[aW]);bh.afq(bo.pages[aW].markup,bo.pages[aW].height,bo.pages[aW].width);}nf++;Yz.push(bo.pages[aW].number);mX.push(bo.pages[aW].number);if(!bo.pages[aW].text){Bw.push(bo.pages[aW].number);}}}var C={};if(bo.hasOwnProperty("errorCode")){C.error=0;G.pageExtractionFailed=true;C.textPagesReceived=Yz;C.length=2;for(var BW=gg.startPage;BW<gg.lastPage+1;BW++){iZ=true;if(Array.prototype.indexOf){if(mX.indexOf(BW)<0){iZ=false;}}else{if(IPCC.Web.hG(mX,BW)<0){iZ=false;}}if(!iZ){mX.push(BW);Bw.push(BW);C.textPagesReceived.push(BW);}}G.ai('textPagesReceived',C);gg.stopRequests=true;return;}if(nf>Qt){C.textPagesReceived=Yz;C.length=2;C.error=0;}var qV=gg.lastTimeout;if(gg.startPage===bK&&gg.lastPage===dk&&nf===Qt){if(gg.requestCount<25){qV=qV+1000;gg.requestCount++;}else{C.error=0;C.textPagesReceived=[];C.length=2;iZ=true;var cP;for(cP=gg.startPage;cP<gg.lastPage+1;cP++){iZ=true;if(Array.prototype.indexOf){if(mX.indexOf(cP)<0){iZ=false;}}else{if(IPCC.Web.hG(mX,cP)<0){iZ=false;}}if(!iZ){mX.push(cP);Bw.push(cP);C.textPagesReceived.push(cP);}}if(C.textPagesReceived.length===0){if(nf>0&&nf<gi){for(cP=nf;cP<gi;cP++){C.textPagesReceived.push(cP);}}}gg.stopRequests=true;G.ai('textPagesReceived',C);return;}}else{qV=1000;gg.requestCount=0;}gg.lastTimeout=qV;gg.startPage=bK;gg.lastPage=dk;setTimeout(function(){G.awO(gi);},qV);if(nf>Qt){G.ai('textPagesReceived',C);}};function Vq(){var C={};try{var di;var aG=null;var fT;if(eG.readyState===0||eG.readyState===4){di=eG.status;if(eG.status===200){var nt=eG.getResponseHeader("Accusoft-Data-Encrypted");if(nt==='true'){var rF=IPCC.Web.gl.pw.sk(eG.getResponseHeader("Accusoft-Data-SK"));var bA=IPCC.Web.Dy(rF,G.fP);var ct=IPCC.Web.Cr(eG);var tg=IPCC.Web.As(ct,bA,G.fP);fT=IPCC.Web.gl.Ga.lO(tg);}else{fT=eG.responseText;}if(typeof JSON!=='undefined'){aG=JSON.parse(fT);}else{aG=IPCC.cT.pa(fT);}Ny(aG);}else if((di<200)||(di>=300)){if(eG.responseText){if(typeof JSON!=='undefined'){aG=JSON.parse(eG.responseText);}else{aG=IPCC.cT.pa(eG.responseText);}if(aG.hasOwnProperty("errorCode")){C.error=0;if(nf>0){if(aG.pages){if(aG.pages.length>0){Ny(aG);return;}}}else{C.error= -1;}if(mX.length===0){C.error= -1;}G.pageExtractionFailed=true;C.textPagesReceived=[];C.length=2;C.textPagesReceived=YF(gi);G.ai('textPagesReceived',C);return;}else{throw new IPCC.Web.UI.ImGearHttpException(di,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(di,"Unable to obtain text");}}}}catch(e){C.error= -1;YF(gi);C.textPagesReceived=[];C.length=2;G.ai('textPagesReceived',C);return;}};var lq=kq;var gE=G.oQ;if(!(/^[\x00-\x7F]*$/.test(lq))){lq='e'+fV;}else{lq='u'+lq;}if(G.dU()){eG.open('GET',gE+'/Document/q/'+bK.toString()+'-'+dk.toString()+'/Text?DocumentID='+lq+'&iv='+G.mc,true);}else{eG.open('GET',gE+'/Document/q/'+bK.toString()+'-'+dk.toString()+'/Text?DocumentID='+lq,true);}eG.responseType='text';eG.setRequestHeader("accept","application/json");eG.onreadystatechange=Vq;eG.send();};return this;};IPCC.Web.UI.ImGearDocument.encodeDocumentIdentifier=function(kq){var fV;if(kq!==undefined){fV=IPCC.gQ.rz(kq);}return fV;};IPCC.Web.UI.ImGearDocument.decodeDocumentIdentifier=function(fV){var aac;if(fV!==undefined){aac=IPCC.gQ.JI(fV);}return aac;};IPCC.Web.UI.ImGearDocument.prototype={get_documentIdentifier:function(){var R=this.vO();return R;},get_encodedDocumentIdentifier:function(){var R=this.BP();return R;},get_pages:function(){return this.atf();},get_pageCountStatus:function(){var r=this.asc();return r;},set_pageCountStatus:function(value){this.aDg(value);},get_pageCount:function(){var r=this.arZ();return r;},get_includeAllPages:function(){try{var R=this.arX();return R;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.alO(value);}catch(e){throw e;}},get_caption:function(){var R=this.RM();return R;},set_caption:function(value){this.WT(value);},get_encryption:function(){var R=this.dU();return R;},set_encryption:function(value){this.hX(value);},add_pageChanged:function(handler){this.Ir(handler);},remove_pageChanged:function(handler){this.IV(handler);},add_pageRemoved:function(handler){this.HX(handler);},remove_pageRemoved:function(handler){this.Kn(handler);},add_pageAdded:function(handler){this.Iu(handler);},remove_pageAdded:function(handler){this.Kr(handler);},add_pageOpenFailed:function(handler){this.Cy(handler);},remove_pageOpenFailed:function(handler){this.zJ(handler);},get_textRequestInfo:function(){try{var R=this.asV();return R;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var R=this.asG();return R;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var R=this.asm();return R;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.awZ(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.aAF(handler);}catch(e){this.T('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.iT(handler);},remove_propertyChanged:function(handler){this.kA(handler);}};IPCC.Web.UI.ImGearDocument.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocument.registerClass('IPCC.Web.UI.ImGearDocument');IPCC.Web.UI.ImGearDocumentEventArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentEventArgs.prototype={};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');IPCC.Web.UI.ImGearDocumentCollection=function(){var kw=[];var bP=new IPCC.Web.UI.gK();var G=this;function auX(aj,C){if(C){var Pq=new IPCC.Web.UI.ImGearDocumentEventArgs();Pq.document=aj;Pq.propertyName=C.get_propertyName();Pq.length=2;G.ai('documentChanged',Pq);}};this.LK=function(apz){this.aiD(kw.length,apz);};this.aiD=function(bD,aR){var aK;var cL=kw.length;if(bD>kw.length||(bD<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bD,'document index is out of range');}for(aK=0;aK<cL;aK++){if(kw[aK]===aR){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var alv=bP.getHandler('pageAdded');if(alv){aR.add_pageAdded(alv);}var aky=bP.getHandler('pageRemoved');if(aky){aR.add_pageRemoved(aky);}var ajJ=bP.getHandler('pageChanged');if(ajJ){aR.add_pageChanged(ajJ);}aR.add_propertyChanged(auX);kw.splice(bD,0,aR);var C=new IPCC.Web.UI.ImGearDocumentEventArgs();C.imGearDocument=aR;C.index=bD;C.length=1;this.ai('documentAdded',C);};function mR(bD){if(bD>kw.length-1||(bD<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bD,'document index is out of range');}};this.aji=function(bD){mR(bD);return kw[bD];};this.eI=function(){return kw.length;};this.aGl=function(og,dH){var ahl=[].concat(kw);var K;for(K=0;K<ahl.length;K++){og.call(dH,ahl[K],K,this);}};this.aeT=function(bD){mR(bD);var C=new IPCC.Web.UI.ImGearDocumentEventArgs();C.imGearDocument=kw[bD];C.length=1;kw[bD].get_pages().removeAllPages();kw.splice(bD,1);this.ai('documentRemoved',C);};this.azm=function(){var K=0;while(kw.length>0){this.aeT(K);}};this.avD=function(L){bP.addHandler('documentAdded',L);};this.aAQ=function(L){bP.removeHandler('documentAdded',L);};this.awC=function(L){bP.addHandler('documentRemoved',L);};this.azs=function(L){bP.removeHandler('documentRemoved',L);};this.avK=function(L){bP.addHandler('documentChanged',L);};this.aAj=function(L){bP.removeHandler('documentChanged',L);};this.Iu=function(L){bP.addHandler('pageAdded',L);};this.Kr=function(L){bP.removeHandler('pageAdded',L);for(var aK=0;aK<kw.length;aK++){kw[aK].remove_pageAdded(L);}};this.Ir=function(L){bP.addHandler('pageChanged',L);};this.IV=function(L){bP.removeHandler('pageChanged',L);for(var aK=0;aK<kw.length;aK++){kw[aK].remove_pageChanged(L);}};this.HX=function(L){bP.addHandler('pageRemoved',L);};this.Kn=function(L){bP.removeHandler('pageRemoved',L);for(var aK=0;aK<kw.length;aK++){kw[aK].remove_pageRemoved(L);}};this.ai=function(aC,C){var L=bP.getHandler(aC);if(L!==null){try{L(G,C);}catch(e){IPCC.ei.NQ('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearDocumentCollection.prototype={addDocument:function(imGearDocument){this.LK(imGearDocument);},insertDocument:function(index,imGearDocument){this.aiD(index,imGearDocument);},forEach:function(method,context){this.np(method,context);},getDocument:function(index){return this.aji(index);},get_length:function(){return this.eI();},removeDocument:function(imGearDocument){this.aeT(imGearDocument);},removeAllDocuments:function(){this.azm();},add_documentAdded:function(handler){this.avD(handler);},remove_documentAdded:function(handler){this.aAQ(handler);},add_documentRemoved:function(handler){this.awC(handler);},remove_documentRemoved:function(handler){this.azs(handler);},add_documentChanged:function(handler){this.avK(handler);},remove_documentChanged:function(handler){this.aAj(handler);},add_pageAdded:function(handler){this.Iu(handler);},remove_pageAdded:function(handler){this.Kr(handler);},add_pageRemoved:function(handler){this.HX(handler);},remove_pageRemoved:function(handler){this.Kn(handler);},add_pageChanged:function(handler){this.Ir(handler);},remove_pageChanged:function(handler){this.IV(handler);}};IPCC.Web.UI.ImGearDocumentCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCollection.registerClass('IPCC.Web.UI.ImGearDocumentCollection');IPCC.Web.UI.kG=function(bj){this.aQ=undefined;var bP=new IPCC.Web.UI.gK();this.gV=undefined;this.lX=undefined;this.xr=undefined;this.zA=undefined;this.gM=undefined;this.fL=undefined;this.bH=undefined;this.Ar=false;this.DG=0;this.apD=undefined;this.hK=false;this.hy=false;if(arguments.length>0){if(bj.page!==undefined){this.aQ=bj.page;}}this.aA=function(dP){var L=bP.getHandler('propertyChanged');if(L){L(this,new IPCC.pR(dP));}};return this;};IPCC.Web.UI.aDR=function(){this.hv=new IPCC.Web.UI.ImGearPageCollection();this.aEI=0;return this;};IPCC.Web.UI.Thumbnailcounter=1;IPCC.Web.UI.ImGearThumbnailList=function(element){var G=this;var nX='';var Kk=IPCC.Web.UI.ImGearArtDataServices.None;var Ah='';var sX=null;var Sx=null;var aCL;var bU=[];var oQ='';var nm=true;var wb;var bP=new IPCC.Web.UI.gK();var kR=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var MP=IPCC.Web.UI.ImGearThumbnailSelectionMode.Single;var il='';var ot='';var sM=0;var rX=IPCC.Web.UI.ImGearThumbnailLayout.VerticalScrollDirection;var GD=140;var vP=124;var xa='gray';var Nb=4;var yE=4;var RJ=2;var Ru='#000000';var iK=false;var xA="";var awl=false;this.jP=new IPCC.Web.UI.ImGearDocumentCollection();var hv=new IPCC.Web.UI.ImGearPageCollection();var Sv='#FFDA6A';hv.ajI=true;var EG=0;var Ck=10;var UD=0;var abK=false;var TE=0;var TN;function hh(yT){if(!_debug){return false;}return kR>=yT;};this.T=function(fi,gW){if(!hh(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aV=fi+'() threw an exception ('+gW.name+'), "'+gW.message+'"';aV=aV.replace(/\n/g," ");IPCC.ei.iS(aV,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.get_igelement().id);};this.bS=function(fi,eU,it){if(!hh(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],(it?it:0));}aV+=')';this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);};this.wg=function(fi,eU,jy,it){if(!hh(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],(it?it:0));}aV+=') = ';aV+=IPCC.ei.hW(jy,1);this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);};this.aZ=function(fi,eU,jy){if(!hh(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],0);}aV+=') = ';aV+=IPCC.ei.hW(jy,1);this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.nl=function(hm,aD){IPCC.ei.iS(hm,IPCC.Web.UI.DebugItemCause.FunctionCall,aD,'ImGearThumbnailList',this.ht().id);};this.iS=function(hm){IPCC.ei.iS(hm,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.ht().id);};this.sI=function(){return _debug;};this.BQ=function(H){var xw= ! !H;if(_debug===xw){return;}_debug=xw;this.aA('debug');};this.or=function(){return kR;};this.rC=function(H){IPCC.aJ.iY(H,'value',IPCC.Web.UI.DebugErrorLevel);if(kR===H){return;}kR=H;this.aA('debugErrorLevel');};function dv(aC,L){bP.addHandler(aC,L);};function cu(aC,L){bP.removeHandler(aC,L);};this.iT=function(L){bP.addHandler('propertyChanged',L);};this.kA=function(L){bP.removeHandler('propertyChanged',L);};this.aEx=function(L){dv('thumbnailSelectionChanged',L);};this.aGy=function(L){cu('thumbnailSelectionChanged',L);};this.awY=function(L){dv('pageSelectionChanged',L);};this.azr=function(L){cu('pageSelectionChanged',L);};this.aws=function(L){dv('pageAddFailed',L);};this.aAg=function(L){cu('pageAddFailed',L);};var nz;this.ht=function(){return nz;};this.qv=function(H){nz=H;};this.tk=0;this.Cp=0;this.ai=function(aC,C){try{var L=bP.getHandler(aC);if(L!==null){L(G,C);}}catch(e){G.T(aC+'Event',e);}};function pL(){var ss,gk;if(nX!==''){ss=document.getElementById(nX);if(ss){var Ia=hv.get_length();var K=0;if(Ia>0){gk="{\"selectedPages\":[";for(K=0;K<Ia;K++){if(hv.getPage(K)){var ahG=hv.getPage(K).aR.get_encodedDocumentIdentifier();var akT=hv.getPage(K).get_pageNumber();if(ahG){if(akT>=0){if(K>0){gk+=",";}gk+='{\"encodedDocumentIdentifier\":"'+ahG;gk+='",\"pageNumber\":\"'+akT.toString()+"\"";gk+="}";}}}}gk+=']}';}ss.value=gk;}}};this.aA=function(dP){var L=bP.getHandler('propertyChanged');if(L){L(this,new IPCC.pR(dP));}};this.aEz=function(zi){if(IPCC.Web.UI.Thumbnailcounter===undefined||IPCC.Web.UI.Thumbnailcounter===null){IPCC.Web.UI.Thumbnailcounter=1;}var bX=zi+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;return bX;};this.aEw=function(apc){var bX=apc+'_'+'_tViewId';return bX;};this.Sh=function(){if(sM===undefined||sM===null){sM=1;}var bX=(this.ht().id.toString())+'_'+sM.toString();sM++;return bX;};this.ZD=function(dX){if(IPCC.Web.mQ.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mQ.indexOf(dX)>=0){return true;}}else{if(IPCC.Web.mQ.aEu(dX)>=0){return true;}}}};function zV(){for(var ae=0;ae<bU.length;ae++){if(bU[ae]){if(bU[ae].gM){bU[ae].gM=false;if(bU[ae].aQ){bU[ae].aQ.set_selected(false);for(var da=0;da<hv.get_length();da++){if(hv.getPage(da)===bU[ae].aQ){hv.removePage(da);}}}if(nm===true){document.getElementById(bU[ae].gV).style.backgroundColor=xa;}else{document.getElementById(bU[ae].gV).className='imGearTNItem';}}}}};function qx(Lk,bO,ay){if(ay){if(ay.aQ){if(Lk===true){if(bO){bO.className='imGearTNSelected';}ay.aQ.set_selected(true);ay.gM=true;}else{if(bO){bO.className='imGearTNItem';}ay.aQ.set_selected(false);ay.gM=false;}}}};function ri(Lk,bO,ay){if(ay){if(ay.aQ){if(Lk===true){if(bO){bO.style.backgroundColor=Sv;}ay.aQ.set_selected(true);ay.gM=true;}else{if(bO){bO.style.backgroundColor=xa;}ay.aQ.set_selected(false);ay.gM=false;}}}};function aaF(Lk,bO,ay,nI){if(nm===true){if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(nI){document.getElementById(nI.gV).style.backgroundColor=xa;}ri(true,bO,ay);hv.removeAllPages();}else if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){ri(false,bO,ay);}}else{if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(nI){document.getElementById(nI.gV).className='imGearTNItem';}qx(true,bO,ay);hv.removeAllPages();}else if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){qx(true,bO,ay);}}};var hj=0;var aCP=1;var aBl=50;function Sz(){Ob();};function Ob(){var K,kG,dC,nA,zt;var rW,sf,abY,adc;var jK,rc,oJ,AV;var CQ=[];var Sa,TA,QA,VR;if(ot===''){return;}rW=ot.scrollTop;sf=ot.scrollLeft;abY=rW+ot.clientHeight;adc=sf+ot.clientWidth;for(K=0;K<bU.length;K++){kG=bU[K];if(kG&&kG.lX){dC=document.getElementById(kG.gV);jK=dC.offsetTop;rc=dC.offsetLeft;oJ=jK+dC.offsetHeight;AV=rc+dC.offsetWidth;Sa=rW-oJ;TA=sf-AV;QA=jK-abY;VR=rc-adc;if(Sa>=0){CQ.push({kG:kG,Zk:true,pV:Sa});}else if(QA<0&&TA>=0){CQ.push({kG:kG,Zk:true,pV:TA});}else if(QA>=0){CQ.push({kG:kG,Zk:false,pV:QA});}else if(Sa<0&&VR>=0){CQ.push({kG:kG,Zk:false,pV:VR});}else{nA=document.getElementById(kG.lX);if(nA){zt=nA.aH;zt.xu(0);}}}}CQ.sort(function(a,b){return a.pV-b.pV;});for(K=0;K<CQ.length;K++){kG=CQ[K].kG;nA=document.getElementById(kG.lX);if(nA){zt=nA.aH;if(zt){if(K<aCP){zt.xu(0);}else if(K<aBl){zt.xu(1);}else{zt.xu(2);}}}}};function Bn(sender,eventArgs){if(eventArgs){if(eventArgs.domEvent.button!==0){return;}}else if(sender.button!==0){return;}var wu;var MN="";var bO,ae;if(sender.id&&sender.id!==null){wu=sender.id.split('_');if(wu!==undefined){if(G.ht().id===wu[0]){MN=sender.id;bO=sender;}}}else{if(sender.target){if(sender.target.tagName==="DIV"){if(sender.target.firstChild!==null){if(sender.target.firstChild.tagName==="DIV"){bO=sender.target;}}}if(!bO){if(sender.target.parentNode){if(sender.target.parentNode.id!==undefined&&sender.target.parentNode.id!==""){wu=sender.target.parentNode.id.split('_');if(wu!==undefined){if(G.ht().id===wu[0]){MN=sender.target.parentNode.id;bO=sender.target.parentNode;}else{return;}}else{return;}}else{if(sender.target.parentNode.parentNode){if(sender.target.parentNode.parentNode.id!==undefined&&sender.target.parentNode.parentNode.id!==""){wu=sender.target.parentNode.parentNode.id.split('_');if(wu!==undefined){if(G.ht().id===wu[0]){MN=sender.target.parentNode.parentNode.id;bO=sender.target.parentNode.parentNode;}else{return;}}else{return;}}}}}}}else{var ahp=sender.ht();MN=ahp.parentNode.id;bO=ahp.parentNode;}}var nI;if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(ae=0;ae<bU.length;ae++){if(bU[ae].gM===true){if(bU[ae].aQ){bU[ae].aQ.set_selected(false);}if(nm===true){document.getElementById(bU[ae].gV).style.backgroundColor=xa;}else{document.getElementById(bU[ae].gV).className='imGearTNItem';}bU[ae].gM=false;nI=bU[ae];break;}}}if(bO!==undefined){var vq;var iE;var ahC=false;for(ae=0;ae<bU.length;ae++){vq=undefined;if(bU[ae].aQ){vq=document.getElementById(bU[ae].gV);if(vq===bO){ahC=true;iE=bU[ae];break;}}}if(ahC===true){if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===false){zV();}}else if(sender.ctrlKey){if(sender.ctrlKey===false){zV();}}else{zV();}}if(nm===true){if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(nI){document.getElementById(nI.gV).style.backgroundColor=xa;}ri(true,bO,iE);hv.removeAllPages();}else if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(iE.gM===true){ri(false,bO,iE);}else{ri(true,bO,iE);}}else{ri(true,bO,iE);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(iE.gM===true){ri(false,bO,iE);}else{ri(true,bO,iE);}}else{ri(true,bO,iE);}}else{ri(true,bO,iE);}}}else{if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(nI){document.getElementById(nI.gV).className='imGearTNItem';}qx(true,bO,iE);hv.removeAllPages();}else if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(iE.gM===true){qx(false,bO,iE);}else{qx(true,bO,iE);}}else{qx(true,bO,iE);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(iE.gM===true){qx(false,bO,iE);}else{qx(true,bO,iE);}}else{qx(true,bO,iE);}}else{qx(true,bO,iE);}}}pL();GF(iE);}}};function auD(aDi,sY,aqs){function L(sender,evnt){Bn(sender,evnt);};IPCC.Web.UI.ao.addHandler(aqs,"mouseDown",L);sY.add_mouseDown(L);};function acl(sY,vN){function atu(sender,evnt){atO(vN);G.scrollToSelectedThumbnail();Ob();vN.aQ.JE(sY.get_pageWidth());vN.aQ.LW(sY.get_pageHeight());};sY.add_pageOpened(atu);};function Mb(sY,vN){function QM(sender,evnt){var dJ=evnt.pageNumber;var zi=evnt.documentIdentifier;function amE(dJ){var eQ=G.jP.getDocument(0).eQ;if(!eQ){setTimeout(function(){amE(dJ);},2000);return;}UD++;if(UD===1){if(eQ<30){Ck=Math.floor((eQ)/3)+1;}else{Ck=10;}}function amu(){var bC=EG;var aaW=Ck;EG+=Ck;if(EG+Ck>eQ){Ck=eQ-EG;}setTimeout(function(){G.jP.getDocument(0).KB(bC,bC+aaW-1,bC+aaW);},50);};if(UD===EG+Ck){if(EG===0){if(G.jP.getDocument(0).ajX()===true){abK=true;}else{G.jP.getDocument(0).aof(true);amu();}}else{amu();}}};if(abK===false){amE(dJ);}vN.aQ.JE(sY.get_pageWidth());vN.aQ.LW(sY.get_pageHeight());for(var ae=0;ae<bU.length;ae++){if(bU[ae].aQ.get_pageNumber()===dJ&&bU[ae].aQ.aR.get_documentIdentifier()===zi){bU[ae].hy=false;bU[ae].hK=true;var cZ;if(bU[ae].fL===false){if(bU[ae].lX){cZ=document.getElementById(bU[ae].lX).aH;}if(cZ){cZ.display();bU[ae].fL=true;}}if(hj>0){hj=hj-1;}break;}}Ob();if(hj===0){setTimeout(function(){mG();},60);}};sY.add_pageOpened(QM);if(hj===0&&bU.length>1){if(hj===0){setTimeout(function(){mG();},100);}}};function mG(){var qD;var dI=auj();if(dI>0){qD=dI;}else{qD=atN(0);}if(qD&&qD>0){if(qD<bU.length){atP(bU[qD]);}}};function atN(oK){var XK;for(var da=oK;da<bU.length;da++){if(bU[da].hy===false){if(bU[da].hK===false){XK=da;break;}}}if(XK){return XK;}else{return-1;}};function auj(){var ahW=document.getElementById(wb);var ay=bU[0];var bq=document.getElementById(ay.gV);var JS;if(bU.length>1){var aoT=bU[1];var arb=document.getElementById(aoT.gV);JS=arb.offsetHeight+(bq.offsetTop*2);}else{JS=bq.clientHeight+bq.clientTop+(bq.offsetTop*2);}var kI;if(JS>0){var At=Math.ceil(ahW.offsetHeight/JS);var Dj=Math.ceil(ahW.scrollTop/JS);var YP=Dj+At+2;Dj=Dj-1;if(Dj<0){Dj=0;}if(YP>=bU.length){YP=bU.length-1;}for(var ae=Dj;ae<=YP;ae++){if(bU[ae].hy===false){if(bU[ae].hK===false){kI=ae;break;}}}}if(kI){return kI;}else{return(-1);}};function LZ(sY,vN){function aub(sender,evnt){G.ai('pageAddFailed',evnt);};sY.add_pageOpenFailed(aub);};function fv(kE){var sT=document.createElement('div');var K;for(K in kE){if(kE.hasOwnProperty(K)){sT.style[K]=kE[K];}}return sT;};function abb(){var Gi=G.ht().id;var as=document.getElementById(Gi);var OW;if(il===''){ot=fv({width:as.clientWidth+'px',height:as.clientHeight+'px',position:'relative',margin:'0px',border:'1px solid #000000',overflow:'auto'});if(nm===true){if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){OW=vP;il=fv({width:OW+'px',margin:'4px'});ot.style.overflowY='hidden';G.tk=1;if(OW>0){G.Cp=as.clientWidth/OW;}}else{il=fv({width:as.clientWidth+'px',height:as.clientHeight+'px',position:'relative',margin:'4px'});ot.style.overflowX='hidden';G.tk=1;if(vP>0){G.Cp=as.clientWidth/vP;}G.tk=as.clientHeight/GD;}}else{il=fv({width:as.clientWidth+'px',height:as.clientHeight+'px',position:'relative',margin:'4px'});if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){ot.style.overflowY='hidden';}else{ot.style.overflowX='hidden';}}ot.onscroll=Sz;il.setAttribute('id',Gi+'_ListContainer');ot.setAttribute('id',Gi+'_ListWrapper');wb=Gi+'_ListWrapper';ot.appendChild(il);as.appendChild(ot);}};function JZ(aW){var vr;var ait='';var jJ='';var AS='';var tL="";var K;if(xA!==""){if(xA.indexOf('{')!== -1){vr=xA.split('{');if(vr.length>0){for(K=0;K<vr.length;K++){jJ='';AS=vr[K];tL="";if(vr[K].indexOf('DC')!== -1){jJ=aW.aR.get_caption();if(jJ!==undefined){tL=AS.replace(/DC\}/,aW.aR.get_caption());}else{jJ=aW.aR.get_documentIdentifier();tL=AS.replace(/DC\}/,aW.aR.get_documentIdentifier());}}else if(vr[K].indexOf('PC')!== -1){jJ=aW.get_caption();if(jJ!==undefined&&jJ!==""&&jJ!==null){tL=AS.replace(/PC\}/,aW.get_caption());}else{tL=AS.replace(/PC\}/,'Page');}}else if(vr[K].indexOf('P#')!== -1){var JT=aW.aR.get_pages();var ae=JT.atl(aW);var eN=ae;if(typeof(eN)==='number'){jJ=(ae+1).toString();}else if(eN){var dX=parseInt(eN,10);dX++;jJ=dX.toString();}if(jJ!==null){tL=AS.replace(/P#\}/,jJ);}}else if(vr[K].indexOf('PN')!== -1){jJ=(aW.get_pageNumber()+1).toString();if(jJ!==null){tL=AS.replace(/PN\}/,jJ);}}else if(vr[K].indexOf('PP')!== -1){jJ=aW.aR.get_pages().get_length().toString();if(jJ!==null){tL=AS.replace(/PP\}/,jJ);}}ait+=tL;}}}}return ait;};function adZ(bj){var aW=bj;var Ec=aW.get_pageNumber();var dC;var nA;var as=document.getElementById(G.ht().id);var cB=null;var qu;var sl=[];var K=0;var aK=0;var cL=G.get_documents().get_length();for(aK=0;aK<cL;aK++){cB=G.get_documents().getDocument(aK);if(cB!==null){qu=cB.rg;if(qu===aW.aR.rg){break;}}}for(var da=0;da<bU.length;da++){if(bU[da].aR){cB=bU[da].aR;if(da===0){sl[K]=cB;K++;continue;}else if(bU[da-1].aR!==cB){sl[K]=cB;K++;continue;}}}for(da=bU.length-1;da>=0;da--){if(bU[da].aQ){if(bU[da].aQ===aW){return;}}}var rD=true;var fI;var wv;var cs;var Aa;for(da=0;da<bU.length;da++){fI=bU[da];if(fI.DG===1){if(aW.aR.rg===fI.zA){dC=document.getElementById(fI.gV);fI.DG=0;wv=fI.gV;rD=false;cs=fI;break;}}}var kn=false;for(da=bU.length-1;da>=0;da--){if(bU[da].aQ){if(bU[da].aQ.aR===aW.aR){kn=true;break;}}}if(il===''){abb();}if(nm===false){if(rD){dC=document.createElement('div');dC.className='imGearTNItem';dC.style.styleFloat='left';}Aa=document.createElement('div');Aa.className='imGearTNItemCaption';}if(nm===true){if(rD){dC=dC=fv({width:vP+'px',height:GD+'px',styleFloat:'left',overflow:'hidden',border:RJ+'px solid '+Ru,marginRight:yE+'px',marginTop:Nb+'px'});dC.style.cssFloat='left';dC.style.backgroundColor=xa;}Aa=fv({width:vP+'px',height:'30px',overflow:'hidden',padding:'1px',position:'relative',margin:'2px'});}if(rD===true){wv=aW.aR.rg+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;dC.setAttribute('id',wv);}var Ox=wv+'_'+'_tViewId';if(nm===false){nA=document.createElement('div');nA.className='imGearTNImage';}else{nA=fv({width:(vP-4)+'px',height:(GD-40)+'px',overflow:'hidden',padding:'1px'});}nA.setAttribute('id',Ox);var Zs=document.createElement("p");if(nm===true){Zs.style.cssText="font-family:arial,sans-serif;font-size:10pt;text-align: center;color:#000099;";}var pQ="";if(xA!==undefined&&xA!==null&&xA!==""){pQ=JZ(aW);Zs.innerHTML=pQ;Aa.appendChild(Zs);}IPCC.Web.UI.ao.addHandler(Aa,"mousedown",Bn);IPCC.Web.UI.ao.addHandler(dC,"mousedown",Bn);dC.appendChild(Aa);dC.appendChild(nA);if(rD===true){cs=new IPCC.Web.UI.kG({page:aW});}aW.gV=wv;cs.lX=Ox;cs.gV=wv;cs.aQ=aW;cs.zA=qu;cs.gM=false;cs.fL=false;cs.xr=Aa;cs.bH=undefined;cs.Ar=false;cs.aR=aW.aR;cs.hK=false;cs.dJ=Ec;var JH;var cA;if(rD){if(bU.length===0){il.appendChild(dC);bU.push(cs);}else{for(da=0;da<bU.length;da++){fI=bU[da];if(fI.zA===qu){if(fI.aQ){var XF=fI.aQ.get_pageNumber();if(Ec<XF){bU.splice(da,0,cs);cA=document.getElementById(fI.gV);il.insertBefore(dC,cA);JH=true;break;}}}}if(!JH){il.appendChild(dC);bU.push(cs);}}}var RW=false;if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var qn=dC.clientWidth*(bU.length+1);if(nm===true){qn=dC.clientWidth*(bU.length+1);qn+=((2*yE)*(bU.length+1));il.style.width=qn+'px';il.style.height=(dC.clientHeight+(2*yE))+'px';}else{qn=dC.clientWidth*(bU.length+1);il.style.width=qn+'px';il.style.height=dC.clientHeight+'px';if(G.tk===0){if(dC.clientWidth>0){G.tk=as.width/dC.clientWidth;}}if(this.Cp===0){if(dC.clientHeight>0){G.tk=as.height/dC.clientHeight;}}}if((as.clientWidth+(dC.clientWidth*4))>qn){RW=true;}}else{if(as.clientWidth>0){var DO=as.clientWidth/(dC.clientWidth+(dC.clientLeft*2));var At=as.clientHeight/(dC.clientHeight+(dC.clientTop*2));G.tk=At;G.Cp=DO;if(bU.length<(DO*At)){RW=true;}}}var ji;ji=new IPCC.Web.UI.ThumbnailView(document.getElementById(Ox));if(ji){ji.qv(document.getElementById(Ox));ji.hX(G.dU());ji.initialize();ji.set_imageHandlerUrl(aW.aR.oQ);ji.set_selected(false);ji.set_pageViewClientID(Ah);if(G.nY()){ji.sJ(true);}}if(ji){if(ni){ji.set_resourcePath(ni);}LZ(ji,cs);ji.hX(G.dU());var qN=ji.asI();if(!qN){qN=new IPCC.Web.UI.PageViewState();}qN.viewFitType=Sx;qN.viewRotationDegreesClockwise=TE;qN.viewZoomFactor=TN;qN.encryption=G.dU();ji.aos(qN);}var aCD=G.get_artServiceOption();auD(Bn,ji,dC);var Ia=hv.get_length();if(Ia>0){for(K=0;K<Ia;K++){for(da=0;da<bU.length;da++){fI=bU[da];if(fI.aQ){if(fI.aQ.aR.get_documentIdentifier()===hv.getPage(K).aR.get_documentIdentifier()){if(hv.getPage(K).get_pageNumber===aW.get_pageNumber()){acl(ji,cs);break;}}}}}}else{if(aW.get_selected()){acl(ji,cs);}}Mb(ji,cs);if(bU.length<2){ji.hX(G.dU());ji.openPage({encodedDocumentIdentifier:aW.aR.get_encodedDocumentIdentifier(),pageNumber:aW.get_pageNumber(),artServiceOption:aCD,imGearPage:aW});cs.hy=true;hj++;}var JT=aW.aR.get_pages();if(JT.get_length()>1){for(var gm=0;gm<bU.length;gm++){var fm=bU[gm];if(fm.aQ){if(aW.aR===fm.aQ.aR){pQ=JZ(fm.aQ);var fd=fm.xr.firstChild;if(!fd.igPreviousCaption||fd.igPreviousCaption!==pQ){fd.innerHTML=pQ;fd.igPreviousCaption=pQ;}}}}}nA.aH=ji;return dC;};function avB(adL){var wv=adL.rg+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;var dC;var cB;var sl=[];var Gi=G.ht().id;var as=document.getElementById(Gi);var qu,aK;var cL=G.get_documents().get_length();for(aK=0;aK<cL;aK++){cB=G.get_documents().getDocument(aK);if(cB){qu=cB.rg;if(qu===adL.rg){break;}}}var K=0;for(var da=0;da<bU.length;da++){if(bU[da].aR){cB=bU[da].aR;if(da===0){sl[K]=cB;K++;continue;}else if(bU[da-1].aR!==cB){sl[K]=cB;K++;continue;}}}if(il===''){abb();}if(nm===false){dC=document.createElement('div');dC.className='imGearTNItem';dC.style.styleFloat='left';}else if(nm===true){dC=dC=fv({width:vP+'px',height:GD+'px',styleFloat:'left',overflow:'hidden',border:RJ+'px solid '+Ru,marginRight:yE+'px',marginTop:Nb+'px'});dC.style.cssFloat='left';dC.style.backgroundColor=xa;}dC.setAttribute('id',wv);var cs=new IPCC.Web.UI.kG();cs.gV=wv;cs.zA=qu;cs.gM=false;cs.fL=false;cs.bH=undefined;cs.Ar=false;cs.DG=1;cs.aR=cB;cs.hK=false;var aaE;cL=G.get_documents().get_length();for(aK=0;aK<cL;aK++){cB=G.get_documents().getDocument(aK);if(sl[aK]){if(cB===sl[aK]){continue;}else{if(aK+1<cL){var arf=G.get_documents().getDocument(aK+1);if(arf===sl[aK]){aaE=aK;break;}}}}}if(aaE){var ml=0;for(K=0;K<aaE;K++){if(G.get_documents().getDocument(K).get_pages()){ml+=G.get_documents().getDocument(K).get_pages().get_length();}}var apf=bU[ml];var cA=document.getElementById(apf.gV);il.insertBefore(dC,cA);bU.splice(ml,0,cs);}else{il.appendChild(dC);bU.push(cs);}if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var qn=dC.clientWidth*(bU.length+1);if(nm===true){qn=dC.clientWidth*(bU.length+1);qn+=((2*yE)*(bU.length+1));il.style.width=qn+'px';il.style.height=(dC.clientHeight+(2*yE))+'px';}else{qn=dC.clientWidth*(bU.length+1);il.style.width=qn+'px';il.style.height=dC.clientHeight+'px';if(this.tk===0){if(dC.clientWidth>0){G.tk=as.width/dC.clientWidth;}}if(G.Cp===0){if(dC.clientHeight>0){G.tk=as.height/dC.clientHeight;}}}}else{if(as.clientWidth>0){var DO=as.clientWidth/(dC.clientWidth+(dC.clientLeft*2));var At=as.clientHeight/(dC.clientHeight+(dC.clientTop*2));G.tk=At;G.Cp=DO;}}return dC;};function Lz(aj,C){var aW=C.imGearPage;adZ(aW);};function avd(bj){var aW=bj.imGearPage;var cZ;var vq,ae;for(ae=0;ae<bU.length;ae++){vq=undefined;if(bU[ae].aQ){if(bU[ae].aQ===aW){vq=document.getElementById(bU[ae].gV);if(vq){if(bU[ae].fL===true){cZ=document.getElementById(bU[ae].lX).aH;if(cZ.get_selected()){cZ.set_selected(false);if(G.get_pageViewClientId()){var pgView=document.getElementById(G.get_pageViewClientId()).aH;pgView.closePage();}}cZ.remove_mouseDown(Bn);if(cZ.get_currentState().documentIdentifier){cZ.dispose();}bU[ae].fL=false;}if(bU[ae].xr){IPCC.Web.UI.ao.removeHandler(vq.xr,"mousedown",Bn);}vq.style.display='none';bU.splice(ae,1);var JT=aW.aR.get_pages();if(JT.get_length()>=1){for(var gm=0;gm<bU.length;gm++){var fm=bU[gm];if(aW.aR===fm.aQ.aR){if(fm.aQ){var pQ=JZ(fm.aQ);fm.xr.firstChild.innerHTML=pQ;}}}}break;}}}}};function Mh(aj,C){avd(C);};function CK(aj,C){if(C){for(var gm=0;gm<bU.length;gm++){var fm=bU[gm];if(C.imGearPage===fm.aQ){if(fm.aQ){var nI;if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(var ae=0;ae<bU.length;ae++){if(bU[ae].gM===true){if(bU[ae].aQ){bU[ae].aQ.set_selected(false);}bU[ae].gM=false;nI=bU[ae];break;}}}var pQ=JZ(fm.aQ);fm.xr.firstChild.innerHTML=pQ;var cZ;var bO=document.getElementById(fm.gV);if(fm.aQ.get_selected()&& !fm.gM){cZ=document.getElementById(fm.lX).aH;if(cZ){cZ.set_imGearPage(fm.aQ);cZ.set_selected(true);G.ai('pageSelectionChanged',{});aaF(true,bO,fm,nI);}}else if(!fm.aQ.get_selected()&&fm.gM){cZ=document.getElementById(fm.lX).aH;if(cZ){cZ.set_selected(false);G.ai('pageSelectionChanged',{});aaF(false,bO,fm,nI);}}break;}}}}};function auo(aj,C){if(C){if(C.propertyName==='caption'){for(var gm=0;gm<bU.length;gm++){var fm=bU[gm];if(fm.aQ){if(fm.aQ.aR){if(C.imGearDocument){if(C.imGearDocument===fm.aQ.aR){var pQ=JZ(fm.aQ);fm.xr.firstChild.innerHTML=pQ;}}}}}}}};function LK(bj){if(G.PV()===false){return null;}if((Ah!==null)&&(Ah!=='')){sX=document.getElementById(Ah).aH;}var cB=bj.imGearDocument;var VW=G.Sh();cB.rg=VW;if(cB.get_includeAllPages()===false){var dj=cB.get_pages();var cL=dj.get_length();if(cL>0){for(var ae=0;ae<cL;ae++){if(!dj.getPage(ae).aR){dj.getPage(ae).aR=cB;}}dj.forEach(adZ);}}else{avB(cB);}};function aav(aj,C){LK(C);};function GF(Ts){var ae,bO;for(ae=0;ae<bU.length;ae++){if(bU[ae]===Ts){bO=document.getElementById(bU[ae].gV);if(nm===true){ri(true,bO,bU[ae]);}else{qx(true,bO,bU[ae]);}if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var cZ;if(G.get_pageViewClientId()){cZ=document.getElementById(bU[ae].lX).aH;if(bU[ae].hK===false||hv.get_length()===0){if(G.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bU[ae].aQ){if(bU[ae].Ar===true){if(bU[ae].bH){cZ.openPage({encodedDocumentIdentifier:bU[ae].aQ.aR.get_encodedDocumentIdentifier(),pageNumber:bU[ae].aQ.get_pageNumber(),artPage:bU[ae].bH,imGearPage:bU[ae].aQ});}}else{cZ.openPage({encodedDocumentIdentifier:bU[ae].aQ.aR.get_encodedDocumentIdentifier(),pageNumber:bU[ae].aQ.get_pageNumber(),imageServiceOption:G.get_artServiceOption(),imGearPage:bU[ae].aQ});}}}else{if(bU[ae].hy===false){if(bU[ae].hK===false){bU[ae].bH=cZ.get_artPage();if(bU[ae].aQ){if(bU[ae].bH){cZ.openPage({encodedDocumentIdentifier:bU[ae].aQ.aR.get_encodedDocumentIdentifier(),pageNumber:bU[ae].aQ.get_pageNumber(),artPage:bU[ae].bH,imGearPage:bU[ae].aQ});bU[ae].hy=true;hj++;}else{cZ.openPage({encodedDocumentIdentifier:bU[ae].aQ.aR.get_encodedDocumentIdentifier(),pageNumber:bU[ae].aQ.get_pageNumber(),imGearPage:bU[ae].aQ});bU[ae].hy=true;hj++;}}}}}}if(cZ){cZ.set_selected(true);G.ai('pageSelectionChanged',{});}}if(bU[ae].aQ){if(hv.get_length()>0){hv.removeAllPages();}}}if(bU[ae].aQ){hv.addPage(bU[ae].aQ);}break;}}pL();};function atP(ay){var bO;var cZ;if(hj>0){if(ay.lX){cZ=document.getElementById(ay.lX).aH;}if(cZ){cZ.display();ay.fL=true;}return;}bO=document.getElementById(ay.gV);cZ=document.getElementById(ay.lX).aH;if(ay.hK===false){if(G.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ay.aQ){if(ay.Ar===true){if(ay.bH){cZ.openPage({encodedDocumentIdentifier:ay.aQ.aR.get_encodedDocumentIdentifier(),pageNumber:ay.aQ.get_pageNumber(),artPage:ay.bH,imaGearPage:ay.aQ});}}else{cZ.openPage({encodedDocumentIdentifier:ay.aQ.aR.get_encodedDocumentIdentifier(),pageNumber:ay.aQ.get_pageNumber(),imageServiceOption:G.get_artServiceOption(),imaGearPage:ay.aQ});}ay.hy=true;hj++;}}else{ay.bH=cZ.get_artPage();if(ay.aQ){if(ay.bH){cZ.openPage({encodedDocumentIdentifier:ay.aQ.aR.get_encodedDocumentIdentifier(),pageNumber:ay.aQ.get_pageNumber(),artPage:ay.bH,imaGearPage:ay.aQ});}else{cZ.openPage({encodedDocumentIdentifier:ay.aQ.aR.get_encodedDocumentIdentifier(),pageNumber:ay.aQ.get_pageNumber(),imaGearPage:ay.aQ});}ay.hy=true;hj++;}}}pL();};function atO(Ts){var ae,bO;var ay;for(ae=0;ae<bU.length;ae++){ay=bU[ae];if(ay===Ts){bO=document.getElementById(ay.gV);if(nm===true){ri(true,bO,ay);}else{qx(true,bO,ay);}if(G.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var cZ;if(G.get_pageViewClientId()){cZ=document.getElementById(ay.lX).aH;if(cZ){cZ.set_selected(true);}}if(ay.aQ){if(hv.get_length()>0){hv.removeAllPages();}}}if(ay.aQ){hv.addPage(ay.aQ);ay.gM=true;}break;}}pL();};this.co=function(){var ae,bO;var fI=bU[0];if(fI&&fI.aQ){var dj=fI.aQ.aR.get_pages();var agU=dj.get_length();var cL=10;if(agU<10){cL=agU;}if(bU.length>10&&cL>10){cL=9;}cL=bU.length;for(ae=0;ae<cL;ae++){if(bU[ae].aQ){bO=document.getElementById(bU[ae].gV);var cZ;cZ=document.getElementById(bU[ae].lX).aH;if(bU[ae].fL===false){if(G.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bU[ae].Ar===true){if(bU[ae].bH){if(bU[ae].hK===false){cZ.openPage({encodedDocumentIdentifier:bU[ae].aQ.aR.get_encodedDocumentIdentifier(),pageNumber:bU[ae].aQ.get_pageNumber(),artPage:bU[ae].bH,imaGearPage:bU[ae].aQ});hj++;bU[ae].hy=true;}}}else{if(bU[ae].hK===false){cZ.openPage({encodedDocumentIdentifier:bU[ae].aQ.aR.get_encodedDocumentIdentifier(),pageNumber:bU[ae].aQ.get_pageNumber(),imageServiceOption:G.get_artServiceOption(),imaGearPage:bU[ae].aQ});hj++;bU[ae].hy=true;}}}else{if(bU[ae].imageDataRequested===false){if(bU[ae].hK===false){if(hj===0){cZ.openPage({encodedDocumentIdentifier:bU[ae].aQ.aR.get_encodedDocumentIdentifier(),pageNumber:bU[ae].aQ.get_pageNumber(),imaGearPage:bU[ae].aQ});bU[ae].hy=true;}}}}}if(cZ){cZ.display();if(bU[ae].gM===true){cZ.set_selected(true);}}}}Ob();}};this.azC=function(){var ay=bU[0];zV();GF(ay);};this.azi=function(){var ay=bU[bU.length-1];zV();GF(ay);};this.azB=function(){var ay;var oj;for(var ae=0;ae<bU.length;ae++){oj=bU[ae];if(oj.gM===true){ay=oj;break;}}if(!ay){ay=bU[0];}else{if(ae<=bU.length-1&&ae>0){ae--;ay=bU[ae];zV();GF(ay);}}};this.azc=function(){var ay;var vU;var ae=bU.length-1;for(ae;ae>=0;ae--){vU=bU[ae];if(vU.gM===true){ay=vU;break;}}if(!ay){ay=bU[0];}else{if(ae<=bU.length-2&&ae>=0){ae++;ay=bU[ae];zV();GF(ay);}}};this.ayV=function(){var cA=document.getElementById(wb);if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){cA.scrollLeft=0;}else{cA.scrollTop=0;}};this.axu=function(){var cA=document.getElementById(wb);if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){cA.scrollLeft=cA.scrollWidth;}else{cA.scrollTop=cA.scrollHeight;}};this.axk=function(){var ay;var oj;var ae;for(ae=0;ae<bU.length;ae++){oj=bU[ae];if(oj.gM===true){ay=oj;if(ay.hK===false){GF(ay);}break;}}var aju;var aAL;var bq;var cA=document.getElementById(wb);if(!ay){return;}if(ay.gV){if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){aju=cA.scrollWidth;bq=document.getElementById(ay.gV);aAL=ae*bq.clientWidth;cA.scrollLeft=bq.offsetLeft;}else{aju=cA.scrollHeight;bq=document.getElementById(ay.gV);cA.scrollTop=bq.offsetTop;}}};this.axr=function(){var ay=bU[0];var bq=document.getElementById(ay.gV);var cA=document.getElementById(wb);var qb;if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){qb=cA.scrollLeft+bq.clientWidth+bq.clientLeft;cA.scrollLeft=qb;}else{qb=cA.scrollTop;cA.scrollTop=qb+bq.clientHeight+bq.clientTop;}};this.azt=function(){var ay=bU[0];var bq=document.getElementById(ay.gV);var cA=document.getElementById(wb);var qb;if(rX===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){qb=cA.scrollLeft;qb=qb-(bq.clientWidth+bq.clientLeft);if(qb>0){cA.scrollLeft=qb;}else{cA.scrollLeft=0;}}else{qb=cA.scrollTop-(bq.clientHeight+bq.clientTop);if(qb>0){cA.scrollTop=qb;}else{cA.scrollTop=0;}}};function awE(vN){var cZ;cZ=document.getElementById(vN.lX).aH;if(cZ){cZ.saveArtPage();}};this.azH=function(agJ){var ay;for(var ae=0;ae<bU.length;ae++){ay=bU[ae];awE(ay);}if(agJ){agJ();}};this.aqT=function(){if(G.jP.get_length()>0){G.jP.removeAllDocuments();}bU=[];};this.aFd=function(){return oQ;};this.aDj=function(H){IPCC.aJ.ii(H,'value');oQ=H;this.aA('imageServicePath');};this.Jw=function(){return nX;};this.Kt=function(H){IPCC.aJ.ii(H,'value');nX=H;};this.abE=function(){return Ah;};this.asF=function(){return nm;};this.apm=function(H){nm=H;this.aA('useDefaultStyling');};this.ars=function(){return Ru;};this.apd=function(H){Ru=H;this.aA('thumbnailBorderColor');};this.asU=function(){return RJ;};this.apR=function(H){RJ=H;this.aA('thumbnailBorderWidth');};this.yM=function(BH){if(BH!==IPCC.Web.UI.ImGearArtDataServices.None&&BH!==IPCC.Web.UI.ImGearArtDataServices.ArtDataService){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearArtDataServices enumeration.');}Kk=BH;};this.yL=function(){return Kk;};this.Wm=function(){return this.jP;};this.aCX=function(){return xA;};this.anU=function(H){IPCC.aJ.ii(H,'value');xA=H;this.aA('thumbnailCaptionFormat');};this.abE=function(){return Ah;};this.anB=function(H){if(Ah!==H){Ah=H;sX=null;this.aA('pageViewClientId');}};this.aru=function(){return rX;};this.aoO=function(H){rX=H;this.aA('thumbnailsLayout');};this.ath=function(){return MP;};this.aqM=function(H){if(H!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&H!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearThumbnailSelectionMode enumeration.');}MP=H;if(MP===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){hv.alb=false;}this.aA('selectionMode');};this.PV=function(){return iK;};this.Ld=function(H){iK=H;this.aA('enabled');};this.ate=function(){return vP;};this.anP=function(H){vP=H;this.aA('thumbnailWidth');};this.asD=function(){return GD;};this.anS=function(H){GD=H;this.aA('thumbnailHeight');};this.aso=function(){return xa;};this.aqU=function(H){xa=H;this.aA('thumbnailBackgroundColor');};this.arI=function(){return Sv;};this.aoM=function(H){Sv=H;this.aA('thumbnailSelectedBackgroundColor');};this.akY=function(){return yE;};this.aoZ=function(H){yE=H;this.aA('xSpacing');};this.arv=function(){return Nb;};this.ape=function(H){Nb=H;this.aA('ySpacing');};this.atj=function(){return awl;};this.asA=function(){return hv;};var ni;this.uV=function(H){ni=H;};this.mN=function(){return ni;};this.gS=function(ZI){for(var gm=0;gm<bU.length;gm++){var fm=bU[gm];if(ZI===fm.aQ){var cZ=document.getElementById(fm.lX).aH;if(cZ){return(cZ.get_artPage());}}}return null;};this.aoL=function(H){Sx=H;};this.arD=function(){return Sx;};this.aoA=function(H){TE=H;};this.asw=function(){return TE;};this.aoR=function(H){TN=H;};this.arx=function(){return TN;};var nC=false;this.nY=function(){return nC;};this.sJ=function(H){if(nC===H){return;}nC=H;this.aA('requireRequestsOptimize');};var lp=false;this.dU=function(){return lp;};this.hX=function(H){if(typeof H!=="boolean"){return;}if(H===lp){return;}lp=H;};this.initialize=function(){aCL=this.ht().id;var as=this.ht();var K;for(K=as.childNodes.length-1;K>=0;K--){if(as.childNodes[K].tagName!=='INPUT'){as.removeChild(as.childNodes[K]);}}this.jP.add_documentAdded(aav);this.jP.add_pageAdded(Lz);this.jP.add_pageRemoved(Mh);this.jP.add_pageChanged(CK);this.jP.add_documentChanged(auo);this.Ld(true);as.aH=this;};};IPCC.Web.UI.ImGearThumbnailList.prototype={dispose:function(){this.bS('dispose',arguments);this.aqT();this.Ld(false);},get_debug:function(){try{var R=this.sI();this.aZ('get_debug',arguments,R);return R;}catch(e){this.T('get_debug',e);throw e;}},set_debug:function(value){try{this.bS('set_debug',arguments);var mr=this.sI();this.BQ(value);if(!mr){this.bS('set_debug',arguments);}}catch(e){this.T('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var R=this.or();this.aZ('get_debugErrorLevel',arguments,R);return R;}catch(e){this.T('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bS('set_debugErrorLevel',arguments);var mr=this.or();this.rC(value);if(mr<IPCC.Web.UI.DebugErrorLevel.Development){this.bS('set_debugErrorLevel',arguments);}}catch(e){this.T('set_debugErrorLevel',e);throw e;}},add_pageSelectionChanged:function(handler){try{this.awY(handler);}catch(e){this.T('add_pageSelectionChanged',e);throw e;}},remove_pageSelectionChanged:function(handler){try{this.azr(handler);}catch(e){this.T('remove_pageSelectionChanged',e);throw e;}},add_pageAddFailed:function(handler){try{this.aws(handler);}catch(e){this.T('add_pageAddFailed',e);throw e;}},remove_pageAddFailed:function(handler){try{this.aAg(handler);}catch(e){this.T('remove_pageAddFailed',e);throw e;}},add_mouseDown:function(handler){try{this.zE(handler);}catch(e){this.T('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Fj(handler);}catch(e){this.T('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.GG(handler);}catch(e){this.T('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.GI(handler);}catch(e){this.T('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Ac(handler);}catch(e){this.T('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.FY(handler);}catch(e){this.T('remove_mouseUp',e);throw e;}},add_propertyChanged:function(handler){try{this.add_propertyChanged(handler);}catch(e){this.T('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.kA(handler);}catch(e){this.T('remove_propertyChanged',e);throw e;}},writeToLog:function(message){try{this.iS(message);}catch(e){this.T('writeToLog',e);throw e;}},get_documents:function(){return this.Wm();},get_controlStateElementId:function(){try{var R=this.Jw();this.aZ('get_controlStateElementId',arguments,R);return R;}catch(e){this.T('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bS('set_controlStateElementId',arguments);this.Kt(value);}catch(e){this.T('set_controlStateElementId',e);throw e;}},get_useDefaultStyling:function(){try{var R=this.asF();this.aZ('get_get_useDefaultStyling',arguments,R);return R;}catch(e){this.T('get_useDefaultStyling',e);throw e;}},set_useDefaultStyling:function(value){try{this.bS('set_useDefaultStyling',arguments);this.apm(value);}catch(e){this.T('set_useDefaultStyling',e);throw e;}},get_selectedPages:function(){try{var R=this.asA();this.aZ('get_currentSelectedPages',arguments,R);return R;}catch(e){this.T('get_currentSelectedPages',e);throw e;}},get_artDataChanged:function(){try{var R=this.atj();this.aZ('get_artDataChanged',arguments,R);return R;}catch(e){this.T('get_artDataChanged',e);throw e;}},get_xSpacing:function(){try{var R=this.akY();this.aZ('get_xSpacing',arguments,R);return R;}catch(e){this.T('get_xSpacing',e);throw e;}},set_xSpacing:function(value){try{this.bS('set_xSpacing',arguments);this.aoZ(value);}catch(e){this.T('set_xSpacing',e);throw e;}},get_ySpacing:function(){try{var R=this.arv();this.aZ('get_ySpacing',arguments,R);return R;}catch(e){this.T('get_ySpacing',e);throw e;}},set_ySpacing:function(value){try{this.bS('set_ySpacing',arguments);this.ape(value);}catch(e){this.T('set_ySpacing',e);throw e;}},get_thumbnailHeight:function(){try{var R=this.asD();this.aZ('get_thumbnailHeight',arguments,R);return R;}catch(e){this.T('get_thumbnailHeight',e);throw e;}},set_thumbnailHeight:function(value){try{this.bS('set_thumbnailHeight',arguments);this.anS(value);}catch(e){this.T('set_thumbnailHeight',e);throw e;}},get_thumbnailWidth:function(){try{var R=this.ate();this.aZ('get_thumbnailWidth',arguments,R);return R;}catch(e){this.T('get_thumbnailWidth',e);throw e;}},set_thumbnailWidth:function(value){try{this.bS('set_thumbnailWidth',arguments);this.anP(value);}catch(e){this.T('set_thumbnailWidth',e);throw e;}},get_thumbnailBackgroundColor:function(){try{var R=this.aso();this.aZ('get_thumbnailBackgroundColor',arguments,R);return R;}catch(e){this.T('get_thumbnailBackgroundColor',e);throw e;}},set_thumbnailBackgroundColor:function(value){try{this.bS('set_thumbnailBackgroundColor',arguments);this.aqU(value);}catch(e){this.T('set_thumbnailBackgroundColor',e);throw e;}},get_thumbnailSelectedBackgroundColor:function(){try{var R=this.arI();this.aZ('get_thumbnailSelectedBackgroundColor',arguments,R);return R;}catch(e){this.T('get_thumbnailSelectedBackgroundColor',e);throw e;}},set_thumbnailSelectedBackgroundColor:function(value){try{this.bS('set_thumbnailSelectedBackgroundColor',arguments);this.aoM(value);}catch(e){this.T('set_thumbnailSelectedBackgroundColor',e);throw e;}},get_thumbnailBorderWidth:function(){try{var R=this.asU();this.aZ('get_thumbnailBorderWidth',arguments,R);return R;}catch(e){this.T('get_thumbnailBorderWidth',e);throw e;}},set_thumbnailBorderWidth:function(value){try{this.bS('set_thumbnailBorderWidth',arguments);this.apR(value);}catch(e){this.T('set_thumbnailBorderWidth',e);throw e;}},get_thumbnailBorderColor:function(){try{var R=this.ars();this.aZ('get_thumbnailBorderColor',arguments,R);return R;}catch(e){this.T('get_thumbnailBorderColor',e);throw e;}},set_thumbnailBorderColor:function(value){try{this.bS('set_thumbnailBorderColor',arguments);this.apd(value);}catch(e){this.T('set_thumbnailBorderColor',e);throw e;}},get_resourcePath:function(){try{var R=this.mN();this.aZ('get_resourcePath',arguments,R);return R;}catch(e){this.T('get_resourcePath',e);throw e;}},set_resourcePath:function(H){try{this.bS('set_resourcePath',arguments);this.uV(H);}catch(e){this.T('set_resourcePath',e);throw e;}},get_pageViewClientId:function(){try{var R=this.abE();this.aZ('get_pageViewClientId',arguments,R);return R;}catch(e){this.T('get_pageViewClientId',e);throw e;}},set_pageViewClientId:function(value){try{this.bS('set_pageViewClientId',arguments);this.anB(value);}catch(e){this.T('set_pageViewClientId',e);throw e;}},get_selectionMode:function(){try{var R=this.ath();this.aZ('selectionMode',arguments,R);return R;}catch(e){this.T('get_selectionMode',e);throw e;}},set_selectionMode:function(value){try{this.bS('set_selectionMode',arguments);this.aqM(value);}catch(e){this.T('set_selectionMode',e);throw e;}},get_layout:function(){try{var R=this.aru();this.aZ('getthumbnailsLayout',arguments,R);return R;}catch(e){this.T('get_thumbnailsLayout',e);throw e;}},set_layout:function(value){try{this.bS('set_thumbnailsLayout',arguments);this.aoO(value);}catch(e){this.T('set_thumbnailsLayout',e);throw e;}},get_enabled:function(){try{var R=this.PV();this.aZ('get_enabled',arguments,R);return R;}catch(e){this.T('get_enabled',e);throw e;}},get_thumbnailCaptionFormat:function(){try{var R=this.akY();this.aZ('get_thumbnailCaptionFormat',arguments,R);return R;}catch(e){this.T('get_thumbnailCaptionFormat',e);throw e;}},set_thumbnailCaptionFormat:function(value){try{this.bS('set_thumbnailCaptionFormat',arguments);this.anU(value);}catch(e){this.T('set_thumbnailCaptionFormat',e);throw e;}},get_artServiceOption:function(){try{var R=this.yL();this.aZ('get_artServiceOption',arguments,R);return R;}catch(e){this.T('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bS('set_artServiceOption',arguments);this.yM(value);}catch(e){this.T('set_artServiceOption',e);throw e;}},selectPreviousThumbnail:function(){try{this.bS('selectPreviousThumbnail',arguments,1);this.azB();}catch(e){this.T('selectPreviousThumbnail',e);throw e;}},selectNextThumbnail:function(){try{this.bS('selectNextThumbnail',arguments,1);this.azc();}catch(e){this.T('selectNextThumbnail',e);throw e;}},selectFirstThumbnail:function(){try{this.bS('selectFirstThumbnail',arguments,1);this.azC();}catch(e){this.T('selectFirstThumbnail',e);throw e;}},selectLastThumbnail:function(){try{this.bS('selectLastThumbnail',arguments,1);this.azi();}catch(e){this.T('selectLastThumbnail',e);throw e;}},scrollToNextBand:function(){try{this.bS('scrollToNextBand',arguments,1);this.axr();}catch(e){this.T('scrollToNextBand',e);throw e;}},scrollToPreviousBand:function(){try{this.bS('scrollToPreviousBand',arguments,1);this.azt();}catch(e){this.T('scrollToPreviousBand',e);throw e;}},scrollToFirstThumbnail:function(){try{this.bS('scrollToFirst',arguments,1);this.ayV();}catch(e){this.T('scrollToFirst',e);throw e;}},scrollToLastThumbnail:function(){try{this.bS('scrollToFirst',arguments,1);this.axu();}catch(e){this.T('scrollToFirst',e);throw e;}},scrollToSelectedThumbnail:function(){try{this.bS('ScrollToSelectedThumbnail',arguments,1);this.axk();}catch(e){this.T('ScrollToSelectedThumbnail',e);throw e;}},saveArtData:function(onComplete){try{this.bS('saveArtData',arguments,1);this.azH(onComplete);}catch(e){this.T('saveArtData',e);throw e;}},getArtPage:function(page){try{var R=this.gS(page);this.wg('getArtPage',arguments,R,1);return R;}catch(e){this.T('getArtPage',e);throw e;}},display:function(){try{this.bS('display',arguments,1);this.co();}catch(e){this.T('display',e);throw e;}},get_requireRequestsOptimize:function(){try{var R=this.nY();this.aZ('get_requireRequestsOptimize',arguments,R);return R;}catch(e){this.T('nY',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bS('set_requireRequestsOptimize',arguments);this.sJ(value);}catch(e){this.T('set_requireRequestsOptimize',e);throw e;}},get_pageViewFitType:function(){try{var R=this.arD();this.aZ('get_pageViewFitType',arguments,R);return R;}catch(e){this.T('get_pageViewFitType',e);throw e;}},set_pageViewFitType:function(value){try{this.bS('set_pageViewFitType',arguments);this.aoL(value);}catch(e){this.T('set_pageViewFitType',e);throw e;}},get_pageViewRotationDegreesClockwise:function(){try{var R=this.asw();this.aZ('get_pageViewRotationDegreesClockwise',arguments,R);return R;}catch(e){this.T('get_pageViewRotationDegreesClockwise',e);throw e;}},set_pageViewRotationDegreesClockwise:function(value){try{this.bS('set_pageViewRotationDegreesClockwise',arguments);this.aoA(value);}catch(e){this.T('set_pageViewRotationDegreesClockwise',e);throw e;}},get_pageViewZoomFactor:function(){try{var R=this.arx();this.aZ('get_pageViewZoomFactor',arguments,R);return R;}catch(e){this.T('get_pageViewZoomFactor',e);throw e;}},set_pageViewZoomFactor:function(value){try{this.bS('set_pageViewZoomFactor',arguments);this.aoR(value);}catch(e){this.T('set_pageViewZoomFactor',e);throw e;}},get_encryption:function(){try{var R=this.dU();this.aZ('get_encryption',arguments,R);return R;}catch(e){this.T('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bS('set_encryption',arguments);this.hX(value);}catch(e){this.T('set_encryption',e);throw e;}}};IPCC.Web.UI.ImGearThumbnailList.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearThumbnailList.registerClass('IPCC.Web.UI.ImGearThumbnailList',IPCC.Sys.UI.Control);IPCC.Type.registerNamespace('IPCC');IPCC.PageLayout=function(){};IPCC.PageLayout.registerEnum=IPCC.Web.regEnum;IPCC.PageLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.PageLayout.registerEnum('IPCC.PageLayout',false);IPCC.ViewMode=function(){};IPCC.ViewMode.registerEnum=IPCC.Web.regEnum;IPCC.ViewMode.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};IPCC.ViewMode.registerEnum('IPCC.ViewMode',false);IPCC.FitType=function(){};IPCC.FitType.registerEnum=IPCC.Web.regEnum;IPCC.FitType.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};IPCC.FitType.registerEnum('IPCC.FitType',false);IPCC.ScaleTrigger=function(){};IPCC.ScaleTrigger.registerEnum=IPCC.Web.regEnum;IPCC.ScaleTrigger.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};IPCC.ScaleTrigger.registerEnum('IPCC.ScaleTrigger',false);IPCC.PageEventArgs=function(){return this;};IPCC.PageEventArgs.registerClass=IPCC.Web.regClass;IPCC.PageEventArgs.prototype={};IPCC.PageEventArgs.registerClass('IPCC.PageEventArgs');IPCC.ExceptionEventArgs=function(){return this;};IPCC.ExceptionEventArgs.registerClass=IPCC.Web.regClass;IPCC.ExceptionEventArgs.prototype={};IPCC.ExceptionEventArgs.registerClass('IPCC.ExceptionEventArgs');IPCC.OpenPageEventArgs=function(){return this;};IPCC.OpenPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.OpenPageEventArgs.prototype={};IPCC.OpenPageEventArgs.registerClass('IPCC.OpenPageEventArgs');IPCC.Pagecounter=1;IPCC.PageList=function(element){var G=this;var Hu=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var avE=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var bP=new IPCC.Web.UI.gK();var aB=[];var wb;var ak='';var zD='';var bd='';var kP='';var md='';var sM=0;this.jP=new IPCC.Web.UI.ImGearDocumentCollection();var NM=[];this.aEH=0;this.aEe={x:0,y:0};var hj=0;var Gt=0;var kR=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var iK=false;var ce=0;var ee=0;var rj=0;var iU=0;var wr=false;var db=[];var oZ=[];var Ho='';var cc=1;var dz=IPCC.Web.UI.MouseTool.None;var Bz=false;var uv=true;var bf=IPCC.an.None;var jW;var eb=0;var fR=0;var gU=0;var jt=15;var ih=0;var hY=15;var pp=0;var nP=0;var rk=0;var pq=0;var acS=0;var hb=0;var gb=0;var nM=1;var eP=IPCC.PageLayout.VerticalScrollDirection;var cX=IPCC.ViewMode.Document;var pm=null;var SF=null;var OK=0;var pU=0;var AC=0;var kZ=null;var KU=0;var HH='';var Dq='';var kH=[];var hI=3;var wA=0;var Ep=0.5;var EC=true;var YT;var uQ=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var nC=true;var mv;var dF={};var va=false;var oX=function(){return null;};var iu=null;var adu="font-size:11px;color:#888;text-align:center;cursor:pointer;";var acX=adu+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var adA=adu+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var SCREEN_RESOLUTION=96;var aO;function hh(yT){if(!_debug){return false;}return kR>=yT;};this.T=function(fi,gW){if(!hh(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var aV=fi+'() threw an exception ('+gW.name+'), "'+gW.message+'"';aV=aV.replace(/\n/g," ");IPCC.ei.iS(aV,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.ht().id);var oy=new IPCC.ExceptionEventArgs();oy.functionName=fi;oy.exception=gW;this.ai('exceptionThrown',oy);};this.bS=function(fi,eU,it){if(!hh(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],(it?it:0));}aV+=')';this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);};this.wg=function(fi,eU,jy,it){if(!hh(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],(it?it:0));}aV+=') = ';aV+=IPCC.ei.hW(jy,1);this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Development);};this.aZ=function(fi,eU,jy){if(!hh(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var aV=fi+'(';var K;for(K=0;K<eU.length;K++){if(K>0){aV+=', ';}aV+=IPCC.ei.hW(eU[K],0);}aV+=') = ';aV+=IPCC.ei.hW(jy,1);this.nl(aV,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.nl=function(hm,aD){IPCC.ei.iS(hm,IPCC.Web.UI.DebugItemCause.FunctionCall,aD,'PageList',this.ht().id);};this.iS=function(hm){IPCC.ei.iS(hm,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.ht().id);};this.sI=function(){return _debug;};this.BQ=function(H){var xw= ! !H;if(_debug===xw){return;}_debug=xw;var K=0;for(K=0;K<db.length;K++){var bb;if(aB[db[K]].bV){bb=document.getElementById(aB[db[K]].bV).aH;}if(bb){bb.set_debug(_debug);}}this.aA('debug');};this.or=function(){return kR;};this.rC=function(H){IPCC.aJ.iY(H,'value',IPCC.Web.UI.DebugErrorLevel);if(kR===H){return;}kR=H;var K=0;for(K=0;K<db.length;K++){var bb;if(aB[db[K]].bV){bb=document.getElementById(aB[db[K]].bV).aH;}if(bb){bb.set_debugErrorLevel(kR);}}this.aA('debugErrorLevel');};function dv(aC,L){bP.addHandler(aC,L);};function cu(aC,L){bP.removeHandler(aC,L);};this.zE=function(L){dv('mouseDown',L);};this.Fj=function(L){cu('mouseDown',L);};this.GG=function(L){dv('mouseMove',L);};this.GI=function(L){cu('mouseMove',L);};this.Ac=function(L){dv('mouseUp',L);};this.FY=function(L){cu('mouseUp',L);};this.abj=function(L){dv('selectTextMouseToolCompleted',L);};this.Vw=function(L){cu('selectTextMouseToolCompleted',L);};this.wF=function(L){dv('textPageReady',L);};this.yf=function(L){cu('textPageReady',L);};this.Zo=function(L){dv('hyperlinkPageReady',L);};this.afr=function(L){cu('hyperlinkPageReady',L);};this.avA=function(L){dv('allPagesAdded',L);};this.aAN=function(L){cu('allPagesAdded',L);};this.Hq=function(L){dv('pageOpening',L);};this.IU=function(L){cu('pageOpening',L);};this.HL=function(L){dv('pageOpened',L);};this.Jq=function(L){cu('pageOpened',L);};this.Cy=function(L){dv('pageOpenFailed',L);};this.zJ=function(L){cu('pageOpenFailed',L);};this.Ih=function(L){dv('pageDisplayed',L);};this.Ki=function(L){cu('pageDisplayed',L);};this.iT=function(L){dv('propertyChanged',L);};this.kA=function(L){cu('propertyChanged',L);};this.YL=function(L){dv('exceptionThrown',L);};this.Uu=function(L){cu('exceptionThrown',L);};this.Bb=function(L){dv('textExtractionFailed',L);};this.FR=function(L){cu('textExtractionFailed',L);};this.Af=function(L){dv('markAdded',L);};this.yU=function(L){cu('markAdded',L);};this.Yk=function(L){dv('markCreating',L);};this.XG=function(L){cu('markCreating',L);};this.CL=function(L){dv('markChanged',L);};this.Fo=function(L){cu('markChanged',L);};this.Co=function(L){dv('markReordered',L);};this.Gk=function(L){cu('markReordered',L);};this.BZ=function(L){dv('markSelectionChanged',L);};this.Fw=function(L){cu('markSelectionChanged',L);};this.Jz=function(L){dv('markTextSelectionChanged',L);};this.Kp=function(L){cu('markTextSelectionChanged',L);};this.za=function(L){dv('markRemoved',L);};this.ye=function(L){cu('markRemoved',L);};this.avQ=function(L){dv('commentAdding',L);};this.azI=function(L){cu('commentAdding',L);};this.AH=function(L){dv('commentAdded',L);};this.Gw=function(L){cu('commentAdded',L);};this.Aj=function(L){dv('commentRemoved',L);};this.GJ=function(L){cu('commentRemoved',L);};this.tn=function(L){dv('commentChanged',L);};this.vz=function(L){cu('commentChanged',L);};this.abq=function(L){dv('scaleChanged',L);};this.VT=function(L){cu('scaleChanged',L);};this.vH=function(){var aH=document.getElementById(aB[ce].bV).aH;if(aH){return aH.get_currentState();}else{return null;}};this.aft=function(){return aB[ce].aQ;};this.uz=function(){return cc;};this.apE=function(aF){lu(aF,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.NF=function(ac,xs,Uo,fk){fk=fk||IPCC.ScaleTrigger.Zoom;lu(cc*ac,Uo,undefined,undefined,undefined,xs,fk);};this.amW=function(ac,ad,fp,Gq,fk){fk=fk||IPCC.ScaleTrigger.Zoom;if(cc*ac<8){lu(cc*ac,false,ad,fp,Gq,undefined,fk);}else{lu(8,false,ad,fp,Gq);}};this.WZ=function(ac,fk){fk=fk||IPCC.ScaleTrigger.Zoom;lu(cc/ac,false,undefined,undefined,undefined,undefined,fk);};this.arP=function(){return Uz();};this.adP=function(fk,eA,Vz){var Mr,KJ,aS,bI;var Tl=0;var K=0;for(K=0;K<aB.length;K++){aS=aB[K].aS;bI=aB[K].bI;if(jp(aB[K].gR)===true){var HZ=aS;aS=bI;bI=HZ;}if(aS>0&&bI>0){var Ic=aS/bI;if(Ic>Tl){Tl=Ic;Mr=bI;KJ=aS;}}}if(Tl>0){var aoy=(ak.offsetWidth-IPCC.Web.oT()-wR()-(jt+hY+nP+pq));var aol=aoy/(KJ*SCREEN_RESOLUTION/aB[0].hn);var fb=eb;var eu=fR;if(jp(aB[0].gR)===true){fb=fR;eu=eb;}var ajh=Mr/eu*aol;var jL=(ak.clientHeight-(gU+ih+pp+rk))/(eu*SCREEN_RESOLUTION/aB[0].hD);var HG=ajh;if(Vz===true&&ajh>jL){HG=jL;}lu(HG,true,undefined,undefined,undefined,undefined,fk,eA);}};this.aco=function(fk,eA,Vz){var Mr,KJ,aS,bI;var Vl=0;var K=0;for(K=0;K<aB.length;K++){aS=aB[K].aS;bI=aB[K].bI;if(jp(aB[K].gR)===true){var HZ=aS;aS=bI;bI=HZ;}if(aS>0&&bI>0){var Ic=bI/aS;if(Ic>Vl){Vl=Ic;Mr=bI;KJ=aS;}}}if(Vl>0){var anM=(ak.offsetHeight-IPCC.Web.oT()-(gU+ih+pp+rk));var aox=anM/(Mr*SCREEN_RESOLUTION/aB[0].hD);var fb=eb;var eu=fR;if(jp(aB[0].gR)===true){fb=fR;eu=eb;}var aiV=KJ/fb*aox;var jL=(ak.clientWidth-wR()-(jt+hY+nP+pq))/(fb*SCREEN_RESOLUTION/aB[0].hn);var HG=aiV;if(Vz===true&&aiV>jL){HG=jL;}lu(HG,true,undefined,undefined,undefined,undefined,fk,eA);}};this.atd=function(eA,fk){if(G.xj&&typeof G.xj==='function'){G.xj();}var aS;var bI;var dS;var jI=1;fk=fk||IPCC.ScaleTrigger.Fit;if(eA===IPCC.FitType.FitToWidth){if(cX===IPCC.ViewMode.Document){jI=(ak.offsetWidth-IPCC.Web.oT()-wR()-(jt+hY+nP+pq))/(hb/cc);lu(jI,true,undefined,undefined,undefined,undefined,fk,eA);}else if(cX===IPCC.ViewMode.SinglePage){if(jp(aB[ce].gR)===true){aS=aB[ce].bI;dS=SCREEN_RESOLUTION/aB[ce].hD;}else{aS=aB[ce].aS;dS=SCREEN_RESOLUTION/aB[ce].hn;}jI=(ak.offsetWidth-IPCC.Web.oT()-wR()-(jt+hY+nP+pq))/(aS*dS);lu(jI,true,undefined,undefined,undefined,undefined,fk,eA);}else{if(eP===IPCC.PageLayout.VerticalScrollDirection){Yb(fk,eA);}else{G.adP(fk,eA);}}}else if(eA===IPCC.FitType.ShrinkToWidth){var amF=ak.clientWidth-wR();var aov=20;var Rw=amF-aov;if(cX===IPCC.ViewMode.SinglePage){if(jp(aB[ce].gR)===true){aS=aB[ce].bI;dS=SCREEN_RESOLUTION/aB[ce].hD;}else{aS=aB[ce].aS;dS=SCREEN_RESOLUTION/aB[ce].hn;}if(Rw<cc*aS*dS){jI=(ak.offsetWidth-IPCC.Web.oT()-wR()-(jt+hY+nP+pq))/(aS*dS);lu(jI,true,undefined,undefined,undefined,undefined,fk,eA);}}else{if(Rw<hb){lu(cc*Rw/hb,true,undefined,undefined,undefined,undefined,fk,eA);}}}else if(eA===IPCC.FitType.ActualSize){if(cX===IPCC.ViewMode.Document||cX===IPCC.ViewMode.SinglePage){lu(1,true,undefined,undefined,undefined,undefined,fk,eA);}}else if(eA===IPCC.FitType.FitToHeight){if(cX===IPCC.ViewMode.Document){jI=(ak.offsetHeight-IPCC.Web.oT()-(gU+ih+pp+rk))/(gb/cc);lu(jI,true,undefined,undefined,undefined,undefined,fk,eA);}else if(cX===IPCC.ViewMode.SinglePage){if(jp(aB[ce].gR)===true){bI=aB[ce].aS;dS=SCREEN_RESOLUTION/aB[ce].hn;}else{bI=aB[ce].bI;dS=SCREEN_RESOLUTION/aB[ce].hD;}jI=(ak.offsetHeight-IPCC.Web.oT()-(gU+ih+pp+rk))/(bI*dS);lu(jI,true,undefined,undefined,undefined,undefined,fk,eA);}else{if(eP===IPCC.PageLayout.HorizontalScrollDirection){Yb(fk,eA);}else{G.aco(fk,eA);}}}else if(eA===IPCC.FitType.BestFit){var FH;if(cX===IPCC.ViewMode.Document){jI=(ak.offsetWidth-IPCC.Web.oT()-(jt+hY+nP+pq))/(hb/cc);FH=(ak.offsetHeight-IPCC.Web.oT()-(gU+ih+pp+rk))/(gb/cc);if(FH<jI){jI=FH;}lu(jI,true,undefined,undefined,undefined,undefined,fk,eA);}else if(cX===IPCC.ViewMode.SinglePage){if(jp(aB[ce].gR)===true){aS=aB[ce].bI;bI=aB[ce].aS;dS=SCREEN_RESOLUTION/aB[ce].hn;}else{aS=aB[ce].aS;bI=aB[ce].bI;dS=SCREEN_RESOLUTION/aB[ce].hD;}jI=(ak.offsetWidth-IPCC.Web.oT()-wR()-(jt+hY+nP+pq))/(aS*dS);FH=(ak.offsetHeight-IPCC.Web.oT()-(gU+ih+pp+rk))/(bI*dS);if(FH<jI){jI=FH;}lu(jI,true,undefined,undefined,undefined,undefined,fk,eA);}else{if(eP===IPCC.PageLayout.HorizontalScrollDirection){G.adP(fk,eA,true);}else{G.aco(fk,eA,true);}}}};this.aCJ=function(bC,bE){var aW=aB[bC-1];var aT=document.getElementById(aW.bV);var Dw=[];if(aT){var ej,Db,ba;try{ej=RO(aT);}catch(e){return null;}Dw=IPCC.aN.map(bE,function(hx){Db=aT.aH.transformPagePointToWindow(new IPCC.Web.UI.Point(hx.x,hx.y),true);ba=aaJ(aT,Db.x,Db.y,ej);return{clientX:ba.x,clientY:ba.y};});return Dw;}else{return null;}};this.aqJ=function(){var K=0;for(K=0;K<aB.length;K++){G.co(K);}Au();mG(true);};this.co=function(aM){var aX;if(aB[aM].bV){aX=document.getElementById(aB[aM].bV);}G.wz(aX,aM);};this.wz=function(aX,aM){if(kZ!==null){return;}if(aX&&aX.aH&&aX.aH.gj()===true){var bb=aX.aH;bb.display();aB[aM].fL=true;var sR=false;for(var aK=0;aK<db.length;aK++){if(db[aK]===aM){sR=true;}}if(sR===false){db.push(aM);}if(cX===IPCC.ViewMode.SinglePage){var lz= -1;if(Array.prototype.indexOf){lz=kH.indexOf(aM);}else{lz=IPCC.Web.hG(kH,aM);}if(lz!== -1){kH.splice(lz,1);}}}};this.zg=function(aM,O){var aX;if(aB[aM].bV){aX=document.getElementById(aB[aM].bV);}if(aX&&aX.aH){aX.aH.zg(O);}};this.pz=function(aM){var aX;if(aB[aM].bV){aX=document.getElementById(aB[aM].bV);}if(aX&&aX.aH){aX.aH.pz();}};this.ZD=function(dX){var nT=false;if(IPCC.Web.mQ.length>0){if(Array.prototype.indexOf){if(IPCC.Web.mQ.indexOf(dX)>=0){return true;}}else{if(IPCC.Web.hG(IPCC.Web.mQ,dX)>=0){return true;}}}return nT;};var nz='';this.qv=function(H){nz=H;};this.ht=function(){return nz;};this.ai=function(aC,C){try{var L=bP.getHandler(aC);if(L!==null){L(G,C);}}catch(e){G.T(aC+'Event',e);}};this.aA=function(dP){var L=bP.getHandler('propertyChanged');if(L){L(this,new IPCC.pR(dP));}};this.awM=function(L){bP.addHandler('currentPageChanged',L);};this.azw=function(L){bP.removeHandler('currentPageChanged',L);};this.aaI=function(){return bd.style.cursor||'auto';};this.anN=function(H){bd.style.cursor=H||'auto';};this.VU=function(){return dz;};this.Mg=function(H){IPCC.aJ.iY(H,'value',IPCC.Web.UI.MouseTool);var ox=false;if(dz!==H){jW=null;dz=H;switch(dz){case IPCC.Web.UI.MouseTool.HandPan:bf=IPCC.an.HandOpen;bd.style.cursor=IPCC.an.es(bf);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:G.yn();bf=IPCC.an.Text;bd.style.cursor=IPCC.an.es(bf);break;case IPCC.Web.UI.MouseTool.None:bf=IPCC.an.None;bd.style.cursor=IPCC.an.es(bf);break;case IPCC.Web.UI.MouseTool.Magnifier:bf=IPCC.an.Magnifier;bd.style.cursor=IPCC.an.es(bf);break;case IPCC.Web.UI.MouseTool.RectangleZoom:bf=IPCC.an.RectangleZoom;bd.style.cursor=IPCC.an.es(bf);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:bf=IPCC.an.AddRectangleMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.ez(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:bf=IPCC.an.AddRectangleRedactionMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.ez(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:bf=IPCC.an.AddEllipseMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.ez(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:bf=IPCC.an.AddLineMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.qF()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:bf=IPCC.an.AddStampMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.ez(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:bf=IPCC.an.AddImageStampMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.ez(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:bf=IPCC.an.AddImageStampMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.ez(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:bf=IPCC.an.AddTextMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.ez(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:bf=IPCC.an.AddTextMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.ez(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:bf=IPCC.an.AddFreehandLineMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.nZ()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:bf=IPCC.an.AddPolylineMark;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.lP(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:bf=IPCC.an.EditMarks;bd.style.cursor=IPCC.an.es(bf);ox=true;jW=function(){return[new IPCC.nK(IPCC.Web.UI.MarkType.Text)];};break;default:bf=IPCC.an.None;bd.style.cursor=IPCC.an.es(bf);break;}var K=0;for(K=0;K<aB.length;K++){var bb;if(aB[K].bV){var aX=document.getElementById(aB[K].bV);if(aX){bb=aX.aH;}}if(bb){if(ox===true){bb.IY(jW());}else{bb.set_mouseTool(IPCC.Web.UI.MouseTool.None);}}}this.aA('mouseTool');}};this.asg=function(){return Bz;};this.aAl=function(bool){Bz= ! !bool;};this.zp=function(){return uQ;};this.Mv=function(H){if(uQ!==H){uQ=H;var K=0;for(K=0;K<db.length;K++){var aX;var bb;aX=document.getElementById(aB[db[K]].bV);bb=aX.aH;if(bb){bb.set_markHandleMode(uQ);this.wz(aX,K);}}this.aA('markHandleMode');}};this.iz=function(){return uv;};this.yW=function(H){if(uv!==H){uv=H;var K=0;for(K=0;K<db.length;K++){var bb;if(aB[db[K]].bV){bb=document.getElementById(aB[db[K]].bV).aH;}if(bb){bb.set_textRequired(uv);}}this.aA('textRequired');}};this.arw=function(){return hI;};this.anE=function(H){if(H<0){H=0;}if(hI!==H){hI=H;this.aA('maxPrefetch');}};this.asQ=function(){return EC;};this.azT=function(H){if(EC!==H){EC=H;this.aA('displayPagesWhenScrolling');}};this.asv=function(){return wA;};this.amo=function(H){if(H<0){H=0;}if(wA!==H){wA=H;this.aA('maxOutOfViewDisplay');}};this.arQ=function(){return Ep;};this.aqx=function(H){if(H<0){H=0;}if(Ep!==H){Ep=H;this.aA('scrollDisplayThreshold');}};this.asX=function(){return eP;};this.aoo=function(H){if(eP===H){return;}eP=H;if(ak===''||ak.clientHeight<=0||cX===IPCC.ViewMode.SinglePage){this.aA('pageLayout');return;}var BC=ce;var IJ=cX;if(cX===IPCC.ViewMode.EqualWidthPages||cX===IPCC.ViewMode.EqualFitPages){G.NG(IPCC.ViewMode.Document);}ak.scrollLeft=0;ak.scrollTop=0;var K=0;var aX;if(eP===IPCC.PageLayout.VerticalScrollDirection){if(md){md.setAttribute('style',acX);}zD.insertBefore(kP,md);for(K=0;K<aB.length;K++){aX=document.getElementById(aB[K].bV);aX.style.display='block';if(eb>0){aX.style.margin=gU+'px auto '+ih+'px auto';}}bd.style.margin='0px '+jt+'px 0px '+hY+'px';ak.scrollLeft=(hb-ak.clientWidth)/2+jt+nP;}else{if(md){md.setAttribute('style',adA);}zD.removeChild(kP);for(K=0;K<aB.length;K++){aX=document.getElementById(aB[K].bV);aX.style.display='inline-block';if(eb>0){aX.style.margin=gU+'px '+jt+'px '+ih+'px '+hY+'px';}}bd.style.margin='0px';ak.scrollTop=(gb-ak.clientHeight)/2+gU+pp;}if(IJ===IPCC.ViewMode.EqualWidthPages){G.NG(IPCC.ViewMode.EqualWidthPages);}else if(IJ===IPCC.ViewMode.EqualFitPages){G.NG(IPCC.ViewMode.EqualFitPages);}this.rI(BC);mG(true);this.aA('layout');};this.asx=function(){return cX;};this.NG=function(H,fk){fk=fk||IPCC.ScaleTrigger.ViewMode;if(cX===H){return;}cX=H;if(ak===''||ak.clientHeight<=0){this.aA('viewMode');return;}var BC=ce;this.rI(BC);if(cX===IPCC.ViewMode.Document){var jL=1;var aS=eb;var bI=fR;if(jp(qP)===true){aS=fR;bI=eb;}if(eP===IPCC.PageLayout.VerticalScrollDirection){jL=(ak.clientWidth-(jt+hY+nP+pq))/aS;}else{jL=(ak.clientHeight-(gU+ih+pp+rk))/bI;}lu(jL,true,undefined,undefined,undefined,undefined,fk);}else{Yb(fk);}this.rI(BC);this.aA('viewMode');BB(dF,true);mf(dF,true);};var qP=0;this.arE=function(){return qP;};this.anT=function(H){if(qP!==H){qP=H;var K=0;for(K=0;K<aB.length;K++){if(aB[K].If===0){aB[K].gR=qP;}}this.aA('pageRotation');}};this.Tw=function(bC){var dJ;if(arguments.length>0){if(!isNaN(bC)){dJ=bC;}else{dJ=ce;}}else{dJ=ce;}for(var K=0;K<aB.length;K++){if(dJ===K){return aB[K].gR;}}return 0;};var lp=false;this.dU=function(){return lp;};this.hX=function(H){if(typeof H!=="boolean"){return;}if(H===lp){return;}lp=H;};this.ary=function(){return YT;};this.aAk=function(H,stampImages,vZ,uh){if(YT!==H){YT=H;var K=0;for(K=0;K<aB.length;K++){if(aB[K].aS>0){aB[K].bH.ahB(H,K,aB[K].aS,aB[K].bI,null,stampImages,vZ,uh);aB[K].zs=false;}else{aB[K].bH.ahB(H,K,eb,fR,null,stampImages,vZ,uh);aB[K].zs=true;}}this.aA('annotationXmlDom');}};var ni;this.uV=function(H){ni=H;};this.mN=function(){return ni;};var pF=false;this.mI=function(){return pF;};this.qZ=function(H){if(typeof H!=="boolean"){return;}if(H===pF){return;}pF=H;IPCC.aN.forEach(aB,function(cz,K){var bb;if(aB[K].bV){bb=document.getElementById(aB[K].bV).aH;if(bb){bb.qZ(pF);}bb=undefined;}});};this.anm=function(H){if(Ho!==H){Ho=H;this.aA('loadingContent');}};this.auk=function(){return Ho;};this.aup=function(){var afj=new IPCC.Web.UI.ImGearPageCollection();var K=0;for(K=0;K<db.length;K++){afj.ahT(aB[db[K]].aQ);}return afj;};this.asK=function(aM){if(aB[aM]){return aB[aM].bV;}};this.nY=function(){return nC;};this.sJ=function(H){nC=H;};this.ia=function(){return mv;};this.sm=function(H){mv=H;};this.Ti=function(aW,CI,Ca){var G=this;if(aW.mH()>0||aW.mj()>0){CI(aW.mH(),aW.mj());return;}aW.requestPageAttributes(function(bN,cN){if(aB[aW.get_pageNumber()].zs===true&&bN!==eb){var iq=bN/eb;var bH=G.gS(aW);if(bH){ahy(bH,iq);}}aB[aW.get_pageNumber()].zs=false;CI(bN,cN);},function(fK){Ca(fK);});};this.axf=function(){if(va===true){return;}va=true;this.ed(kP,'pccHidden');BB(dF,true);mf(dF,true);};this.ari=function(){if(va===false){return;}va=false;this.jX(kP,'pccHidden');};this.atE=function(){return va;};this.jX=function(bJ,tG){var Ko=new RegExp('(?:^|\\s)'+tG+'(?!\\S)','g');if(bJ.className.match(Ko)===null){bJ.className=bJ.className+' '+tG;}};this.ed=function(bJ,tG){var Ko=new RegExp('(?:^|\\s)'+tG+'(?!\\S)','g');bJ.className=bJ.className.replace(Ko,'');};this.asS=function(){return oX;};this.aAd=function(H){oX=H;};this.ase=function(){return iu;};this.apu=function(H){if(iu===H){return;}var O,du,wk;if(iu){O=iu.get_mark();wk=dF[O.get_markID()];du=oX(O,{isSelected:true},(wk)?wk.du:undefined);if(wk){Fv(O,dF,du);}}O=du=wk=undefined;iu=H;if(iu){O=iu.get_mark();wk=dF[O.get_markID()];du=oX(O,{isSelected:true},(wk)?wk.du:undefined);if(wk){Fv(O,dF,du);}}mf(dF,true);};this.aAy=function(Xz){var ky=yH();IPCC.aN.forEach(Xz,function(Lg){var bW=dF[Lg];if(bW){var nc=oX(bW.O,{isSelected:(bW.O.get_conversation()===iu)},bW.du);if(!IPCC.aN.wf(nc)){throw new Error(nc+' is not a valid HTMLElement');}if(nc!==bW.du){Fv(bW.O,dF,nc);}}});mf(dF,true,ky);};this.initialize=function(){var as=this.ht();var K;for(K=as.childNodes.length-1;K>=0;K--){if(as.childNodes[K].tagName!=='INPUT'){as.removeChild(as.childNodes[K]);}}this.jP.add_documentAdded(aav);this.jP.add_pageAdded(Lz);this.jP.add_pageRemoved(Mh);this.Ld(true);as.aH=this;aeQ();var SB='webkit moz o'.split(' '),vv='';if(bd.style.animationName!==undefined){HH='animationend';Dq='transitionend';return;}for(K=0;K<SB.length;K++){if(bd.style[SB[K]+'Animation']!==undefined){vv=SB[K];HH=vv+'AnimationEnd';Dq=vv+'TransitionEnd';break;}}};this.avG=function(){md=document.createElement('div');var BM=document.createElement('div'),agk=document.createElement('div'),lZ=document.createElement('button'),yz=document.createElement('span'),gA=new Date(),JY=gA.getFullYear(),PE='?utm_source=rv&utm_medium=rv&utm_campaign=rv'+JY,ame=function(){G.jX(BM,'open');},acm=function(){G.ed(BM,'open');};lZ.innerHTML='&#215;';lZ.setAttribute('type','button');agk.innerHTML='<h3>Prizm Content Connect v10.4.1029.6471</h3><p>Prizm Content Connect is a web based online document viewer and can be embedded into any web page or linked from any page. Learn more about Prizm Content Connect at <a href="http://www.accusoft.com'+PE+'">www.accusoft.com</a>.</p><p>&copy; '+JY+' Accusoft - All Rights Reserved.</p>';BM.className='pccPageListAboutModal';BM.appendChild(lZ);BM.appendChild(agk);element.appendChild(BM);yz.setAttribute('style',''+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAvlJREFUeNp0kk9IHGcYxp95Z76Zb/bbT8xuFXdd3QXBquTmoX/EWgoe7MmI9laKZ2/SemlDaRsIRG9JLz30kFx6Smkh5lQs/WMXehHciEiVKllYdHdmcGeZcXe/b3pIWppoHniO7+/9wfsaS0tLuCoXFxcYHh7+tq+vb7nZbPpEZJim2ZskyR+7u7tv+74PIQSSJHlhzqpWq1cC4zhGFEW3hRALrutei+MY3W4XqVTqrWKx+L3neTeCIIBt2y9AzYmJCTiOc6lSSoRh6Hme97BUKq0kSWJordHpdNDf3z+WSqVe833/sRACruuCcw7OOYyNjY1Ldv9ulFKiUqlgf3//w5mZmfutVgtaawAA5xzVanUtCIL1fD4PIoLWGlaxWLwE1FrDMAzYtm3mcrnC4eHhg+3t7denp6c/9X0fANButzE0NHSHiPbK5fIjpRQYY6AwDPGqep63GkXR38vLy+9GUfTZwcHBr5lMBkmSQCmFbreLwcHBH1qt1sTOzg6Ojo5AeHU+NgzjThiGkFL+uLCwYG1tbb1zcnJSkVL+9wlaa3NxcfGn2dnZzOjo6NVAIvocwDoRQQiBs7OzT4QQ3fHxcezt7a2YpgnLsgAAURSBiAYmJye/azabMOfn51/m3TMMY822bSilolqtthpFUeX8/PzG2NgYPz09/SUIgsrAwMAHnU4HRM+cHMcZ4Zz3Wy9d965t2ytKKcRxjDAMn8ZxvJROp+/29PRACIFCoXBzc3PzluM4X5VKpZtBEJw3Go37pmnWc7nc7/83fGhZ1ke+7//m+77SWl9zHCfb29tbJCIkSQKtNfL5/HthGP5ZrVa/SafTFaXUg2w2mxkZGfkCwFMLgAXgZwBTRPSEiOaCIAjb7fabtm2PMsYKrutOcc6nGWPStm3Mzc09Oj4+/pox9lc2m/2SMSY9z1ur1WrrFoDV59DrSqknQghwzlGv18uGYZSTJIHrupBSMiJ6gzE2JaVczOfzK0SERqPxuF6vv29ZFkzTxD8DAOIqXOXDxS7hAAAAAElFTkSuQmCC)'+' no-repeat;'+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAB3dJREFUeNqkl0tsG9cVhv97586T5FAULVKibFmiHAu2E7R2ZMZtVTtJi3ahjV9Igy4CxAW0CQIvEvQBZOdFs+imRbsKUBe2gyBujcLOC0lTx5WFNrCMMorhGHJb2YJMPWlxRHKGM3d4Z7oRCVkVHdm9wFlwMMPz4Zzz//deMjIygkdd9XodyWTyb6qqHnRdt0gplVq8qkqSZFiWdbRYLP7ZcRyEYQhCyKZzkYMHDz4yoO/7iMVih3K53JUwDOH7/oZJwzCEJEnQNI3fvHkzNzk5OSHLMiRJ2nQuqbe3F4SQRwpJkmBZ1rSu6/9Kp9PHPM9rmSAIAhBCJNM0h1dWVs7W63VHURRIkrSpIMPDw3jcxTnH1q1bf7V9+/bXbNtu2bogCKDrOsIwvDo5OXlwcXERiqJsKgd91Oo1glKKIAhw586d113X/cAwDARBsHESSuG6Lhhj381kMu/4vg/f95vwQoiWIfX09KBer28qhBAP/A7DEJRSeJ73YSKR+JGiKIlW80gIaczuk4qiMM75Z5IkQVVV6LoOVVU3DJbL5TZV6jAMm0CNpSgKyuUyRkdHLdd1jw4ODl4TQsgPE02tVkNfX98bsVjsP9PT038wTRO6rkMIsWFetm/fvk0DBkHwgAIlSYIsy1hZWcGZM2e+oJSeOHDgwNlSqYQwDDesYhiGsG0bpmme1jRt1nGcT1RVRUPd679jlUrlsQHDMIQsyzh27BgqlQry+fy5/v7+PfF4/OflcvmBaq+FFEKAUoq+vr535+bmnq5Wq1Plchme5/2PBZHTp08/NuDq898YhvGxLMsfnDp1CpOTkxgZGfm4vb39B5VKZUPIhjg0TQNj7HY+nx8cGxurWJYFXdcfFBj+v/U2IeRV27bPAciePHkSnZ2dmJiYeEFRlClN075W2WEY7hwYGLgQiURACIGqqlAUpRnS4cOHN02zTiSXABxfbZvmOM73u7u7f9/X11c/f/68VywW/7579+6fhGFIhRAtlc05h2ma/el0OgPgfU3TkEqlkEgkkEgkHhvwMwA/XFeRVKVS2d/T03NO13WMjo7OdnZ2TnV0dBzlnLfeawmB53nIZDJPq6rqz83NXU0mk4hEIojFYo8MGKGUXgUw1OKVbkrp2729vda1a9cwMTHxZSKR0Lq7u4dc133oIYFzjvb29u9xzm+Vy+WbQgg4jrN5QEJInBDyD0LI3hYzVZZl+XnXdb9aWFhANBrFzMwMLMv6a39//wFd13d4ntey1Q0fzGazxzjnH929e3d2dnZ20yLZAmCcELJnfcsJIVAUZVEI8Q3Hccanp6cxNTWFvXv34vjx4+js7MSNGzdetG17WtO0Df2xIRrOORzHof39/Zd0Xe8uFoubAuwHkAfwxHo4Xdeh6/pHCwsL6Vu3bt11HCcthDAB4P79+0gmk0ilUlheXl65ffv2C7Isi43MeC2k4zhgjHUODQ19fujQoeTXAQ4AuA5g6/qWGIaBYrF4Znx8/MTS0tJLyWTyK8bYfFtb2/S2bdtuGoZxOQiC12q1GiKRCABcm5mZeVmW5Zaz2PjfSqUCxlj7wMBAD3sI3FMAxgCYjY8ppc1Nf2VlxV1eXk60tbV9sWXLlnQQBPB9H5qmtRmG0SaE2G0YxnO7du1K5fP5nxWLRdTr9bOKojyZyWR+allWE7RxPqzVapifn3/XcZxfApgwTbOlSJ4BcDUMwyhjDIwxCCHgeV5o2zYcx4HneXI8Hh8wDCPKOW/OY2PHaRwuMpnMdyzLKly8ePGfqqoiEol8qqpqzjCMJwCAMYZyuVwqFApvhGE4vLy8/EfTNJd6e3vDVCplbLTVfRvAKACJEBK4rsuFEJoQoumDDZBWs7R2TlVVRb1ex9jY2LcWFhY+X21jx86dO//CGNOKxeII53xU0zR0dXW90tXV9SaAqO/7KBQKr69v8dCqCUurQ0s9zxuZmZn5MhaL/VjTtEFJkvaqqppYVS+CIGjGemBCCFzXhaZpOHLkyMULFy7kXNed3rFjx1K5XP5mEAQwTTOSyWR+G4/HXwmCALIsw3VdLC4unrp3796v1wI+C+AyALL29pZOp8uO40xYljXhui5KpZIK4Kmurq5ngiDI6bo+qKrqLsYYkWW5WdlGqxv2Ua1WU9ls9rJlWYMdHR2lWCx2VFGUV9va2p6llCIMQwghUCwWLzmO87Jt28uyLKMBOAzg/TWw0wDep5T+yfO8K7FYDNVqFYwxAPBc173ued71paWl31FKQSntzGQy+znng9FoNMcY28cYS8my3KykbdvIZrNZz/Nuua4bpFKprrWWU61WC9Vq9cT8/Pwn8Xi8eWdhAF4E8A6AAoC3AHwIYHzt3ttw+YYQJEkCpRSapkEIgSAI5jnn75VKpffq9To454qqqnsopYPRaHQ/gEFVVfd4nqfIspw2DAOe5yEIAnDOUSqV3rRt+xeKokBVVVBKUa/Xm4BbADwH4MrjnLfWXqIadkEp5b7v54UQed/336rVamhvb++o1Wr7NE0bBJCLx+PPu657o1AovEQp/Xc0Gt3wvvzfAQC0fOWy6L2jqgAAAABJRU5ErkJggg==)'+' no-repeat 0% 0% / 20px');yz.style.width='20px';yz.style.height='14px';yz.style.display='inline-block';yz.style.position='relative';yz.style.marginRight='5px';yz.style.top='3px';md.appendChild(yz);md.innerHTML+='Prizm Content Connect v10.4.1029.6471';if(eP===IPCC.PageLayout.HorizontalScrollDirection&&cX!==IPCC.ViewMode.SinglePage){md.setAttribute('style',adA);}else{md.setAttribute('style',acX);}zD.appendChild(md);if(!md.addEventListener){md.attachEvent('onclick',ame);}else{md.addEventListener('click',ame,false);}if(!lZ.addEventListener){lZ.attachEvent('onclick',acm);}else{lZ.addEventListener('click',acm,false);}acS=md.offsetHeight;};this.PV=function(){return iK;};this.Ld=function(H){iK=H;this.aA('enabled');};this.ayJ=function(){if(ce+1<aB.length){G.rI(ce+1);}};this.aAv=function(){var VQ=ce-1;if(VQ<0){VQ=0;}G.rI(VQ);};function Bm(C){IPCC.Web.UI.ao.removeHandler(C.target,HH,Bm);IPCC.Web.UI.ao.removeHandler(C.target,Dq,Bm);if(KU>ce){G.ed(C.target,'pccNextPageIn');G.ed(C.target,'pccPreviousPageIn');G.ed(C.target,'pccCurrentPage');G.ed(C.target,'pccPageBack');G.ed(C.target,'pccPageForward');G.jX(C.target,'pccNextPage');}else if(KU<ce){G.ed(C.target,'pccNextPageIn');G.ed(C.target,'pccPreviousPageIn');G.ed(C.target,'pccCurrentPage');G.ed(C.target,'pccPageBack');G.ed(C.target,'pccPageForward');G.jX(C.target,'pccPreviousPage');}G.ed(bd,'pccPageListContainerPageChanging');ak.style.overflow='auto';kZ=null;bd.style.overflow='hidden';var lJ=IPCC.aN.filter(dF,function(el){return el.bC===ce+1;});Nm(lJ);setTimeout(function(){mG(true);},60);};this.rI=function(aM){var Jc=ce;var lJ;if(cX===IPCC.ViewMode.SinglePage){rj=aM;ee=aM;iU=aM;lJ=IPCC.aN.filter(dF,function(el){return el.bC!==aM+1;});Jj(lJ);}else{var aW=document.getElementById(aB[aM].bV);wr=true;if(eP===IPCC.PageLayout.VerticalScrollDirection){ak.scrollTop=aW.offsetTop;}else{ak.scrollLeft=aW.offsetLeft;}}if(ce!==aM){ce=aM;var C=new IPCC.PageEventArgs();C.imGearPage=G.get_currentPage();C.pageIndex=ce;C.pageNodeID=aB[ce].bV;G.ai('currentPageChanged',C);if(cX===IPCC.ViewMode.SinglePage){var gZ=document.getElementById(aB[ce].bV);var sA=document.getElementById(aB[Jc].bV);if(gZ===null){gZ=fv({overflow:'hidden',position:'absolute',margin:'0px'});gZ.className='pccPageListItem pccCurrentPage';kH.push(ce);if(eb>0){if(jp(qP)===true){gZ.style.width=fR*cc*SCREEN_RESOLUTION/aB[ce].hD+'px';gZ.style.height=eb*cc*SCREEN_RESOLUTION/aB[ce].hn+'px';}else{gZ.style.width=eb*cc*SCREEN_RESOLUTION/aB[ce].hn+'px';gZ.style.height=fR*cc*SCREEN_RESOLUTION/aB[ce].hD+'px';}}else{gZ.style.width=bd.clientWidth-jt-hY+'px';gZ.style.height=bd.clientWidth*0.8+'px';}gZ.style.display='block';gZ.setAttribute('id',aB[ce].bV);bd.appendChild(gZ);}if(Dq.length>0){ak.style.overflow='hidden';bd.style.width=gZ.style.width;bd.style.height=gZ.style.height;bd.style.overflow='visible';if(kZ!==null){IPCC.Web.UI.ao.removeHandler(kZ,HH,Bm);IPCC.Web.UI.ao.removeHandler(kZ,Dq,Bm);if(KU>ce){this.ed(kZ,'pccNextPageIn');this.ed(kZ,'pccPreviousPageIn');this.ed(kZ,'pccCurrentPage');this.ed(kZ,'pccPageForward');this.ed(kZ,'pccPageBack');this.jX(kZ,'pccNextPage');}else if(KU<ce){this.ed(kZ,'pccNextPageIn');this.ed(kZ,'pccPreviousPageIn');this.ed(kZ,'pccCurrentPage');this.ed(kZ,'pccPageForward');this.ed(kZ,'pccPageBack');this.jX(kZ,'pccPreviousPage');}}IPCC.Web.UI.ao.addHandler(sA,HH,Bm);IPCC.Web.UI.ao.addHandler(sA,Dq,Bm);kZ=sA;KU=Jc;this.jX(bd,'pccPageListContainerPageChanging');if(ce>Jc){this.jX(sA,'pccPageForward');this.ed(gZ,'pccPageBack');this.ed(gZ,'pccPreviousPage');this.ed(gZ,'pccPreviousPageIn');this.ed(gZ,'pccNextPage');this.jX(gZ,'pccCurrentPage');this.jX(gZ,'pccNextPageIn');}else{this.jX(sA,'pccPageBack');this.ed(gZ,'pccPageForward');this.ed(gZ,'pccPreviousPage');this.ed(gZ,'pccNextPage');this.ed(gZ,'pccNextPageIn');this.jX(gZ,'pccCurrentPage');this.jX(gZ,'pccPreviousPageIn');}}else{bd.style.width=gZ.style.width;bd.style.height=gZ.style.height;if(ce>Jc){this.ed(sA,'pccNextPage');this.ed(sA,'pccCurrentPage');this.jX(sA,'pccPreviousPage');}else{this.ed(sA,'pccPreviousPage');this.ed(sA,'pccCurrentPage');this.jX(sA,'pccNextPage');}this.ed(gZ,'pccPreviousPage');this.ed(gZ,'pccNextPage');this.jX(gZ,'pccCurrentPage');lJ=IPCC.aN.filter(dF,function(el){return el.bC===aM+1;});Nm(lJ);setTimeout(function(){mG(true);},60);}}}};this.axi=function(){if(aB.length>0){G.rI(0);}};this.aym=function(){if(ce<aB.length-1){G.rI(aB.length-1);}};this.aAx=function(dA){if(va===false){return "CommentsPanelClosed";}var eR=dF[dA.get_mark().get_markID()];if(!eR){return "ConversationDivDoesNotExist";}if(cX===IPCC.ViewMode.SinglePage&&eR.bC-1!==ce){return "SinglePageModePageNotShown";}var aW=document.getElementById(aB[eR.bC-1].bV);if(aB[eR.bC-1].fL===false||aW===undefined||aW.aH===undefined||aW.aH===null||aW.aH.gj()===false){return "PageOutOfView";}var F=dA.get_mark().get_boundingRectangle();var sa=aW.aH.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x,F.y),true);var AZ=aW.aH.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x+F.width,F.y),true);sa.x=bd.offsetWidth;AZ.x=bd.offsetWidth+wR();G.adG(aW.offsetTop,aW.offsetLeft,sa,AZ);return "Success";};this.aAG=function(aM,F){if(cX===IPCC.ViewMode.SinglePage&&aM!==ce){return true;}var aW=document.getElementById(aB[aM].bV);if(aB[aM].fL===false||aW===undefined||aW.aH===undefined||aW.aH===null||aW.aH.gj()===false){return false;}var sa=aW.aH.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x,F.y),true);var AZ=aW.aH.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x+F.width,F.y+F.height),true);G.adG(aW.offsetTop,aW.offsetLeft,sa,AZ);return true;};this.azf=function(aoh,apv){ak.scrollTop+=Math.round(apv);ak.scrollLeft+=Math.round(aoh);};this.adG=function(aye,ayF,sa,AZ){var akG=AZ.x-sa.x;var akj=AZ.y-sa.y;var dQ=new IPCC.Web.UI.Point(0,0);if(akG>ak.clientWidth){dQ.x=sa.x;}else{dQ.x=sa.x+(akG/2);}if(akj>ak.clientHeight){dQ.y=sa.y;}else{dQ.y=sa.y+(akj/2);}if(eP===IPCC.PageLayout.VerticalScrollDirection){ak.scrollTop=aye+dQ.y-ak.clientHeight/2;ak.scrollLeft=dQ.x-ak.clientWidth/2;}else{ak.scrollLeft=ayF+dQ.x-ak.clientWidth/2;ak.scrollTop=dQ.y-ak.clientHeight/2;}};this.aql=function(){if(G.jP.get_length()>0){G.jP.removeAllDocuments();}if(db.length>0){Gt++;setTimeout(function(){SK();},10);return;}};this.Wv=function(aM,bK,dk,eK){if(aB[aM]&&aB[aM].fL===true){var aX=document.getElementById(aB[aM].bV);if(aX&&aX.aH&&aX.aH.gj()===true){if(eK){IPCC.aJ.eK(eK,"selectText");var hl=aX.aH.xQ();var axA=hl.gY;var ayb=hl.cI;hl.gY=eK;hl.cI=eK;aX.aH.showTextSelection(bK,dk);hl.gY=axA;hl.cI=ayb;}else{aX.aH.showTextSelection(bK,dk);}}}};this.awy=function(){var K;for(K=0;K<db.length;K++){if(aB[db[K]].fL===true){var cA=document.getElementById(aB[db[K]].bV),aH=cA?cA.aH:undefined;if(aH&&aH.gj()===true){aH.showEmptyTextSelection(0);aH.extendTextSelection(undefined);aH.display();}}}};this.awK=function(aM){if(aB[aM]&&aB[aM].fL===true){var cA=document.getElementById(aB[aM].bV),aH=cA?cA.aH:undefined;if(aH&&aH.gj()===true){aH.showEmptyTextSelection(0);aH.extendTextSelection(undefined);aH.display();}}};this.yn=function(){var aW,bp,aH;aO=null;IPCC.aN.forEach(oZ,function(K){aW=aB[K];bp=document.getElementById(aW.bV);if(bp){aH=bp.aH;}if(aH){if(aH.gj()&&aH.Ci()){aH.showEmptyTextSelection(0);aH.extendTextSelection(undefined);if(aW.fL){aH.display();}}}aW=bp=aH=undefined;});};this.zo=function(aM,tY){var aX;var bb;aB[aM].gR+=tY;if(aB[aM].gR>=360){aB[aM].gR-=360;}if(aB[aM].gR<= -360){aB[aM].gR+=360;}if(aB[aM].bV){aX=document.getElementById(aB[aM].bV);}if(aX===undefined||aX===null){return;}bb=aX.aH;if(bb&&bb.gj()===false){aB[aM].If+=tY;return;}wr=true;if(bb&&bb.gj()===true){bb.rotate(tY);}var aS=0;var bI=0;var fb=eb;var eu=fR;if(jp(qP)===true){fb=fR;eu=eb;}if(jp(aB[aM].gR)===true){if(bb&&bb.gj()===true){aS=bb.get_pageHeight();bI=bb.get_pageWidth();}else{aS=fR;bI=eb;}}else{if(bb&&bb.gj()===true){aS=bb.get_pageWidth();bI=bb.get_pageHeight();}else{aS=eb;bI=fR;}}wr=true;if(cX===IPCC.ViewMode.SinglePage){aX.style.width=aS*cc*SCREEN_RESOLUTION/aB[aM].hn+'px';aX.style.height=bI*cc*SCREEN_RESOLUTION/aB[aM].hD+'px';if(aM===ce){bd.style.width=aS*cc*SCREEN_RESOLUTION/aB[aM].hn+'px';bd.style.height=bI*cc*SCREEN_RESOLUTION/aB[aM].hD+'px';}}else if(cX===IPCC.ViewMode.Document){aX.style.width=aS*cc*SCREEN_RESOLUTION/aB[aM].hn+'px';aX.style.height=bI*cc*SCREEN_RESOLUTION/aB[aM].hD+'px';var K=0;if(eP===IPCC.PageLayout.VerticalScrollDirection){if(aS*cc*SCREEN_RESOLUTION/aB[aM].hn>hb){hb=aS*cc*SCREEN_RESOLUTION/aB[aM].hn;}else if(aX.clientHeight>=hb-10){hb=0;for(K=0;K<aB.length;K++){aX=document.getElementById(aB[K].bV);if(aX.clientWidth>hb){hb=aX.clientWidth;}}}if(bI*cc*SCREEN_RESOLUTION/aB[aM].hD>gb){gb=bI*cc*SCREEN_RESOLUTION/aB[aM].hD;}}else{if(bI*cc*SCREEN_RESOLUTION/aB[aM].hD>gb){gb=bI*cc*SCREEN_RESOLUTION/aB[aM].hD;}else if(aX.clientWidth>=gb-10){gb=0;for(K=0;K<aB.length;K++){aX=document.getElementById(aB[K].bV);if(aX.clientHeight>gb){gb=aX.clientHeight;}}}if(aS*cc*SCREEN_RESOLUTION/aB[aM].hn>hb){hb=aS*cc*SCREEN_RESOLUTION/aB[aM].hn;}}}else{var hd;if(eP===IPCC.PageLayout.VerticalScrollDirection){hd=fb/aS*cc*SCREEN_RESOLUTION/aB[aM].hD;if(bb&&bb.gj()===true){bb.zoom(hd);}wr=true;aX.style.width=fb*cc*SCREEN_RESOLUTION/aB[aM].hn+'px';aX.style.height=hd*bI+'px';}else{hd=eu/bI*cc*SCREEN_RESOLUTION/aB[aM].hD;if(bb&&bb.gj()===true){bb.zoom(hd);}wr=true;aX.style.height=eu*cc*SCREEN_RESOLUTION/aB[aM].hD+'px';aX.style.width=hd*aS+'px';}if(fb*cc*SCREEN_RESOLUTION/aB[aM].hn>hb){hb=fb*cc*SCREEN_RESOLUTION/aB[aM].hn;}if(eu*cc*SCREEN_RESOLUTION/aB[aM].hD>gb){gb=eu*cc*SCREEN_RESOLUTION/aB[aM].hD;}}if(bb&&bb.gj()===true){wr=true;this.wz(aX,aM);setTimeout(function(){if(va===false){return;}var ky=yH();var lJ=IPCC.aN.filter(dF,function(el){return aM===el.bC-1;});BB(lJ);mf(lJ,true,ky);},0);}};this.aAO=function(tY){this.zo(ce,tY);Au();};this.aey=function(tY){var BC=ce;if(cX!==IPCC.ViewMode.SinglePage){this.rI(BC);}var jd=0;var jA=aB.length-1;var K;for(K=jd;K<=jA;K++){this.zo(K,tY);}if(cX!==IPCC.ViewMode.SinglePage){this.rI(BC);}};this.Eq=function(aM){IPCC.aJ.mE(aM,'pageIndex',0,aB.length-1);var aW=aB[aM];if(aW&&aW.bV&&(aW.uS===true||aW.hy===false)){var bM;var aX=document.getElementById(aW.bV);if(aX.aH){aX.aH.dispose();}VM(aX);bM=new IPCC.Web.UI.PageView(aX,false);if(bM){bM.set_autoUpdate(false);bM.qv(aX);bM.initialize();bM.set_imageHandlerUrl(aW.aR.oQ);bM.set_requireRequestsOptimize(nC);if(mv!==undefined){bM.set_serviceResponseTimeout(mv);}bM.set_scrollBars(IPCC.Web.UI.ScrollBars.None);Mb(bM,aW);Yj(bM);LZ(bM);Ww(bM);Wp(bM);}bM.set_textRequired(uv);bM.set_markHandleMode(uQ);bM.set_cursor(-1);bM.set_debug(_debug);bM.set_debugErrorLevel(kR);bM.hX(G.dU());if(ni){bM.set_resourcePath(ni);}if(jW){bM.IY(jW());}else{bM.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bM.qZ(G.mI());var jE=new IPCC.OpenPageEventArgs();jE.pageIndex=aW.aQ.get_pageNumber();jE.imGearPage=aW.aQ;jE.viewRotationDegreesClockwise=aW.gR;jE.pageNodeID=aW.bV;G.ai('pageOpening',jE);aW.uS=false;aW.hK=false;var Cs={encodedDocumentIdentifier:aW.aR.get_encodedDocumentIdentifier(),pageNumber:aM,artServiceOption:0,documentArtPage:aW.fJ,viewRotationDegreesClockwise:aW.gR};if(aW.bH){Cs.artPage=aW.bH;}if(aW.fJ){Cs.documentArtPage=aW.fJ;}bM.openPage(Cs);aW.hy=true;hj++;}};function Yb(fk,eA){if(eb<=0){return;}var fb=eb;var eu=fR;var dS=SCREEN_RESOLUTION/aB[0].hn;if(jp(qP)===true){fb=fR;eu=eb;dS=SCREEN_RESOLUTION/aB[0].hD;}var jL=1;if(eP===IPCC.PageLayout.VerticalScrollDirection){jL=(ak.clientWidth-wR()-(jt+hY+nP+pq))/(fb*dS);}else{jL=(ak.clientHeight-(gU+ih+pp+rk))/(eu*dS);}var vw;if(cc<=jL){vw=false;}else if(cc>jL){vw=true;}if(isNaN(jL)||jL<=0||Math.abs(jL)===Infinity){return;}cc=jL;hb=0;gb=0;var jd=0;var jA=aB.length-1;var ae=0;for(ae=jd;ae<=jA;ae++){var bb;if(aB[ae].bV){bb=document.getElementById(aB[ae].bV).aH;}var aX=document.getElementById(aB[ae].bV);var aS=fb;var bI=eu;if(aB[ae].aS>0){if(jp(aB[ae].gR)===true){aS=aB[ae].bI;bI=aB[ae].aS;}else{aS=aB[ae].aS;bI=aB[ae].bI;}}var hd=1;if(eP===IPCC.PageLayout.VerticalScrollDirection){hd=fb/aS*cc*dS;aX.style.width=fb*cc*dS+'px';aX.style.height=bI*hd+'px';if(fb*cc*dS>hb){hb=fb*cc*dS;}if(bI*hd*SCREEN_RESOLUTION/aB[ae].hD>gb){gb=bI*hd*dS;}}else{hd=eu/bI*cc;aX.style.height=eu*cc*dS+'px';aX.style.width=aS*hd*dS+'px';if(aS*cc*SCREEN_RESOLUTION/aB[ae].hn>hb){hb=aS*cc*dS;}if(eu*hd*dS>gb){gb=eu*hd*dS;}}if(bb&&aB[ae].fL===true&&bb.gj()===true){bb.zoom(hd);}if(bb&&aB[ae].fL===true&&bb.gj()===true){bb.display();}}Au(true);mG(true);setTimeout(function(){BB(dF);mf(dF);},0);G.ai('scaleChanged',{scaleType:(vw)?"scaledDown":"scaledUp",scaleTrigger:fk,fitType:eA,scaleFactor:cc});};function jp(ca){switch(ca){case 90:case 270:case-90:case-270:return true;default:return false;}};function fv(kE){var sT=document.createElement('div');var K;for(K in kE){if(kE.hasOwnProperty(K)){sT.style[K]=kE[K];}}return sT;};this.Sh=function(){if(sM===undefined||sM===null){sM=1;}var bX=this.ht().id.toString()+'_'+sM.toString();sM++;return bX;};this.Wm=function(){return this.jP;};this.gS=function(ZI){for(var gm=0;gm<aB.length;gm++){var fm=aB[gm];if(ZI===fm.aQ){return aB[gm].bH;}}return null;};function aav(aj,C){LK(C);};function LK(bj){var cB=bj.imGearDocument;var VW=G.Sh();cB.rg=VW;var dj=cB.get_pages();var cL=dj.get_length();if(cL>0){var xV=document.createDocumentFragment();for(var ae=0;ae<cL;ae++){var aW=dj.getPage(ae);if(!aW.aR){aW.aR=cB;}To(aW,xV);}bd.appendChild(xV);}};var apP=IPCC.aN.afz(function(){if(NM.length>0&&iK){var xV=document.createDocumentFragment();while(NM.length>0){To(NM.shift(),xV);}bd.appendChild(xV);BB(dF,true);mf(dF,true);if(G.jP.aji(0).eQ===aB.length){G.ai('allPagesAdded');}setTimeout(function(){mG(true);},60);}},10);function Lz(aj,C){if(C.imGearPage.get_pageNumber()===0){To(C.imGearPage);return;}NM.push(C.imGearPage);apP();};function Mh(aj,C){var dJ=C.imGearPage.get_pageNumber();var zi=C.imGearPage.aR.get_documentIdentifier();for(var ae=0;ae<aB.length;ae++){if(aB[ae].aQ.get_pageNumber()===dJ&&aB[ae].aQ.aR.get_documentIdentifier()===zi){var aX=document.getElementById(aB[ae].bV);bd.removeChild(aX);if(aX.aH){aX.aH.dispose();var lJ=IPCC.aN.filter(dF,function(el){return el.bC===aB[ae].dJ+1;});Jj(lJ);}var ow= -1;if(Array.prototype.indexOf){ow=db.indexOf(dJ);}else{ow=IPCC.Web.hG(db,dJ);}if(ow!== -1){db.splice(ow,1);}aB.splice(ae,1);}}};function To(bj,xV){var aW=bj;var Ec=aW.get_pageNumber();var az;var as=G.ht();var cB=null;var qu;var sl=[];var K=0;var aK=0;var cL=G.get_documents().get_length();for(aK=0;aK<cL;aK++){cB=G.get_documents().getDocument(aK);if(cB!==null){qu=cB.rg;if(qu===aW.aR.rg){break;}}}for(var da=0;da<aB.length;da++){if(aB[da].aR){cB=aB[da].aR;if(da===0){sl[K]=cB;K++;continue;}else if(aB[da-1].aR!==cB){sl[K]=cB;K++;continue;}}}for(da=aB.length-1;da>=0;da--){if(aB[da].aQ){if(aB[da].aQ===aW){return;}}}var rD=true;var fI;var TJ;var cs;for(da=0;da<aB.length;da++){fI=aB[da];if(fI.DG===1){if(aW.aR.rg===fI.zA){az=document.getElementById(fI.bV);fI.DG=0;TJ=fI.bV;rD=false;cs=fI;break;}}}var kn=false;for(da=aB.length-1;da>=0;da--){if(aB[da].aQ){if(aB[da].aQ.aR===aW.aR){kn=true;break;}}}if(bd===''){aeQ();}if(rD===true){TJ=aW.aR.rg+'_'+IPCC.Pagecounter.toString();IPCC.Pagecounter++;}var PN=TJ+'_'+'_pViewId';if(cX!==IPCC.ViewMode.SinglePage||Ec===0){if(cX!==IPCC.ViewMode.SinglePage){az=fv({overflow:'hidden',position:'relative'});az.className+=' pccPageListItem';}else{az=fv({overflow:'hidden',position:'absolute',margin:'0px'});az.className='pccPageListItem pccCurrentPage';kH.push(0);}if(eb>0){if(jp(qP)===true){az.style.width=fR*cc*SCREEN_RESOLUTION/aB[0].hn+'px';az.style.height=eb*cc*SCREEN_RESOLUTION/aB[0].hD+'px';}else{az.style.width=eb*cc*SCREEN_RESOLUTION/aB[0].hn+'px';az.style.height=fR*cc*SCREEN_RESOLUTION/aB[0].hD+'px';}}else{var alq=bd.clientWidth-jt-hY;if(alq>0){az.style.width=alq+'px';az.style.height=bd.clientWidth*0.8+'px';}}if(eP===IPCC.PageLayout.VerticalScrollDirection||cX===IPCC.ViewMode.SinglePage){az.style.display='block';if(eb>0){az.style.margin=gU+'px auto '+ih+'px auto';}}else{az.style.display='inline-block';if(eb>0){az.style.margin=gU+'px '+jt+'px '+ih+'px '+hY+'px';}}az.setAttribute('id',PN);}if(rD===true){cs=new IPCC.cz({page:aW});}atW(aW);aue(aW);avh(aW);cs.bV=PN;cs.aQ=aW;cs.zA=qu;cs.fL=false;cs.bH=new IPCC.Web.UI.ArtPage();cs.fJ=new IPCC.Web.UI.ArtPage();cs.gR=qP;aur(cs);avg(cs);auf(cs);aud(cs);avb(cs);auK(cs);atH(cs);aus(cs);atK(cs);auV(cs);cs.Ar=false;cs.aR=aW.aR;cs.hK=false;cs.dJ=Ec;var JH;var cA;if(rD){if(aB.length===0){bd.appendChild(az);aB.push(cs);}else{if(xV){if(cX!==IPCC.ViewMode.SinglePage){xV.appendChild(az);}aB.push(cs);}else{for(da=0;da<aB.length;da++){fI=aB[da];if(fI.zA===qu){if(fI.aQ){var XF=fI.aQ.get_pageNumber();if(Ec<XF){aB.splice(da,0,cs);cA=document.getElementById(fI.bV);bd.insertBefore(az,cA);JH=true;break;}}}}if(!JH){if(cX!==IPCC.ViewMode.SinglePage){bd.appendChild(az);}aB.push(cs);}}}}var RW=false;if(az&&as.clientWidth>0){var DO=as.clientWidth/(az.clientWidth+(az.clientLeft*2));var At=as.clientHeight/(az.clientHeight+(az.clientTop*2));if(aB.length<(DO*At)){RW=true;}}if(aB.length<2){var bM;bM=new IPCC.Web.UI.PageView(document.getElementById(PN),false);if(bM){bM.set_autoUpdate(false);bM.qv(document.getElementById(PN));bM.initialize();bM.set_imageHandlerUrl(aW.aR.oQ);bM.set_imGearPage(cs.aQ);bM.set_artPage(cs.bH);bM.set_documentArtPage(cs.fJ);bM.set_requireRequestsOptimize(nC);if(mv!==undefined){bM.set_serviceResponseTimeout(mv);}bM.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bM.set_textRequired(uv);bM.set_markHandleMode(uQ);bM.set_cursor(-1);bM.set_debug(_debug);bM.set_debugErrorLevel(kR);bM.hX(G.dU());if(ni){bM.set_resourcePath(ni);}if(jW){bM.IY(jW());}else{bM.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bM.qZ(G.mI());}Mb(bM,cs);LZ(bM);Ww(bM);Yj(bM);Wp(bM);var jE=new IPCC.OpenPageEventArgs();jE.pageIndex=cs.aQ.get_pageNumber();jE.imGearPage=cs.aQ;jE.viewRotationDegreesClockwise=cs.gR;jE.pageNodeID=cs.bV;G.ai('pageOpening',jE);bM.openPage({encodedDocumentIdentifier:aW.aR.get_encodedDocumentIdentifier(),pageNumber:aW.get_pageNumber(),artServiceOption:0,imGearPage:cs.aQ,artPage:cs.bH,documentArtPage:cs.fJ,viewRotationDegreesClockwise:cs.gR});cs.hy=true;hj++;}return az;};function mG(HO){if(hj>0||iK===false||kZ!==null){return;}var qD;var dI=aui(HO);if(dI>=0){qD=dI;}if(qD!==undefined&&qD>=0){if(qD<aB.length){atY(aB[qD]);}}};function aui(HO){Au();var kI;var hi=1;hi=wA;if(hi>hI){hi=hI;}if(HO===false){hi=0;}for(var ae=ee;ae<=iU;ae++){if(aB[ae].hy===false&&aB[ae].uS===false){if(aB[ae].hK===false&&kI===undefined){kI=ae;break;}else if(HO){var KT=document.getElementById(aB[ae].bV);if(aB[ae].fL===false){G.wz(KT,ae);}}}}if(Gt===0&&HO===true){Gt++;setTimeout(function(){if(iK===true){SK();}},60);}if(kI!==undefined){return kI;}else if(hI>0){var zF= -1;if(pU>=0){if(pU<Ep&&pU!==0){return UH(hI,hi);}else{zF=UH(hI,hi);if(zF=== -1){zF=Uh(hI,hi);}pU= -pU;return zF;}}else if(pU<0){if(pU> -Ep){return Uh(hI,hi);}else{zF=Uh(hI,hi);if(zF=== -1){zF=UH(hI,hi);}pU= -pU;return zF;}}}return-1;};function Uh(WF,hi){var kI;for(var ae=ee-1;ae>ee-1-WF;ae--){if(ae<0){continue;}if(aB[ae].hy===false&&aB[ae].uS===false){if(aB[ae].hK===false&&kI===undefined){kI=ae;break;}else if(ae>=ee-hi){var KT=document.getElementById(aB[ae].bV);if(aB[ae].fL===false){G.wz(KT,ae);}}}}if(kI!==undefined){return kI;}else{return(-1);}};function UH(WF,hi){var kI;for(var ae=iU+1;ae<iU+1+WF;ae++){if(ae>=aB.length){continue;}if(aB[ae].hy===false&&aB[ae].uS===false){if(aB[ae].hK===false&&kI===undefined){kI=ae;break;}else if(ae<=iU+hi){var KT=document.getElementById(aB[ae].bV);if(aB[ae].fL===false){G.wz(KT,ae);}}}}if(kI!==undefined){return kI;}else{return(-1);}};function SK(){Au();function aeF(ae,cl){var ow= -1;if(Array.prototype.indexOf){ow=cl.indexOf(ae);}else{ow=IPCC.Web.hG(cl,ae);}if(ow!== -1){cl.splice(ow,1);}if(cX===IPCC.ViewMode.SinglePage){var lz= -1;if(Array.prototype.indexOf){lz=kH.indexOf(ae);}else{lz=IPCC.Web.hG(kH,ae);}if(lz!== -1){kH.splice(lz,1);}}aB[ae].hK=false;aB[ae].hy=false;aB[ae].fL=false;var wj=document.getElementById(aB[ae].bV);if(wj&&wj.aH){wj.aH.dispose();var lJ=IPCC.aN.filter(dF,function(el){return el.bC===aB[ae].dJ+1;});Jj(lJ);if(cX===IPCC.ViewMode.SinglePage){wj.parentNode.removeChild(wj);}return ae;}return-1;};var Uj= -1;for(var ae=0;ae<oZ.length;ae++){if(iK===false||((oZ[ae]<ee-hI||oZ[ae]>iU+hI)&&aB[oZ[ae]].bV)){aeF(oZ[ae],oZ);}}for(ae=0;ae<db.length;ae++){if(iK===false||((db[ae]<ee-wA||db[ae]>iU+wA)&&aB[db[ae]].bV)){if(iK===false||((db[ae]<ee-hI||db[ae]>iU+hI)&&aB[db[ae]].bV)||document.documentMode===8){Uj=aeF(db[ae],db);if(Uj!== -1){break;}}else{var wj=document.getElementById(aB[db[ae]].bV);if(wj&&wj.aH){wj.aH.avu();}var aM=db[ae];var ow= -1;if(Array.prototype.indexOf){ow=db.indexOf(aM);}else{ow=IPCC.Web.hG(db,aM);}if(ow!== -1){db.splice(ow,1);}aB[aM].hK=true;aB[aM].hy=false;aB[aM].fL=false;var sR=false;for(var aK=0;aK<oZ.length;aK++){if(oZ[aK]===aM){sR=true;}}if(sR===false){oZ.push(aM);}}}}if(cX===IPCC.ViewMode.SinglePage){for(ae=kH.length;ae>=0;ae--){var MV=kH[ae];if(iK===false||((MV<ee-hI||MV>iU+hI)&&aB[MV].bV)){var ajW=document.getElementById(aB[MV].bV);ajW.parentNode.removeChild(ajW);kH.splice(ae,1);}}}if(Gt>0){Gt--;}if(iK===false&&db.length===0&&aB.length>0){aB=[];var as=G.ht();ak.removeChild(bd);as.removeChild(ak);return;}if(Uj!== -1){Gt++;setTimeout(function(){SK();},1000);}};function atY(aW){var bO;if(cX===IPCC.ViewMode.SinglePage&&document.getElementById(aW.bV)===null){var az=fv({overflow:'hidden',position:'absolute',margin:'0px'});az.className='pccPageListItem';kH.push(aW.dJ);if(aW.dJ>ce){G.jX(az,'pccNextPage');}else if(aW.dJ<ce){G.jX(az,'pccPreviousPage');}else{G.jX(az,'pccCurrentPage');}if(eb>0){if(jp(qP)===true){az.style.width=fR*cc*SCREEN_RESOLUTION/aB[0].hn+'px';az.style.height=eb*cc*SCREEN_RESOLUTION/aB[0].hD+'px';}else{az.style.width=eb*cc*SCREEN_RESOLUTION/aB[0].hn+'px';az.style.height=fR*cc*SCREEN_RESOLUTION/aB[0].hD+'px';}}else{az.style.width=bd.clientWidth-jt-hY+'px';az.style.height=bd.clientWidth*0.8+'px';}az.style.display='block';az.setAttribute('id',aW.bV);bO=az;bd.appendChild(az);}else{bO=document.getElementById(aW.bV);}if(bO===null){return;}var bM;bM=new IPCC.Web.UI.PageView(document.getElementById(aW.bV),false);if(bM){bM.set_autoUpdate(false);bM.qv(document.getElementById(aW.bV));bM.initialize();bM.set_imageHandlerUrl(aW.aR.oQ);bM.set_imGearPage(aW.aQ);bM.set_artPage(aW.bH);bM.set_requireRequestsOptimize(nC);if(mv!==undefined){bM.set_serviceResponseTimeout(mv);}bM.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bM.set_textRequired(uv);bM.set_markHandleMode(uQ);bM.set_cursor(-1);bM.set_debug(_debug);bM.set_debugErrorLevel(kR);bM.hX(G.dU());if(ni){bM.set_resourcePath(ni);}if(jW){bM.IY(jW());}else{bM.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bM.qZ(G.mI());}Mb(bM,aW);LZ(bM);Ww(bM);Yj(bM);Wp(bM);if(aW.hK===false){if(aW.aQ){var jE=new IPCC.OpenPageEventArgs();jE.pageIndex=aW.aQ.get_pageNumber();jE.imGearPage=aW.aQ;jE.viewRotationDegreesClockwise=aW.gR;jE.pageNodeID=aW.bV;G.ai('pageOpening',jE);var Cs={encodedDocumentIdentifier:aW.aQ.aR.get_encodedDocumentIdentifier(),pageNumber:aW.aQ.get_pageNumber(),imGearPage:aW.aQ,viewRotationDegreesClockwise:aW.gR};if(aW.bH){Cs.artPage=aW.bH;}if(aW.fJ){Cs.documentArtPage=aW.fJ;}bM.openPage(Cs);aW.hy=true;hj++;}}};function ahy(bH,iq){var bm;bH.forEachMark(function(O){switch(O.get_type()){case IPCC.Web.UI.MarkType.Line:var bE=O.get_points();var ba=bE.AQ(0);var ly=bE.AQ(1);bE.setPoint(0,new IPCC.Web.UI.Point(ba.x*iq,ba.y*iq));bE.setPoint(1,new IPCC.Web.UI.Point(ly.x*iq,ly.y*iq));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bm=O.get_rectangle();O.set_rectangle({x:bm.x*iq,y:bm.y*iq,width:bm.width*iq,height:bm.height*iq});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:bm=O.get_rectangle();O.set_rectangle({x:bm.x*iq,y:bm.y*iq,width:bm.width*iq,height:bm.height*iq});var ds=O.ds,iG;for(var i=0;i<ds.length;i++){iG=ds[i];iG.x=iG.x*iq;iG.y=iG.y*iq;iG.width=iG.width*iq;iG.height=iG.height*iq;}break;default:break;}});};function Mb(bM,aW){function QM(sender,evnt){var dJ=evnt.pageNumber;var zi=evnt.documentIdentifier;aW.aS=bM.get_pageWidth();aW.bI=bM.get_pageHeight();var hf=bM.get_pageXResolution();var gC=bM.get_pageYResolution();if(!isNaN(parseFloat(hf))&&isFinite(hf)){aW.hn=hf;}if(!isNaN(parseFloat(gC))&&isFinite(gC)){aW.hD=gC;}bM=null;for(var ae=0;ae<aB.length;ae++){if(iK&&aB[ae].aQ.get_pageNumber()===dJ&&aB[ae].aQ.aR.get_documentIdentifier()===zi){aB[ae].hy=false;aB[ae].hK=true;aB[ae].uS=false;if(cX===IPCC.ViewMode.SinglePage){var lz= -1;if(Array.prototype.indexOf){lz=kH.indexOf(ae);}else{lz=IPCC.Web.hG(kH,ae);}if(lz!== -1){kH.splice(lz,1);}}var sR=false;for(var aK=0;aK<oZ.length;aK++){if(oZ[aK]===ae){sR=true;}}if(sR===false){oZ.push(ae);}var lT=0;var nd=0;var aX=document.getElementById(aB[ae].bV);var bb=aX.aH;var fb;var eu;var VS;if(eb===0&&(ae===0||aB[0].uS===true)){if(aX.currentStyle){pp=parseInt(aX.currentStyle.borderTopWidth,10)||0;gU=parseInt(aX.currentStyle.marginTop,10)||0;nP=parseInt(aX.currentStyle.borderLeftWidth,10)||0;jt=parseInt(aX.currentStyle.marginLeft,10)||0;rk=parseInt(aX.currentStyle.borderBottomWidth,10)||0;ih=parseInt(aX.currentStyle.marginBottom,10)||0;pq=parseInt(aX.currentStyle.borderRightWidth,10)||0;hY=parseInt(aX.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var yD=document.defaultView.getComputedStyle(aX);pp=parseInt(yD.borderTopWidth,10)||0;gU=parseInt(yD.marginTop,10)||0;nP=parseInt(yD.borderLeftWidth,10)||0;jt=parseInt(yD.marginLeft,10)||0;rk=parseInt(yD.borderBottomWidth,10)||0;ih=parseInt(yD.marginBottom,10)||0;pq=parseInt(yD.borderRightWidth,10)||0;hY=parseInt(yD.marginRight,10)||0;}if(cX===IPCC.ViewMode.SinglePage){aX.style.margin=gU+'px 0px '+ih+'px 0px';bd.style.margin="0px auto";}else{if(eP===IPCC.PageLayout.VerticalScrollDirection){aX.style.margin=gU+'px auto '+ih+'px auto';}else{aX.style.margin=gU+'px '+jt+'px '+ih+'px '+hY+'px';bd.style.margin='0px '+jt+'px 0px '+hY+'px';}}eb=bb.get_pageWidth();fR=bb.get_pageHeight();fb=eb;eu=fR;var dS=SCREEN_RESOLUTION/aB[ae].hn;if(jp(aB[ae].gR)===true){eu=eb;fb=fR;dS=SCREEN_RESOLUTION/aB[ae].hD;}G.avG();if(cX===IPCC.ViewMode.SinglePage){var apa=(ak.offsetWidth-(jt+hY+nP+pq));var anO=(ak.offsetHeight-(gU+ih+pp+rk+acS));nM=apa/(fb*dS);VS=anO/(eu*dS);if(VS<nM){nM=VS;}bb.zoom(nM*dS);}else if(eP===IPCC.PageLayout.VerticalScrollDirection){nM=(ak.offsetWidth-IPCC.Web.oT()-(jt+hY+nP+pq))/(fb*dS);bb.zoom(nM*dS);}else{nM=(ak.offsetHeight-IPCC.Web.oT()-(gU+ih+pp+rk))/(eu*dS);bb.zoom(nM*dS);}lT=fb*nM*dS;nd=eu*nM*dS;aX.style.width=lT+'px';aX.style.height=nd+'px';if(cX===IPCC.ViewMode.SinglePage){bd.style.width=lT+'px';bd.style.height=nd+'px';}if(cX!==IPCC.ViewMode.SinglePage){for(var gm=0;gm<aB.length;gm++){if(aB[gm].fL===false&&gm!==ae){if(aB[gm].bV){aX=document.getElementById(aB[gm].bV);aX.style.width=fb*nM+'px';aX.style.height=eu*nM+'px';if(eP===IPCC.PageLayout.VerticalScrollDirection){aX.style.margin=gU+'px auto '+ih+'px auto';}else{aX.style.margin=gU+'px '+jt+'px '+ih+'px '+hY+'px';}}}}}cc=nM;aX.aH.display();db.push(0);}else{if(cX===IPCC.ViewMode.Document||cX===IPCC.ViewMode.SinglePage){if(jp(aB[ae].gR)===true){lT=bb.get_pageHeight()*cc*SCREEN_RESOLUTION/aB[ae].hn;nd=bb.get_pageWidth()*cc*SCREEN_RESOLUTION/aB[ae].hD;}else{lT=bb.get_pageWidth()*cc*SCREEN_RESOLUTION/aB[ae].hn;nd=bb.get_pageHeight()*cc*SCREEN_RESOLUTION/aB[ae].hD;}}else{var hd;var aS=bb.get_pageWidth();var bI=bb.get_pageHeight();fb=eb;eu=fR;if(jp(qP)===true){fb=fR;eu=eb;}if(jp(aB[ae].gR)===true){aS=bb.get_pageHeight();bI=bb.get_pageWidth();}if(eP===IPCC.PageLayout.VerticalScrollDirection){hd=fb/aS*cc*SCREEN_RESOLUTION/aB[0].hD;lT=fb*cc*SCREEN_RESOLUTION/aB[0].hn;nd=bI*hd;}else{hd=eu/bI*cc*SCREEN_RESOLUTION/aB[0].hn;nd=eu*cc*SCREEN_RESOLUTION/aB[0].hD;lT=aS*hd;}}if(lT!==Math.round(lT)){lT=Math.floor(lT*100)/100;}if(nd!==Math.round(nd)){nd=Math.floor(nd*100)/100;}if(aX.style.width!==lT+'px'||aX.style.height!==nd+'px'){if(eP===IPCC.PageLayout.VerticalScrollDirection){aX.style.width=lT+'px';aX.style.height=nd+'px';}else{aX.style.width=lT+'px';aX.style.height=nd+'px';}BB(dF,true);mf(dF,true);}}if(lT>hb){hb=lT;if(eP===IPCC.PageLayout.VerticalScrollDirection){ak.scrollLeft=(hb-ak.clientWidth)/2;}}if(nd>gb){gb=nd;if(eP===IPCC.PageLayout.HorizontalScrollDirection){ak.scrollTop=(gb-ak.clientHeight)/2;}}if(aB[ae].If>0){var UN=document.getElementById(aB[ae].bV).aH;if(UN){UN.rotate(aB[ae].If);UN.display();aB[ae].If=0;}}if(hj>0){hj=hj-1;}if(aB[ae].zs===true&&aB[ae].aS!==eb){var iq=aB[ae].aS/eb;var bH=G.gS(aB[ae].aQ);if(bH){ahy(bH,iq);}}aB[ae].zs=false;Au();var jE=new IPCC.OpenPageEventArgs();jE.pageIndex=evnt.pageNumber;jE.imGearPage=evnt.imGearPage;jE.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;jE.pageNodeID=aB[ae].bV;G.ai('pageOpened',jE);break;}}if(hj===0&&pm===null&&kZ===null){setTimeout(function(){mG(true);},60);}};bM.add_pageOpened(QM);};function LZ(bM){function auA(aj,aq){if(iK===false){return;}var AO;if(aq.pageNumber>=0){if(aB[aq.pageNumber].bV){AO=aB[aq.pageNumber].bV;}}aB[aq.pageNumber].uS=true;aB[aq.pageNumber].hy=false;aB[aq.pageNumber].hK=false;aB[aq.pageNumber].fL=false;var oy=new IPCC.ExceptionEventArgs();oy.exception=aq.exception;oy.pageIndex=aq.pageNumber;oy.pageNodeID=AO;G.ai('pageOpenFailed',oy);if(hj>0){hj=hj-1;if(hj===0){setTimeout(function(){mG(false);},60);}}};bM.add_pageOpenFailed(auA);};function Ww(bM){function atr(aj,aq){if(iK===false){return;}var C=new IPCC.PageEventArgs();C.pageIndex=aq.bC;C.imGearPage=aB[aq.bC].aQ;C.pageNodeID=aB[aq.bC].bV;aB[aq.bC].fL=true;var sR=false;for(var aK=0;aK<db.length;aK++){if(db[aK]===aq.bC){sR=true;}}if(sR===false){db.push(aq.bC);}if(cX===IPCC.ViewMode.SinglePage){var lz= -1;if(Array.prototype.indexOf){lz=kH.indexOf(aq.bC);}else{lz=IPCC.Web.hG(kH,aq.bC);}if(lz!== -1){kH.splice(lz,1);}}G.ai('pageDisplayed',C);setTimeout(function(){var lJ=IPCC.aN.filter(dF,function(el){if(cX===IPCC.ViewMode.SinglePage){return aq.bC===el.bC-1&&el.bC-1===ce;}else{return aq.bC===el.bC-1;}});BB(lJ);mf(lJ);},0);};bM.add_pageDisplayed(atr);};function aue(aW){function Lj(aj,aq){if(iK===false){return;}G.ai('textPageReady',{pageIndex:aq.pageNumber,containsText:aq.containsText});var hi=wA;if(hi>hI){hi=hI;}if(aq.containsText===true&&aq.pageNumber>=ee-hi&&aq.pageNumber<=iU+hi){if(aB[aq.pageNumber].bH&&aB[aq.pageNumber].bH.get_markCount()>0){var aX=document.getElementById(aB[aq.pageNumber].bV);G.wz(aX,aq.pageNumber);}}};aW.wF(Lj);};function avh(aW){function auw(aj,aq){if(iK===false){return;}var fJ=aB[aq.pageNumber].fJ;aW.acR().Km().np(function(jv){var O=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),bm=jv.eg();O.set_rectangle(new IPCC.Web.UI.Rectangle(bm.x,bm.y,bm.width,bm.height));O.set_href(jv.adt());O.set_lineColor(jv.arB());O.set_lineWidth(jv.ata());O.set_borderPattern(jv.asR());O.set_borderType(jv.arV());O.set_borderHorizontalRadius(jv.arG());O.set_borderVerticalRadius(jv.arY());O.set_borderOpacity(jv.ash());fJ.addMark(O);jv.amq(O);});G.ai('hyperlinkPageReady',{pageIndex:aq.pageNumber});var hi=wA;if(hi>hI){hi=hI;}if(aq.pageNumber>=ee-hi&&aq.pageNumber<=iU+hi){var aX=document.getElementById(aB[aq.pageNumber].bV);G.wz(aX,aq.pageNumber);}};aW.Zo(auw);};function atW(aW){function LG(aj,aq){if(iK===false){return;}var AO;if(aq.pageNumber>=0){if(aB[aq.pageNumber].bV){AO=aB[aq.pageNumber].bV;}}G.ai('textExtractionFailed',{'exception':aq.exception,'pageIndex':aq.pageNumber,'pageNodeID':AO});};aW.Bb(LG);};function Yj(bM){function atx(aj,aq){if(iK===false){return;}var AO;if(isNaN(aq.pageNumber)===false){if(aq.pageNumber>=0){if(aB[aq.pageNumber].bV){AO=aB[aq.pageNumber].bV;}}aB[aq.pageNumber].uS=true;aB[aq.pageNumber].hy=false;aB[aq.pageNumber].hK=false;aB[aq.pageNumber].fL=false;}var oy=new IPCC.ExceptionEventArgs();oy.functionName=aq.function_name;oy.exception=aq.exception;oy.pageIndex=aq.pageNumber;oy.pageNodeID=AO;G.ai('exceptionThrown',oy);if(hj>0){hj=hj-1;if(hj===0){setTimeout(function(){mG(false);},60);}}};bM.add_exceptionThrown(atx);};function Wp(bM){function Jg(aj,aq){G.ai('markCreating',aq);};bM.add_markCreating(Jg);};function aur(cz){function akn(){if(iK===false){return;}var hi=wA;if(hi>hI){hi=hI;}if(cz.dJ>=ee-hi&&cz.dJ<=iU+hi){var aX=document.getElementById(cz.bV);G.wz(aX,cz.dJ);}var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=cz.dJ;G.ai('marksLoaded',C);};cz.bH.add_marksLoaded(akn);};function avg(cz){function iA(aj,aq){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=cz.dJ;C.mark=aq.mark;C.zIndex=aq.zIndex;C.clientX=aq.clientX;C.clientY=aq.clientY;G.ai('markAdded',C);};cz.bH.add_markAdded(iA);};function auf(cz){var TW,uf=false,XM,ZO;function Gu(h,eR){if(va===false){return;}var ky=yH();afZ(h,eR,ky);mf(dF,true,ky);};function auY(h,eR){XM=h;ZO=eR;if(uf&& !TW){TW=Hu(function(){uf=false;TW=undefined;if(XM&&ZO){Gu(XM,ZO);}else{Gu(h,eR);}});}};function sZ(aj,aq){if(aq.mark.xy===true){return;}var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=cz.dJ;C.mark=aq.mark;C.zIndex=aq.zIndex;C.propertyName=aq.propertyName;G.ai('markChanged',C);var eR=dF[aq.mark.get_markID()];if(eR&&(aq.propertyName==='rectangle'||aq.propertyName==='points'||aq.propertyName==='startPoint'||aq.propertyName==='endPoint')){uf=true;auY(aq.mark,eR);}else if(eR&&aq.propertyName==='visible'){var azZ=aq.mark.get_visible();var Zc=(function(bW){return IPCC.aN.inArray(db,bW.bC-1)&&bW.bC-1>=ee&&bW.bC-1<=iU;})(eR);if(azZ&&Zc){Nm([eR]);mf(dF,true,yH());}else{Jj([eR]);}}};cz.bH.add_markChanged(sZ);};function aud(cz){function ajU(aj,aq){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=cz.dJ;C.mark=aq.mark;C.zIndex=aq.zIndex;C.oldZIndex=aq.oldZIndex;G.ai('markReordered',C);};cz.bH.add_markReordered(ajU);};function avb(cz){function Dk(aj,aq){if(aq.mark.xy===true){return;}var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=cz.dJ;C.mark=aq.mark;C.zIndex=aq.zIndex;G.ai('markSelectionChanged',C);};cz.bH.add_markSelectionChanged(Dk);};function atH(cz){function DN(aj,aq){if(aq.mark){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=cz.dJ;C.mark=aq.mark;C.zIndex=aq.zIndex;G.ai('markRemoved',C);var eR=dF[aq.mark.get_markID()];if(eR){if(aq.mark.get_conversation()===iu){iu=null;}eR.du.parentElement.removeChild(eR.du);delete dF[aq.mark.get_markID()];mf(dF,true);}}};cz.bH.add_markRemoved(DN);};function auK(cz){function AY(aj,aq){var C=new IPCC.Web.UI.MarkEventArgs();C.pageIndex=cz.dJ;C.mark=aq.mark;C.zIndex=aq.zIndex;G.ai('markTextSelectionChanged',C);};cz.bH.add_markTextSelectionChanged(AY);};function afZ(h,eR,Ln){var cz=aB[eR.bC-1],aW=document.getElementById(cz.bV),DY=aak(h,cz.dJ+1);if(aW.aH){var dQ=aW.aH.transformPagePointToWindow(new IPCC.Web.UI.Point(DY.x,DY.y),true);var WJ=(gU*(cz.dJ*1));var Je=(aW.offsetTop-WJ+dQ.y)/(Ln-(gU*aB.length));eR.bm=DY;eR.aaB=Je;}};function Jj(kl,bC){var aCM=typeof bC==='undefined';IPCC.aN.forEach(kl,function(bq){if(bq&&(aCM||bq.pageNumber===bC)){bq.du.style.display='none';bq.IA=false;}});};function wR(){if(kP.currentStyle&&kP.currentStyle.display==='none'){return 0;}return kP.clientWidth;};function yH(){if(kP.currentStyle&&kP.currentStyle.display==='none'){return 0;}return kP.offsetHeight;};function Nm(kl,bC){var arg=typeof bC==='undefined';IPCC.aN.forEach(kl,function(el){if(arg||el.pageNumber===bC){el.du.style.display='';el.IA=true;if(el&&el.O&&el.O.get_visible()===false){el.du.style.display='none';el.IA=false;}}});};function BB(kl,WD){if(va===false){return;}var Sf=(! !WD)?IPCC.aN.filter(dF,function(bW){return IPCC.aN.inArray(db,bW.bC-1)&&bW.bC-1>=ee&&bW.bC-1<=iU;}):kl;var ky=yH();IPCC.aN.forEach(Sf,function(el){afZ(el.O,el,ky);});};function awf(a,b){return(a.bm.y!==b.bm.y)?(a.bm.y-b.bm.y):(a.bm.x!==b.bm.x)?(a.bm.x-b.bm.x):(a.yd-b.yd);};function awr(a,b){return(a.bm.x!==b.bm.x)?(a.bm.x-b.bm.x):(a.bm.y!==b.bm.y)?(b.bm.y-a.bm.y):(a.yd-b.yd);};function avs(a,b){return(a.bm.y!==b.bm.y)?(b.bm.y-a.bm.y):(a.bm.x!==b.bm.x)?(b.bm.x-a.bm.x):(a.yd-b.yd);};function avM(a,b){return(a.bm.x!==b.bm.x)?(b.bm.x-a.bm.x):(a.bm.y!==b.bm.y)?(a.bm.y-b.bm.y):(a.yd-b.yd);};function auO(Xa,ky,AD){AD=AD||0;var _top,ahx,Hm,ZH=(gU*aB.length),Ta=ky-ZH;IPCC.aN.forEach(Xa,function(bW){Hm=(gU*(bW.bC-1));ahx=(bW.aaB*Ta)+Hm;_top=Math.max(AD+5,ahx);if(bW.du.style.top!==_top+'px'){bW.du.style.top=_top+'px';}AD=_top+bW.ZC;});};function auI(Xa,ky){var Ow,_top,PU,Hm,ahY,ZH=(gU*aB.length),Ta=ky-ZH;IPCC.aN.forEach(Xa,function(bW){Hm=(gU*(bW.bC-1));PU=(bW.aaB*Ta)+Hm;if(Ow===undefined){Ow=PU;}if(bW.O.get_conversation()===iu){_top=PU;ahY=_top+bW.ZC;}else{_top=Math.min(Ow-5-bW.ZC,PU);}if(bW.du.style.top!==_top+'px'){bW.du.style.top=_top+'px';}Ow=_top;});return ahY;};function mf(kl,WD,ky){if(va===false){return;}if(!ky){ky=yH();}var amD=function(a,b){if(a.bC!==b.bC){return(a.bC-b.bC);}var aW=aB[a.bC-1],ca=aW.gR;switch(ca){case 90:return awr(a,b);case 180:return avs(a,b);case 270:return avM(a,b);default:return awf(a,b);}};var Sf=(! !WD)?IPCC.aN.filter(dF,function(bW){return IPCC.aN.inArray(db,bW.bC-1)&&bW.bC-1>=ee&&bW.bC-1<=iU;}):kl;Nm(Sf);var aok=IPCC.aN.map(Sf,function(bW,bA){bW.ZC=bW.du.offsetHeight;return bW;});var Wr=aok.sort(amD);var Rh=[],ZL=[],Xm=false;if(iu){var aAu=dF[iu.get_mark().get_markID()];if(!IPCC.aN.inArray(Wr,aAu)){Xm=true;}IPCC.aN.forEach(Wr,function(bW){if(Xm){ZL.push(bW);}else if(bW.O.get_conversation()===iu){Rh.unshift(bW);Xm=true;}else{Rh.unshift(bW);}});}else{ZL=Wr;}var AD=0;if(Rh.length){AD=auI(Rh,ky);}auO(ZL,ky,AD);};function avU(kl,h,dJ){var bW=kl[h.jx()];bW.bC=dJ;bW.O=h;bW.bm=aak(h,dJ);bW.yd=h.dV().pb(h);};function Fv(h,kl,nc){var eR=kl[h.get_markID()];if(eR){eR.du.parentElement.replaceChild(nc,eR.du);eR.du=nc;}return eR;};function atq(h,kl,nc,axJ,aES,Je,dJ){var eR=new IPCC.eR();eR.du=nc;dF[h.get_markID()]=eR;avU(dF,h,dJ);eR.aaB=Je;axJ.appendChild(nc);return eR;};function aak(h,bC){var bm=(h.get_boundingRectangle)?h.get_boundingRectangle():{},ca=aB[bC-1].gR;switch(ca){case 90:return{x:bm.x,y:bm.y+(bm.height||0)};case 180:return{x:bm.x+(bm.width||0),y:bm.y+(bm.height||0)};case 270:return{x:bm.x+(bm.width||0),y:bm.y};default:return{x:bm.x,y:bm.y};}};function aus(cz){function MG(aj,aq){var C=new IPCC.Web.UI.CommentEventArgs();C.pageIndex=cz.dJ;C.mark=aq.mark;C.index=aq.index;C.comment=aq.comment;var aW=document.getElementById(cz.bV);G.ai('commentAdding',C);setTimeout(function(){var Ln=yH(),eR,du;if(aq.index===0){du=oX(aq.mark,{isSelected:false},null);if(!du){return;}else if(!IPCC.aN.wf(du)){throw new Error(du+' is not a valid HTMLElement');}var DY=aak(aq.mark,cz.dJ+1),ayU=DY.x,ayv=DY.y;var dQ;if(aW&&aW.aH){dQ=aW.aH.transformPagePointToWindow(new IPCC.Web.UI.Point(ayU,ayv),true);}else{dQ=new IPCC.Web.UI.Point(0,0);}var WJ=(gU*(cz.dJ));var Je=(aW.offsetTop-WJ+dQ.y)/(Ln-(gU*aB.length));eR=atq(aq.mark,dF,du,kP,dQ,Je,cz.dJ+1);}else{var gM=aq.mark.get_conversation()===iu;var currentConversationDiv=dF[aq.mark.get_markID()];if(!currentConversationDiv){return;}du=oX(aq.mark,{isSelected:gM},currentConversationDiv.du);if(!du){return;}else if(!IPCC.aN.wf(du)){throw new Error(du+' is not a valid HTMLElement');}eR=Fv(aq.mark,dF,du);}if(IPCC.aN.inArray(db,cz.dJ)&&cz.dJ>=ee&&cz.dJ<=iU){mf(dF,true,Ln);}else{Jj([eR]);}G.ai('commentAdded',C);},0);};cz.bH.add_commentAdded(MG);};function atK(cz){function Na(aj,aq){var du=null;if(dF[aq.mark.get_markID()]){du=dF[aq.mark.get_markID()].du;var gM=aq.mark.get_conversation()===iu;du=oX(aq.mark,{isSelected:gM},du);}if(!du){G.ai('commentChanged',aq);return;}else if(!IPCC.aN.wf(du)){throw new Error(du+' is not a valid HTMLElement');}if(du){var ky=yH();Fv(aq.mark,dF,du);mf(dF,true,ky);}G.ai('commentChanged',aq);};cz.bH.add_commentChanged(Na);};function auV(cz){function Nu(aj,aq){var du=null;if(dF[aq.mark.get_markID()]){du=dF[aq.mark.get_markID()].du;}var gM=aq.mark.get_conversation()===iu;du=oX(aq.mark,{isSelected:gM},du);if(IPCC.aN.wf(du)){Fv(aq.mark,dF,du);}else{var eR=dF[aq.mark.get_markID()];if(eR){if(aq.mark.get_conversation()===iu){iu=null;}eR.du.parentElement.removeChild(eR.du);delete dF[aq.mark.get_markID()];}}mf(dF,true);G.ai('commentRemoved',aq);};cz.bH.add_commentRemoved(Nu);};function Uz(){var cN=fR;var bN=eb;var anF=function(hO){return{width:hO.width||(hO.right-hO.left),height:hO.height||(hO.bottom-hO.top),top:hO.top,bottom:hO.bottom,left:hO.left,right:hO.right};};var amb=anF(ak.getBoundingClientRect());var pe={height:Math.floor(amb.height/2)};pe.width=pe.height*bN/cN;if(pe.width>bN/2){pe.width=bN/2;}if(pe.height>cN/2){pe.height=cN/2;}var IX={height:Math.floor(cN*8)};IX.width=IX.height*bN/cN;var awF=bN*cc<pe.width+5;var awI=bN*cc>IX.width-5;return{min:pe,max:IX,page:{width:bN,height:cN},viewport:amb,atMin:awF,atMax:awI,maxFactor:IX.width/bN,minFactor:pe.width/bN};};function lu(ac,Uo){if(Uo){alB.apply(this,arguments);return;}var vw=(ac<cc)?true:false;var oU=Uz();if((oU.atMin&&vw)||(oU.atMax&& !vw)){return;}if(ac>oU.maxFactor){ac=oU.maxFactor;}else if(ac<oU.minFactor){ac=oU.minFactor;}if(!oU.atMax|| !oU.atMin){alB.apply(this,arguments);}};function alB(ac,aDy,ad,fp,Gq,xs,fk,eA){if(isNaN(ac)||ac<=0||Math.abs(ac)===Infinity){return;}var vw=(ac<cc)?true:false;var jd=0;var jA=aB.length-1;if(cX===IPCC.ViewMode.SinglePage){if(ce-hI>=0){jd=ce-hI;}if(ce+hI<aB.length-1){jA=ce+hI;}}var ME=ac/cc;cc=ac;var anr=(xs&&xs.x!==undefined)?xs.x:ak.scrollLeft+(ak.clientWidth/2);var aoX=(xs&&xs.y!==undefined)?xs.y:ak.scrollTop+(ak.clientHeight/2);hb=0;gb=0;for(var ae=jd;ae<=jA;ae++){var bb;var aX=document.getElementById(aB[ae].bV);if(aX){bb=aX.aH;}else{continue;}var ga=ac*SCREEN_RESOLUTION/aB[ae].hn;var aS=eb;var bI=fR;var fb=eb;var eu=fR;if(jp(qP)===true){fb=fR;eu=eb;}if(aB[ae].aS>0){if(jp(aB[ae].gR)===true){aS=aB[ae].bI;bI=aB[ae].aS;}else{aS=aB[ae].aS;bI=aB[ae].bI;}}else{ga=ac*SCREEN_RESOLUTION/aB[0].hn;if(jp(aB[ae].gR)===true){var HZ=aS;aS=bI;bI=HZ;ga=ac*SCREEN_RESOLUTION/aB[0].hD;}}var LB,KV,hd;if(cX===IPCC.ViewMode.SinglePage){KV=aS*ga;LB=bI*ga;aX.style.width=KV+'px';aX.style.height=LB+'px';if(ae===ce){bd.style.width=KV+'px';bd.style.height=LB+'px';}if(bb&&aB[ae].fL===true&&bb.gj()===true){bb.zoom(ga);}}else if(cX===IPCC.ViewMode.Document){KV=aS*ga;LB=bI*ga;aX.style.width=KV+'px';aX.style.height=LB+'px';if(bb&&aB[ae].fL===true&&bb.gj()===true){bb.zoom(ga);}if(aS*ga>hb){hb=aS*ga;}if(bI*ga>gb){gb=bI*ga;}}else{ga=ac*SCREEN_RESOLUTION/aB[0].hn;if(eP===IPCC.PageLayout.VerticalScrollDirection){hd=fb/aS*ga;aX.style.width=fb*ga+'px';aX.style.height=bI*hd+'px';if(fb*ga>hb){hb=fb*ga;}if(bI*ga>gb){gb=bI*ga;}}else{hd=eu/bI*ga;aX.style.height=eu*ga+'px';aX.style.width=aS*hd+'px';if(aS*ga>hb){hb=aS*ga;}if(eu*ga>gb){gb=eu*ga;}}if(bb&&aB[ae].fL===true&&bb.gj()===true){bb.zoom(hd);}}if(bb&&aB[ae].fL===true&&bb.gj()===true){bb.display();var aAz= ! !navigator.userAgent.match('Edge');if(aAz){var axG=ak.style.display;ak.style.display='none';ak.style.display=axG;auP();}}}if(eP===IPCC.PageLayout.VerticalScrollDirection){OK=ak.scrollTop;}else{OK=ak.scrollLeft;}var Wh,Tu,WH=0,XO=0;if(Gq){Wh=Gq.offsetLeft+ME*ad;Tu=Gq.offsetTop+ME*fp;}else{if(eP===IPCC.PageLayout.VerticalScrollDirection){XO=gU*(ce);}else{WH=(jt+hY)*(ce);}Wh=ME*(anr-WH);Tu=ME*(aoX-XO);}ak.scrollLeft=Wh-(ak.clientWidth/2)+WH;ak.scrollTop=Tu-(ak.clientHeight/2)+XO;Au();if(vw===true&&cX!==IPCC.ViewMode.SinglePage){mG(true);}mf(dF,true);G.ai('scaleChanged',{scaleType:(vw)?"scaledDown":"scaledUp",scaleTrigger:fk,fitType:eA,scaleFactor:cc});};function auP(){var dummy=document.createElement('div');setTimeout(function(){ak.appendChild(dummy);ak.removeChild(dummy);},0);};function aaJ(aT,hZ,jn,ej){var kW=aT.igElements;ej=ej||RO(aT);if(ej&&(ej.right-ej.left)>0&&(ej.bottom-ej.top)>0){return new IPCC.Web.UI.Point(hZ+ej.left+kW.pn.scrollLeft,jn+ej.top+kW.pn.scrollTop);}else{return;}};function RO(aT){var kW=aT.igElements;var ej;if(kW.lW.getBoundingClientRect){try{ej=kW.lW.getBoundingClientRect();}catch(am){return;}}else{var cA=kW.lW;var vQ=document.documentElement;ej={left:vQ.clientLeft-vQ.scrollLeft,top:vQ.clientTop-vQ.scrollTop};cA=cA.offsetParent;while(cA){ej.top+=cA.offsetTop-cA.scrollTop;ej.left+=cA.offsetLeft-cA.scrollLeft;cA=cA.offsetParent;}}return ej;};function aeQ(){var as=G.ht();var MB=as.id;var zc;var zK;var qo;var aaA;var aaC;var bi=false;var aT;var rn=[];var wy= -1;var gJ=0;var oI;var FS;var Bg;var mn=0;var cd=0;var tU=null;var wO=null;if(bd===''){ak=fv({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});ak.className='pccPageListContainerWrapper';ak.tabIndex=2;var Ri=function(hZ,jn){var lj=document.elementFromPoint(hZ,jn);while(lj&&(lj.parentNode||lj.ownerSVGElement)){if(lj.parentNode.id&&lj.parentNode.id.indexOf("__pViewId")!== -1){return lj.parentNode;}lj=lj.ownerSVGElement||lj.parentNode;}return false;};var Ry=function(aT,hZ,jn){var kW=aT.igElements;var ej=RO(aT);if(ej&&(ej.right-ej.left)>0&&(ej.bottom-ej.top)>0){return new IPCC.Web.UI.Point(hZ-ej.left-kW.pn.scrollLeft,jn-ej.top-kW.pn.scrollTop);}else{return;}};var anQ=function(sH){sH.IY([new IPCC.nK(IPCC.Web.UI.MarkType.Text)]);};var aoP=function(sH){sH.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var PS=false,aBq="";var afS=function aDc(am,ib,aW){if(ib.match(/edit/)){PS=true;return;}anQ(aW.aH);PS=true;aBq=ib;aW.aH.JM("touchstart",am);};var afW=function(aW){PS=false;aoP(aW.aH);};var TX=function(am){if(am.target&&am.target.attributes&&am.target.getAttribute('data-pcc-mark')){return am.target;}else if(am.target.parentElement&&am.target.parentElement.attributes&&am.target.parentElement.getAttribute('data-pcc-mark')){return am.target.parentElement;}else if(am.target.parentNode&&am.target.parentNode.attributes&&am.target.parentNode.getAttribute('data-pcc-mark')){return am.target.parentNode;}else{return undefined;}};var Ys=function(am){var bJ=TX(am);if(bJ){return bJ.getAttribute('data-pcc-mark');}return undefined;};var ajz=function(sH){if(sH){sH.dV().DA(function(O){O.set_selected(false);});sH.display();}};var Pg,Tx=false;var SH=function(am,C){var sD={de:undefined,O:undefined,aM:null};var om=TX(am);if(om){if(typeof aT!=='undefined'&&aT!==false&&aT.aH&&aT.igElements&&aT.aH.gj()===true){sD.aM=aT.aH.mp();}if(om.ImGearMarkRelation){sD.de='mark';sD.O=om.ImGearMarkRelation.O;return sD;}else{while(!(om.ImGearMarkRelation)&&om.parentNode&&om!==document.body){om=om.parentNode;if(om.ImGearMarkRelation){sD.de='mark';sD.O=om.ImGearMarkRelation.O;return sD;}}}}if(typeof aT!=='undefined'&&aT!==false&&aT.aH&&aT.igElements&&aT.aH.gj()===true){sD.aM=aT.aH.mp();var aM=0;for(aM=0;aM<aB.length;aM++){if(aB[aM].bV===aT.id){if(typeof C.targetType==='undefined'||C.targetType===null){sD.de='page';return sD;}break;}}}return sD;};var OH=function(aM,uJ,jT,azQ){if(aO===null||aO===undefined){return;}var Su=false;if(uJ===undefined){uJ=aO.uJ;Su=true;}if(jT===undefined){jT=aO.jT;Su=true;}var O;var aW=document.getElementById(aB[aM].bV);if(azQ===true){O=aO.yb;}else{O=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);O.set_rectangle({x:0,y:0,width:0,height:0});O.cn=127;O.cI='#3366CC';O.ds=null;aW.aH.kT().addMark(O);}O.set_selected(true);if(Su===true){if(aO.jd===aO.jA){O.bK=gJ;O.cw=jT-gJ+1;O.kL=true;O.jO=true;aW.aH.display();}else if(aM===aO.jd){O.bK=gJ;O.cw=aW.aH.cf().fE().eI()-1-uJ;O.kL=true;O.jO=false;aW.aH.display();}else if(aM===aO.jA){O.bK=0;O.cw=jT+1;O.kL=false;O.jO=true;aW.aH.display();}else{O.bK=0;O.cw=aW.aH.cf().fE().eI()-1-gJ;O.kL=false;O.jO=false;}}else{if(aO.jd===aO.jA){O.kL=true;O.jO=true;}else if(aM===aO.jd){O.kL=true;O.jO=false;}else if(aM===aO.jA){O.kL=false;O.jO=true;}else{O.kL=false;O.jO=false;}}aO.ft[aM]=O;};var kv=function(am){if(Bg){if(Bg.clientX===am.clientX&&Bg.clientY===am.clientY){if(am.rawEvent.preventDefault){am.rawEvent.preventDefault();}else if(am.preventDefault){am.preventDefault();}if(am.rawEvent.stopPropagation){am.rawEvent.stopPropagation();}else if(am.stopPropagation){am.stopPropagation();}Tx=true;Bg=undefined;return false;}}Pg=am;alx(am,am.clientX,am.clientY,am.button);};var akb=function(am,C){qo=SH(am,C);};var alx=function(am,hZ,jn,pZ){var C=new IPCC.Web.UI.MouseEventArgs();aT=Ri(hZ,jn);akb(am,C);var ib;var om=TX(am);if(om){ib=om.getAttribute('data-pcc-mark');}var TZ=false;var Oe=ib&&ib.substring(0,10);if(ib&&Oe==='texthandle'){FS=true;TZ=true;Oe=ib.substring(10,13);var O=om.parentNode.ImGearMarkRelation.O;if(aO&&O.ds===null){rn=aO.rY.slice();rn[C.pageIndex]=undefined;}else{aO=null;rn=[];G.yn();}var afN=function(aza){gJ=aO.uJ;var K;for(K=aO.jA;K>=aO.jd;K--){var aW=document.getElementById(aB[K].bV);if(aW.aH===undefined||aW.aH===null){continue;}var zj=gJ;if(K!==aO.jd){zj=0;}var rv;if(K===aO.jA){rv=aO.jT;}else{rv=aW.aH.get_textPage().fE().eI()-1;}aza(aW,zj,rv);if(K!==aO.pY){OH(K);}}tU=dz;dz=IPCC.Web.UI.MouseTool.SelectText;bi=true;};var K,aM,bH,Ns,eZ,vd,dm;if(Oe==='sta'){if(aO===null||aO===undefined){aM=O.aM;aO={};aO.ft=[];aO.jd=aM;aO.uJ=O.bK;gJ=O.bK;while(aM<aB.length){bH=aB[aM].bH;Ns=bH.get_markCount();for(K=0;K<Ns;K++){eZ=bH.getMark(K);if(O.dM===eZ.dM&&eZ.get_type()===O.get_type()){aO.ft[aM]=eZ;for(vd=eZ.ds.length-1;vd>=0;vd--){if(eZ.ds[vd].set_visible){eZ.ds[vd].set_visible(false);}else{eZ.set_visible(false);break;}}if(aM===O.aM){wO=eZ;}else{rn[aM]=dm.substring(eZ.bK,eZ.cw);eZ.set_selected(false);}dm=eZ.dm.substring(eZ.cw);if(eZ.jO===true){aO.jT=eZ.bK+eZ.cw-1;aO.jA=aM;break;}}}aM++;}}oI=aO.jT+1;mn=aO.jA;var azo=function(aW,zj,rv){aW.aH.showEmptyTextSelection(rv+1);aW.aH.extendTextSelection(undefined);aW.aH.extendTextSelection(rv);aW.aH.extendTextSelection(zj);};aO.ft[aO.jd].xy=true;aO.pY=aO.jd;aO.yb=aO.ft[aO.jd];afN(azo);}else if(Oe==='end'){if(aO===null||aO===undefined){aM=O.aM;aO={};aO.ft=[];aO.jA=aM;aO.jT=O.bK+O.cw-1;while(aM>=0){bH=aB[aM].bH;Ns=bH.get_markCount();for(K=0;K<Ns;K++){eZ=bH.getMark(K);if(O.dM===eZ.dM&&eZ.get_type()===O.get_type()){aO.ft[aM]=eZ;for(vd=eZ.ds.length-1;vd>=0;vd--){if(eZ.ds[vd].set_visible){eZ.ds[vd].set_visible(false);}else{eZ.set_visible(false);break;}}if(aM===O.aM){dm=eZ.dm;}else{rn[aM]=dm.substring(dm.length-eZ.cw);eZ.set_selected(false);}dm=eZ.dm.substring(0,dm.length-eZ.cw);if(eZ.kL===true){aO.uJ=eZ.bK;gJ=eZ.bK;aO.jd=aM;wO=eZ;break;}}}aM--;}}oI=aO.uJ;mn=aO.jd;var azd=function(aW,zj,rv){aW.aH.showEmptyTextSelection(zj);aW.aH.extendTextSelection(undefined);aW.aH.extendTextSelection(zj);aW.aH.extendTextSelection(rv);};aO.ft[aO.jA].xy=true;aO.pY=aO.jA;aO.yb=aO.ft[aO.jA];afN(azd);}if(wO){aT.aH.display();}}var Az=am.target.tagName&&am.target.tagName.toLowerCase()==='textarea';if(Az){return;}var ze=am.target.tagName&&am.target.tagName.toLowerCase()==='input'&&am.target.type&&am.target.type.toLowerCase()==='text';if(ze){return;}if(dz===IPCC.Web.UI.MouseTool.HandPan&&Bz&&ib&&TZ===false){if(!qo||qo.O.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){afS(am,ib,aT);return;}}var cD;var gz;if(aT!==false&&aT.aH&&aT.igElements&&aT.aH.gj()===true){var bD=0;for(bD=0;bD<aB.length;bD++){if(aB[bD].bV===aT.id){C.pageIndex=bD;break;}}C.pointLiesWithinImage=true;gz=Ry(aT,hZ,jn);if(gz){cD=aT.aH.Jm(gz,false);C.imagePoint=cD;C.constrainedImagePoint=cD;}else{C.pointLiesWithinImage=false;}}else{C.pointLiesWithinImage=false;}C.domEvent=am;C.windowPoint=new IPCC.Web.UI.Point(hZ,jn);if(TZ===true){wy= -1;cd=C.pageIndex;am.preventDefault();G.ai('mouseDown',C);return;}switch(dz){case IPCC.Web.UI.MouseTool.None:am.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:am.preventDefault();zc=jn;zK=hZ;aaA=ak.scrollTop;aaC=ak.scrollLeft;bi=true;bd.style.cursor=IPCC.an.es(IPCC.an.HandClosed);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:am.preventDefault();if(pZ===0&&aT&&aT.aH&&cD){G.yn();rn=[];wy= -1;FS=undefined;var cb=aT.aH.transformPagePointToTextIndex(cD);gJ=cb;oI=cb;bi=true;if(cb===undefined){G.ai('mouseDown',C);return;}aT.aH.showEmptyTextSelection(cb);aT.aH.extendTextSelection(undefined);aT.aH.extendTextSelection(cb);aT.aH.display();mn=C.pageIndex;cd=C.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:am.preventDefault();if(pZ===0&&aT&&aT.aH&&gz){var iH=IPCC.an.es(IPCC.an.None);bd.style.cursor=iH;aT.aH.showMagnifier(gz);aT.aH.display();}bi=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:am.preventDefault();if(pZ===0&&aT&&aT.aH&&cD){bi=true;zc=gz.y;zK=gz.x;aT.aH.showEmptySelection(cD);aT.aH.display();}break;}G.ai('mouseDown',C);};var ld=function(am){alo(am,am.clientX,am.clientY,am.button);};var alo=function(am,hZ,jn,pZ){var Az=am.target.tagName&&am.target.tagName.toLowerCase()==='textarea';if(Az){return;}var ze=am.target.tagName&&am.target.tagName.toLowerCase()==='input'&&am.target.type&&am.target.type.toLowerCase()==='text';if(ze){return;}var C=new IPCC.Web.UI.MouseEventArgs();C.domEvent=am;C.windowPoint=new IPCC.Web.UI.Point(hZ,jn);var dE=Ri(hZ,jn);var cD;var gz;if(dE!==false&&dE.aH&&dE.igElements&&dE.aH.gj()===true){C.pointLiesWithinImage=true;gz=Ry(dE,hZ,jn);if(gz){cD=dE.aH.Jm(gz,false);C.imagePoint=cD;C.constrainedImagePoint=cD;}else{C.pointLiesWithinImage=false;}}else{C.pointLiesWithinImage=false;}var iH;switch(dz){case IPCC.Web.UI.MouseTool.None:am.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:am.preventDefault();if(bi){var apH=jn;var arh=hZ;var axE=zc-apH;var ayf=zK-arh;ak.scrollTop=aaA+axE;ak.scrollLeft=aaC+ayf;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:am.preventDefault();if(bi){if(pZ!==0){Eu();}var iW;if(!dE){G.ai('mouseMove',C);return;}if(gJ===undefined){aT=dE;}else if(dE!==aT&&dE.aH&&gz){wy= -1;var kB=0;var K=0;for(K=0;K<aB.length;K++){if(aB[K].bV===dE.id){kB=K;break;}}if(kB>cd){if(kB>mn){iW=aT.aH.get_textPage().fE().eI()-1;if(iW<0){Eu();G.ai('mouseMove',C);return;}aT.aH.extendTextSelection(iW);if(aO){iW=aT.aH.get_textPage().fE().eI()-1;aO.ft[cd].set_startIndex(aT.aH.RE());aO.ft[cd].set_textLength(aT.aH.Ea());aO.jA=kB;gJ=aT.aH.RE();}rn[cd]=aT.aH.getSelectedText();dE.aH.showEmptyTextSelection(0);dE.aH.extendTextSelection(undefined);wy=0;aT.aH.display();aT=dE;}else{gJ=0;rn[cd]=undefined;rn[kB]=undefined;aT.aH.showEmptyTextSelection(0);aT.aH.extendTextSelection(undefined);if(aO&&aO.ft[cd]){aO.ft[cd].kL=false;}aT.aH.display();aT=dE;if(aO&&aO.ft[cd]){aO.ft[cd]=undefined;aO.jd=kB;aO.ft[kB].set_startIndex(0);aO.ft[kB].set_textLength(aO.ft[kB].get_startIndex()+aO.ft[kB].get_textLength());aO.ft[kB].kL=true;aT.aH.display();}}}else if(kB<cd){if(kB<mn){iW=aT.aH.get_currentTextIndex();if(iW!==0){aT.aH.extendTextSelection(0);}if(aO){aO.ft[cd].set_startIndex(aT.aH.RE());aO.ft[cd].set_textLength(aT.aH.Ea());aO.jd=kB;}rn[cd]=aT.aH.getSelectedText();aT.aH.display();iW=dE.aH.cf().fE().eI()-1;wy=iW;gJ=0;dE.aH.showEmptyTextSelection(iW+1);dE.aH.extendTextSelection(undefined);aT=dE;aT.aH.display();}else{rn[cd]=undefined;rn[kB]=undefined;aT.aH.showEmptyTextSelection(0);aT.aH.extendTextSelection(undefined);if(aO&&aO.ft[cd]){aO.ft[cd].jO=false;}aT.aH.display();aT=dE;if(aO&&aO.ft[cd]){aO.ft[cd]=undefined;aO.jA=kB;iW=aT.aH.cf().fE().eI()-1;aO.ft[kB].set_textLength(dE.aH.Ea());aO.ft[kB].jO=true;aT.aH.display();}}}cd=kB;}var avo=(cd<mn),awt=(cd>mn);if(aT&&aT.aH&&aT.aH.gj()===true&&gz){gz=Ry(aT,hZ,jn);cD=aT.aH.Jm(gz,false);var cb=aT.aH.transformPagePointToTextIndex(cD);if(gJ===undefined){gJ=cb;oI=cb;if(cb===undefined){G.ai('mouseMove',C);return;}aT.aH.showEmptyTextSelection(cb);aT.aH.extendTextSelection(undefined);aT.aH.extendTextSelection(cb);aT.aH.display();var aK=0;for(aK=0;aK<aB.length;aK++){if(aB[aK].bV===aT.id){mn=aK;cd=aK;break;}}}else{if(gJ=== +gJ&&cb=== +cb){if(avo){gJ=cb;}else if(!awt){gJ=Math.min(oI,cb);}}}iW=aT.aH.get_currentTextIndex();if(iW===cb||cb===undefined){G.ai('mouseMove',C);return;}if(wy!== -1){if(cb!==wy){aT.aH.extendTextSelection(wy);}wy= -1;}if((cb>oI&&cd===mn)||cd>mn){if(aO){if(aO.ft[cd]===undefined||aO.ft[cd]===null){OH(cd,0,0,cd===aO.pY);if(cd-1>=0&&aO.ft[cd-1]){aO.ft[cd-1].jO=false;document.getElementById(aB[cd-1].bV).aH.display();}}aO.ft[cd].jO=true;}if(FS===undefined){FS=false;}}else if(cb<oI||cd<mn){if(aO){if(aO.ft[cd]===undefined||aO.ft[cd]===null){OH(cd,aT.aH.cf().fE().eI()-1,0,cd===aO.pY);if(aO.ft[cd+1]){aO.ft[cd+1].kL=false;document.getElementById(aB[cd+1].bV).aH.display();}}aO.ft[cd].kL=true;}if(FS===undefined){FS=true;oI++;aT.aH.showEmptyTextSelection(oI);aT.aH.extendTextSelection(undefined);var rv=aT.aH.cf().fE().eI();if(oI>=rv){aT.aH.extendTextSelection(rv-1);}else{aT.aH.extendTextSelection(oI);}}}aT.aH.extendTextSelection(cb);if(aO&&aO.ft[cd]){aO.ft[cd].set_startIndex(aT.aH.RE());aO.ft[cd].set_textLength(aT.aH.Ea());}aT.aH.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:am.preventDefault();if(pZ!==0||(aT&&aT.aH&&aT!==dE)){aT.aH.hideMagnifier();iH=IPCC.an.es(IPCC.an.Magnifier);bd.style.cursor=iH;aT.aH.display();}if(bi&&dE&&dE.aH&&gz){aT=dE;iH=IPCC.an.es(IPCC.an.None);bd.style.cursor=iH;dE.aH.showMagnifier(gz);dE.aH.display();}break;case IPCC.Web.UI.MouseTool.RectangleZoom:am.preventDefault();if(bi){if(dE&&dE.aH&&cD&&dE===aT){if(pZ!==0){dE.aH.hideSelection();dE.aH.display();bi=false;}else{dE.aH.extendSelection(cD);dE.aH.display();}}else{aT.aH.hideSelection();aT.aH.display();bi=false;}}break;}G.ai('mouseMove',C);};var jz=function(am){if(Tx!==true){XN(am,am.clientX,am.clientY);}else{Tx=false;}};var ala=function(am,C){C.upTargetType=null;var Bd=SH(am,C);C.originalEvent=am.rawEvent;C.clientX=am.clientX;C.clientY=am.clientY;C.downTarget={type:undefined,pageIndex:undefined};if(typeof qo!=='undefined'&&typeof qo.de!=='undefined'){C.downTarget.type=qo.de;}if(typeof qo!=='undefined'&&typeof qo.aM!=='undefined'){C.downTarget.pageIndex=qo.aM;}C.downMark=(typeof qo!=='undefined')?qo.O:undefined;C.upMark=Bd.O;switch(Bd.de){case 'page':case 'mark':C.upTarget={type:Bd.de,pageIndex:Bd.aM};break;}if(C.pointLiesWithinImage===false&&Bd.de==='page'){Bd.aM= -1;}};var XN=function(am,hZ,jn){var C=new IPCC.Web.UI.MouseEventArgs();var dE;var cD;var gz;if(am){dE=Ri(hZ,jn);if(dE!==false&&dE.aH&&dE.igElements&&dE.aH.gj()===true){aT=dE;C.pointLiesWithinImage=true;gz=Ry(dE,hZ,jn);if(gz){cD=dE.aH.Jm(gz,false);C.imagePoint=cD;C.constrainedImagePoint=cD;}else{C.pointLiesWithinImage=false;}}else{C.pointLiesWithinImage=false;}C.domEvent=am;C.windowPoint=new IPCC.Web.UI.Point(hZ,jn);ala(am,C);G.ai('mouseUp',C);}qo=undefined;var iH;switch(dz){case IPCC.Web.UI.MouseTool.None:am.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:am.preventDefault();if(bi){zK=undefined;zc=undefined;aaA=undefined;aaC=undefined;bi=false;bf=IPCC.an.HandOpen;iH=IPCC.an.es(bf);bd.style.cursor=iH;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:if(am){am.preventDefault();}if(bi){var qs=new IPCC.Web.UI.TextSelectedEventArgs(),jN=[],K,zS,Bp;var jT;var HK=aT.aH.getSelectedText();var rY=rn.slice();if(HK.length>0){rY[cd]=aT.aH.getSelectedText();}else{if(cd>mn){cd--;aT=document.getElementById(aB[cd].bV);if(rY[cd]){HK=rY[cd];}}else if(cd<mn){cd++;aT=document.getElementById(aB[cd].bV);if(rY[cd]){HK=rY[cd];}}}qs.text=rY.join('');var ZJ=true;if(cd>=mn){if(cd===mn){if(aT.aH.get_currentTextIndex()>=oI){ZJ=false;}jT=gJ+HK.length-1;}else{jT=HK.length-1;}if(jT<0){jT=0;}zS=mn;Bp=cd;}else{ZJ=false;jT=oI-1;zS=cd;Bp=mn;}for(K=zS;K<=Bp;K++){jN.push(K);}if(qs.text.length===0){Eu();jN=[];}qs.pageNumbers=jN;qs.clientX=hZ;qs.clientY=jn;if(gJ!==undefined){if(dz===IPCC.Web.UI.MouseTool.SelectText){var asi=function(aW,zN){var GM=aW.aH.cf();var fB=GM.fE();var dZ=fB.kK(zN);return dZ.vj();};var iW=aT.aH.get_currentTextIndex();var RQ=asi(aT,iW);var fs=0,fF=0;if(ZJ===false){fs=RQ.width;fF=RQ.height;}var Db=aT.aH.transformPagePointToWindow(new IPCC.Web.UI.Point(RQ.x+fs,RQ.y+fF),true);var dQ=aaJ(aT,Db.x,Db.y);qs.handleClientX=dQ.x;qs.handleClientY=dQ.y;}var avZ=aO===undefined||aO===null;if(wO){qs.previousFirstMark=wO;qs.firstMark=aO.ft[zS];if(aO.pY<zS||aO.pY>Bp){var JR=document.getElementById(aB[aO.pY].bV);if(JR.aH){JR.aH.kT().removeMark(aO.yb);}}aO.yb.xy=false;G.yn();if(tU!==null){dz=tU;}tU=null;}else if(avZ===true){if(dz===IPCC.Web.UI.MouseTool.SelectText){aO={jd:zS,uJ:gJ,jA:Bp,jT:jT,rY:rY.slice(),ft:[]};for(K=0;K<jN.length;K++){OH(jN[K]);}}else{G.yn();}}else{if(aO.pY<zS||aO.pY>Bp){var ahh=document.getElementById(aB[aO.pY].bV);if(ahh.aH){ahh.aH.kT().removeMark(aO.yb);}}aO.yb.xy=false;aO.jd=zS;aO.uJ=gJ;aO.jA=Bp;aO.jT=jT;aO.rY=rY.slice();if(tU!==null){dz=tU;}tU=null;}qs.mouseTool=dz;qs.startIndex=gJ;G.ai('selectTextMouseToolCompleted',qs);if(wO){wO=null;aO=null;}}bi=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:am.preventDefault();if(dE&&dE.aH){dE.aH.hideMagnifier();iH=IPCC.an.es(IPCC.an.Magnifier);bd.style.cursor=iH;dE.aH.display();}bi=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:am.preventDefault();if(bi&&gz){var Gb=0;var Fl=0;var XS=0;var Xf=0;if(gz.x<zK){Gb=zK-gz;XS=gz.x+Gb/2;}else{Gb=gz.x-zK;XS=zK+Gb/2;}if(gz.y<zc){Fl=zc-jn;Xf=gz.y+Fl/2;}else{Fl=gz.y-zc;Xf=zc+Fl/2;}var ann=ak.clientWidth/Gb;var akw=ak.clientHeight/Fl;var qG=ann;if(ann>akw){qG=akw;}if(dE&&dE.aH){dE.aH.pE();dE.aH.display();}bi=false;if(Gb*2+Fl*2>25){G.amW(qG,XS,Xf,dE);}}break;}var Az=false;var ze=false;if(am){Az=am.target.tagName&&am.target.tagName.toLowerCase()==='textarea';ze=am.target.tagName&&am.target.tagName.toLowerCase()==='input'&&am.target.type&&am.target.type.toLowerCase()==='text';}if(PS&& !Az&& !ze){afW(aT);}else if(dz===IPCC.Web.UI.MouseTool.HandPan&&Pg&& !Az&& !ze&&am&&Pg.clientX===am.clientX&&Pg.clientY===am.clientY&&am.shiftKey!==true&&am.ctrlKey!==true){ajz(aT.aH);}};var aCI=function(){var iH;switch(dz){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:bf=IPCC.an.HandOpen;iH=IPCC.an.es(bf);bd.style.cursor=iH;bi=false;break;case IPCC.Web.UI.MouseTool.SelectText:Eu();break;case IPCC.Web.UI.MouseTool.Magnifier:if(aT&&aT.aH){aT.aH.hideMagnifier();iH=IPCC.an.es(IPCC.an.Magnifier);bd.style.cursor=iH;aT.aH.display();}bi=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(aT&&aT.aH){aT.aH.hideSelection();aT.aH.display();bi=false;}break;}};var aDd=function(){aCI();};var aBE=function(){if(dz===IPCC.Web.UI.MouseTool.Magnifier){if(aT&&aT.aH){aT.aH.hideMagnifier();var iH=IPCC.an.es(IPCC.an.Magnifier);bd.style.cursor=iH;aT.aH.display();}bi=false;}else if(dz===IPCC.Web.UI.MouseTool.RectangleZoom){if(aT&&aT.aH){aT.aH.hideSelection();aT.aH.display();bi=false;}}else if(dz===IPCC.Web.UI.MouseTool.SelectText){Eu();}};var nh=function(am){if(am.ctrlKey){switch(dz){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var Qz=am.rawEvent.wheelDelta;am.preventDefault();if(Qz<0){G.zoomOut(1.5);}else{G.zoomIn(1.5);}break;}}else{am.preventDefault();ak.scrollTop-=am.rawEvent.wheelDelta*0.72;}if(dz===IPCC.Web.UI.MouseTool.Magnifier){if(aT&&aT.aH){aT.aH.hideMagnifier();var iH=IPCC.an.es(IPCC.an.Magnifier);bd.style.cursor=iH;aT.aH.display();}bi=false;}else if(dz===IPCC.Web.UI.MouseTool.RectangleZoom){if(aT&&aT.aH){aT.aH.hideSelection();aT.aH.display();bi=false;}}else if(dz===IPCC.Web.UI.MouseTool.SelectText){Eu();}};var aCB=function(bL){var C=new IPCC.Web.UI.MouseEventArgs();C.upTarget={type:'comments',element:bL.target};C.downTarget={type:'comments',element:bL.target};C.originalEvent=bL.rawEvent;C.clientX=bL.clientX;C.clientY=bL.clientY;C.pageIndex=undefined;G.ai('mouseUp',C);};var Eu=function(){if(bi===true){if(aO&&aO.pY!==undefined){if(wO){XN(null,0,0);return;}else{var JR=document.getElementById(aB[aO.pY].bV);if(JR.aH){JR.aH.kT().removeMark(aO.yb);}aO.yb.xy=false;}}G.yn();wO=null;bi=false;if(tU!==null){dz=tU;}tU=null;}};zD=fv({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(cX===IPCC.ViewMode.SinglePage){bd=fv({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});bd.className='pccPageListContainer pccSinglePageView';}else{bd=fv({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});bd.className='pccPageListContainer';}IPCC.Web.UI.ao.addHandler(bd,"mousedown",kv);IPCC.Web.UI.ao.addHandler(bd,"mouseup",jz);IPCC.Web.UI.ao.addHandler(bd,"mousemove",ld);IPCC.Web.UI.ao.addHandler(bd,"mouseleave",aDd);IPCC.Web.UI.ao.addHandler(bd,"mousewheel",nh);IPCC.Web.UI.ao.addHandler(bd,"DOMMouseScroll",aBE);ak.onscroll=(! !Hu)?atT:Sz;bd.setAttribute('id',MB+'_ListContainer');ak.setAttribute('id',MB+'_ListWrapper');wb=MB+'_ListWrapper';kP=fv();kP.className='pccPageListComments pccHidden';kP.setAttribute('id',MB+'_CommentsPanel');var Ug=[];if(IPCC.aN.aAA){Ug.push('touchend');}else{Ug.push('click');}IPCC.aN.forEach(Ug,function(evName){IPCC.Web.UI.ao.addHandler(kP,evName,aCB);});zD.appendChild(bd);zD.appendChild(kP);ak.appendChild(zD);as.appendChild(ak);if(navigator.userAgent.match('MSIE 10')){var bN='',cN='',uC='',ue='',qp;var xj=function(){qp=getComputedStyle(as);uC=qp.getPropertyValue('width');ue=qp.getPropertyValue('height');if(uC!==bN||ue!==cN){bN=uC;cN=ue;ak.style.width=bN;ak.style.height=cN;}};setInterval(xj,1000);window.addEventListener('resize',xj);xj();G.xj=xj;}var aCp=IPCC.aN.IB;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aCp&&window.addEventListener&&document.querySelector){atL(ak);}var aCc=function(bd,aDP){var lD;var UT=function(bL){var aC=bL.rawEvent,iR=aC.touches[0]||aC.changedTouches[0];bL.clientX=iR.clientX;bL.clientY=iR.clientY;bL.preventDefault=function(){aC.preventDefault();};bL.stopPropagation=function(){aC.stopPropagation();};return bL;};var GH=function(hL,bL){var C=new IPCC.Web.UI.MouseEventArgs(),DR=(hL==='touchstart')?'mouseDown':(hL==='touchend')?'mouseUp':null;var DH=(hL==='touchstart')?alx:(hL==='touchmove')?alo:(hL==='touchend')?XN:null;lD=Ri(bL.clientX,bL.clientY);if(hL==='doubleTap'){lD&&lD.aH&&lD.aH.JM(hL,bL);}var ib;ib=Ys(bL);if(ib){if(ib.substring(0,5)==='texth'){bL.preventDefault();bL.stopPropagation();if(hL==='touchstart'){Bg=bL;}DH&&DH(bL,bL.clientX,bL.clientY,0);return;}}switch(dz){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:lD&&lD.aH&&lD.aH.JM(hL,bL);if(DR==='mouseUp'){ala(bL,C);}else if(DR==='mouseDown'){akb(bL,C);}G.ai(hL,C);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:bL.preventDefault();bL.stopPropagation();if(hL==='touchstart'){Bg=bL;if(ib){G.yn();break;}}DH&&DH(bL,bL.clientX,bL.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:bL.preventDefault();bL.stopPropagation();if(hL==='touchstart'){Bg=bL;}DH&&DH(bL,bL.clientX,bL.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(ib===undefined){ib=Ys(bL);}var J=SH(bL,{});if(ib&&Bz){if(!J||J.O.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(hL==='touchstart'){afS(bL,ib,lD);}else if(hL==='touchmove'){lD&&lD.aH&&lD.aH.JM(hL,bL);}else if(hL==='touchend'){lD&&lD.aH&&lD.aH.JM(hL,bL);afW(lD);}}}break;}};var Fp,Cb,wp;var aBM=function(bL){if(bL.rawEvent.touches.length>1){clearTimeout(wp);wp=Cb=Fp=undefined;return;}bL=UT(bL);Fp=bL;if(dz===IPCC.Web.UI.MouseTool.CreatePolylineMark){bL.preventDefault();}Cb=function(){GH('touchstart',bL);wp=Cb=Fp=undefined;};wp=setTimeout(function(){Cb();},200);};var Kz,Df;var aBs=function(bL){bL=UT(bL);uf=false;var awV=function(){if(!Df){return false;}var fz=Df.clientX-bL.clientX;var er=Df.clientY-bL.clientY;var gr=fz*fz+er*er;return gr<2500;};var amf=function(){Kz=Df=undefined;var ib=Ys(bL);if(!ib&&dz===IPCC.Web.UI.MouseTool.HandPan&&Bz&&lD){ajz(lD.aH);}};var app=function(){var akI=Cb;if(Kz&&awV()){clearTimeout(Kz);Df=Kz=undefined;akI();GH('touchend',bL);GH('doubleTap',bL);}else{Kz=setTimeout(function(){akI();GH('touchend',bL);amf();},300);Df=bL;}};if(Fp&&wp){clearTimeout(wp);if(dz===IPCC.Web.UI.MouseTool.CreatePolylineMark){app();}else{amf();}wp=Cb=Fp=undefined;return;}GH('touchend',bL);};var aiS,uf=false;var aBT=function(bL){if(bL.rawEvent.touches.length>1){return;}aiS=bL;if(Fp&&wp){clearTimeout(wp);Cb();}ato();};function ato(){var bL=UT(aiS);GH('touchmove',bL);};IPCC.Web.UI.ao.addHandler(bd,"touchstart",aBM);IPCC.Web.UI.ao.addHandler(bd,"touchmove",aBT);IPCC.Web.UI.ao.addHandler(bd,"touchend",aBs);};aCc(bd,kP);}};function atL(iB){var ahr=function(){},aF=1;function Vd(ads,acq,hT,ayM){iB.style['-ms-transform']=ads;iB.style['-moz-transform']=ads;iB.style['-webkit-transform']=acq;iB.style['transform']=acq;iB.style['-ms-transform-origin']=hT;iB.style['-moz-transform-origin']=hT;iB.style['-webkit-transform-origin']=hT;iB.style['transform-origin']=hT;iB.style.overflow=ayM||'';};Vd('initial','initial','0% 0%','auto');function auB(qG,lb,MR,wh){var fs=(-lb.x/qG)-MR.x,fF=(-lb.y/qG)-MR.y,azY="scale3d("+qG+","+qG+",1) translate3d("+fs+"px,"+fF+"px,0px)",azW="scale("+qG+", "+qG+") translate("+fs+"px,"+fF+"px)";Vd(azW,azY,'center center','visible');ahr=function(){var aa=iB.getBoundingClientRect();var SC={x:(iB.clientWidth/2+ -aa.left+wh.left)/qG,y:(iB.clientHeight/2+ -aa.top+wh.top)/qG};if(wh.agO){SC.x=SC.x-(wh.agO/2);}Vd('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');G.NF(qG,SC,undefined,IPCC.ScaleTrigger.Pinch);};return iB;};function acT(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function adb(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function auM(akc,JX){return{x:akc.x-JX.x,y:akc.y-JX.y};};var XU=false;iB.addEventListener('touchstart',function(ev){if(!XU&&ev.touches.length===2){ajK(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var Ak,Xo=false,zR={};PCCViewer.EventEmitter.extend(zR);iB.addEventListener(IPCC.aN.qt['down'],function(bL){Xo=true;bL=standardizeMSTouch(bL);if(Ak){var aC={};aC.touches=[Ak,bL];aC.changedTouches=[Ak,bL];aC.preventDefault=function(){Ak.rawEvent.preventDefault();bL.rawEvent.preventDefault();};aC.stopPropagation=function(){Ak.rawEvent.stopPropagation();bL.rawEvent.stopPropagation();};ajK(aC);}else{Ak=bL;}});iB.addEventListener(IPCC.aN.qt['move'],function(bL){zR.trigger('touchmove',{rawEvent:bL});});iB.addEventListener(IPCC.aN.qt['up'],function(bL){zR.trigger('touchend',{rawEvent:bL});Ak=undefined;});function ajK(ev){var MR={x:iB.scrollLeft,y:iB.scrollTop};var wh=iB.getBoundingClientRect();var oU=Uz();var adH=iB.querySelector('.pccPageListItem');if(adH.clientWidth<wh.width-30){wh.agO=wh.width-adH.clientWidth;}var lb={x:0,y:0,set:function(agh){this.x=agh.x;this.y=agh.y;return this;}};var uf=false;XU=true;ev.preventDefault();ev.stopPropagation();function Pp(iR){iR.x=iR.clientX||iR.pageX||iR.screenX;iR.y=iR.clientY||iR.pageY||iR.screenY;return iR;};var oj=Pp(ev.touches[0]);var xY=Pp(ev.touches[1]);var pV=acT(oj.x,oj.y,xY.x,xY.y);var aDa=adb(oj.x,oj.y,xY.x,xY.y);var FF,Dg;function QQ(bL){bL.preventDefault();[].forEach.call(bL.changedTouches,function(t){if(t.identifier===oj.identifier){FF=Pp(t);}else if(t.identifier===xY.identifier){Dg=Pp(t);}});if(!FF|| !Dg){return;}var aCH=acT(FF.x,FF.y,Dg.x,Dg.y);var aBA=adb(FF.x,FF.y,Dg.x,Dg.y);aF=aCH/pV;if((cc*aF)<oU.minFactor){aF=oU.minFactor/cc;}else if((cc*aF)>oU.maxFactor){aF=oU.maxFactor/cc;}lb.set(auM(aDa,aBA));if(!uf){uf=true;Gu();}};function RN(){XU=false;uf=false;iB.removeEventListener('touchmove',QQ);iB.removeEventListener('touchend',RN);if(Xo){zR.off('touchmove',afw);zR.off('touchend',aed);}Hu(ahr);};var afw=function(bL){var aki=standardizeMSTouch(bL.rawEvent);aki.preventDefault=function(){};QQ(aki);};var aed=function(bL){RN(standardizeMSTouch(bL.rawEvent));};iB.addEventListener('touchmove',QQ);iB.addEventListener('touchend',RN);if(Xo){zR.on('touchmove',afw);zR.on('touchend',aed);}function Gu(){if(uf){Hu(function(){auB(aF,lb,MR,wh);Gu();});}}}};function atT(){if(cX===IPCC.ViewMode.SinglePage){return;}if(pm){clearTimeout(pm);}if(SF){avE(SF);}avi();pm=setTimeout(function(){pm=null;SF=Hu(function aFN(){mG(true);});},40);};function Sz(){if(iK===false||cX===IPCC.ViewMode.SinglePage){return;}Au(true);if(pm!==null){clearTimeout(pm);}var avC=ak.scrollHeight/aB.length;var MA=0;if(eP===IPCC.PageLayout.VerticalScrollDirection){MA=ak.scrollTop;}else{MA=ak.scrollLeft;}var aAa=MA-OK;OK=MA;var aqq=new Date().getTime();var Ud=aqq-AC;if(Ud>1000){Ud=1000;}pU=aAa/avC*1000/Ud;pm=setTimeout(function(){pm=null;AC=0;AC=new Date().getTime();mG(true);},1000);AC=new Date().getTime();if(pU!==0&&Math.abs(pU)<Ep){if(EC&&pm!==null){clearTimeout(pm);pm=null;}AC=0;AC=new Date().getTime();setTimeout(function(){if(EC&&pm!==null){clearTimeout(pm);pm=null;}AC=0;AC=new Date().getTime();mG(EC);},40);}};function VM(az){var aK=0;var amt=false;var KX;var Lc;for(aK=0;aK<az.childNodes.length;aK++){if(az.childNodes[aK].className==="pccPageListItemLoading"){amt=true;}}if(amt===false){Lc=document.createElement('div');Lc.className='pccPageListItemLoading';az.innerHTML="";az.appendChild(Lc);if(Ho.length>0){KX=document.createElement('div');KX.className='pccPageListItemLoadingContent';KX.innerHTML=Ho;Lc.appendChild(KX);}}};function amm(K,az,QP,Sg){if(document.documentMode!==8){if(K<QP||K>Sg){if(az.style.visibility!=='hidden'){az.style.visibility='hidden';}}else{if(az.style.visibility!=='visible'){az.style.visibility='visible';}if(!az.firstChild){VM(az);}}}};function avi(){var K,cz,az;var rW,sf;var jK,rc,oJ,AV;if(ak===''||ak.clientHeight<=0){return;}rW=ak.scrollTop;sf=ak.scrollLeft;var JU=ak.clientHeight;var Ku=ak.clientWidth;var pG=0;if(eP===IPCC.PageLayout.VerticalScrollDirection){var alI=ak.scrollHeight;pG=alI*rW/(alI-JU);}else{var anu=ak.scrollWidth;pG=anu*sf/(anu-Ku);}var QP=ee;var Sg=iU;ee= -1;rj= -1;iU= -1;for(K=0;K<aB.length;K++){cz=aB[K];if(cz&&cz.bV){az=document.getElementById(cz.bV);if(eP===IPCC.PageLayout.VerticalScrollDirection){jK=az.offsetTop;rc=az.offsetLeft;oJ=jK+az.offsetHeight;AV=rc+az.offsetWidth;}else{jK=az.offsetLeft;rc=az.offsetTop;oJ=jK+az.offsetWidth;AV=rc+az.offsetHeight;}var awp=(K===0&&pG<jK);if((pG>=jK||awp)&&(pG<=oJ||(K===aB.length-1&&pG>oJ))){if(wr===false&&ce!==K){ce=K;var C=new IPCC.PageEventArgs();C.imGearPage=G.get_currentPage();C.pageIndex=ce;G.ai('currentPageChanged',C);}}var sp=0;var BI=0;if(eP===IPCC.PageLayout.VerticalScrollDirection){sp=rW;BI=JU;}else{sp=sf;BI=Ku;}if(oJ>=sp-10&&(K<ee||ee=== -1)){ee=K;QP=ee;}if(jK>=sp-10&&(K<rj||rj=== -1)){rj=K;}if(jK<=sp+BI){if(ee!== -1){iU=K;Sg=iU;}}amm(K,az,QP,Sg);}if(rj=== -1){rj=ce;}if(ee=== -1){ee=ce;}}};function Au(aoF){if(cX===IPCC.ViewMode.SinglePage){return;}var az;var rW,sf;var jK,rc,oJ,AV;if(ak===''||ak.clientHeight<=0){return;}rW=ak.scrollTop;sf=ak.scrollLeft;var JU=ak.clientHeight;var Ku=ak.clientWidth;var acL=ak.scrollWidth;var acy=ak.scrollHeight;var pG=0;if(eP===IPCC.PageLayout.VerticalScrollDirection){pG=acy*rW/(acy-JU);}else{pG=acL*sf/(acL-Ku);}ee= -1;rj= -1;iU= -1;IPCC.aN.forEach(aB,function(cz,K){if(cz&&cz.bV){az=document.getElementById(cz.bV);if(eP===IPCC.PageLayout.VerticalScrollDirection){jK=az.offsetTop;rc=az.offsetLeft;oJ=jK+az.offsetHeight;AV=rc+az.offsetWidth;}else{jK=az.offsetLeft;rc=az.offsetTop;oJ=jK+az.offsetWidth;AV=rc+az.offsetHeight;}if(pG>=jK&&(pG<=oJ||(K===aB.length-1&&pG>oJ))){if(wr===false&&ce!==K&&aoF===true){ce=K;var C=new IPCC.PageEventArgs();C.imGearPage=G.get_currentPage();C.pageIndex=ce;C.pageNodeID=cz.bV;G.ai('currentPageChanged',C);}}var sp=0;var BI=0;if(eP===IPCC.PageLayout.VerticalScrollDirection){sp=rW;BI=JU;}else{sp=sf;BI=Ku;}if(oJ>=sp-10&&ee=== -1){ee=K;}if(jK>=sp-10&&rj=== -1){rj=K;}var ain=false;if(jK<=sp+BI){if(ee!== -1){iU=K;if(ee!== -1&&cz.fL===false&&(az.aH===undefined||az.aH===null||az.aH.gj()===false)&&cz.uS===false){VM(az);ain=true;}}}if(ee!== -1){amm(K,az,ee,iU);}if(ain===false){for(var aK=0;aK<az.childNodes.length;aK++){if(az.childNodes[aK].className==="pccPageListItemLoading"){az.removeChild(az.childNodes[aK]);}}}}});if(rj=== -1){rj=ce;}if(ee=== -1){ee=ce;}wr=false;}};IPCC.PageList.prototype={dispose:function(){this.bS('dispose',arguments);this.Ld(false);this.aql();},get_debug:function(){try{var R=this.sI();this.aZ('get_debug',arguments,R);return R;}catch(e){this.T('get_debug',e);throw e;}},set_debug:function(value){try{this.bS('set_debug',arguments);var mr=this.sI();this.BQ(value);if(!mr){this.bS('set_debug',arguments);}}catch(e){this.T('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var R=this.or();this.aZ('get_debugErrorLevel',arguments,R);return R;}catch(e){this.T('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bS('set_debugErrorLevel',arguments);var mr=this.or();this.rC(value);if(mr<IPCC.Web.UI.DebugErrorLevel.Development){this.bS('set_debugErrorLevel',arguments);}}catch(e){this.T('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.zE(handler);}catch(e){this.T('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Fj(handler);}catch(e){this.T('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.GG(handler);}catch(e){this.T('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.GI(handler);}catch(e){this.T('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Ac(handler);}catch(e){this.T('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.FY(handler);}catch(e){this.T('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.abj(handler);}catch(e){this.T('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Vw(handler);}catch(e){this.T('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.awM(handler);}catch(e){this.T('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.azw(handler);}catch(e){this.T('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.wF(handler);}catch(e){this.T('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.yf(handler);}catch(e){this.T('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.Zo(handler);}catch(e){this.T('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.afr(handler);}catch(e){this.T('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.Bb(handler);},remove_textExtractionFailed:function(handler){this.FR(handler);},add_allPagesAdded:function(handler){try{this.avA(handler);}catch(e){this.T('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aAN(handler);}catch(e){this.T('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.Hq(handler);}catch(e){this.T('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.IU(handler);}catch(e){this.T('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.HL(handler);}catch(e){this.T('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Jq(handler);}catch(e){this.T('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Cy(handler);}catch(e){this.T('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.zJ(handler);}catch(e){this.T('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Ih(handler);}catch(e){this.T('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Ki(handler);}catch(e){this.T('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.iT(handler);}catch(e){this.T('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.kA(handler);}catch(e){this.T('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.Af(handler);}catch(e){this.T('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.yU(handler);}catch(e){this.T('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Yk(handler);}catch(e){this.T('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.XG(handler);}catch(e){this.T('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.CL(handler);}catch(e){this.T('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Fo(handler);}catch(e){this.T('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Co(handler);}catch(e){this.T('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gk(handler);}catch(e){this.T('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.BZ(handler);}catch(e){this.T('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Fw(handler);}catch(e){this.T('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Jz(handler);}catch(e){this.T('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Kp(handler);}catch(e){this.T('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.za(handler);}catch(e){this.T('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.ye(handler);}catch(e){this.T('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.avQ(handler);}catch(e){this.T('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.azI(handler);}catch(e){this.T('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.AH(handler);}catch(e){this.T('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.Gw(handler);}catch(e){this.T('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.Aj(handler);}catch(e){this.T('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.GJ(handler);}catch(e){this.T('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.tn(handler);}catch(e){this.T('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.vz(handler);}catch(e){this.T('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.abq(handler);}catch(e){this.T('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.VT(handler);}catch(e){this.T('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.YL(handler);},remove_exceptionThrown:function(handler){this.Uu(handler);},writeToLog:function(message){try{this.iS(message);}catch(e){this.T('writeToLog',e);throw e;}},get_currentState:function(){try{var R=this.vH();this.aZ('get_currentState',arguments,R);return R;}catch(e){this.T('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var R=this.uz();this.aZ('get_scaleFactor',arguments,R);return R;}catch(e){this.T('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.bS('set_scaleFactor',arguments);this.apE(scaleFactor);}catch(e){this.T('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.bS('zoomIn',arguments);this.NF(factor);}catch(e){this.T('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bS('zoomOut',arguments);this.WZ(factor);}catch(e){this.T('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.arP();},displayAll:function(){try{this.bS('displayAll',arguments,1);this.aqJ();}catch(e){this.T('displayAll',e);throw e;}},display:function(pageIndex){try{this.bS('display',arguments);this.co(pageIndex);}catch(e){this.T('display',e);throw e;}},get_textRequired:function(){try{var R=this.iz();this.aZ('get_textRequired',arguments,R);return R;}catch(e){this.T('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.bS('set_textRequired',arguments);this.yW(value);}catch(e){this.T('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.bS('selectText',arguments,1);this.Wv(pageIndex,startIndex,endIndex,color);}catch(e){this.T('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.bS('clearSelectedText',arguments,1);this.awK(pageIndex);}catch(e){this.T('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.bS('clearAllSelectedText',arguments);this.awy();}catch(e){this.T('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var R=this.arw();this.aZ('get_maxPrefetch',arguments,R);return R;}catch(e){this.T('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.bS('set_maxPrefetch',arguments);this.anE(value);}catch(e){this.T('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var R=this.asQ();this.aZ('get_displayPagesWhenScrolling',arguments,R);return R;}catch(e){this.T('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.bS('set_displayPagesWhenScrolling',arguments);this.azT(value);}catch(e){this.T('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var R=this.asv();this.aZ('get_maxOutOfViewDisplay',arguments,R);return R;}catch(e){this.T('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.bS('set_maxOutOfViewDisplay',arguments);this.amo(value);}catch(e){this.T('set_maxOutOfViewDisplay',e);throw e;}},get_scrollDisplayThreshold:function(){try{var R=this.arQ();this.aZ('get_scrollDisplayThreshold',arguments,R);return R;}catch(e){this.T('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.bS('set_scrollDisplayThreshold',arguments);this.aqx(value);}catch(e){this.T('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var R=this.aaI();this.aZ('get_mouseCursor',arguments,R);return R;}catch(e){this.T('aaI',e);throw e;}},set_mouseCursor:function(value){try{this.bS('set_mouseCursor',arguments);this.anN(value);}catch(e){this.T('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var R=this.VU();this.aZ('get_mouseTool',arguments,R);return R;}catch(e){this.T('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bS('set_mouseTool',arguments);this.Mg(value);}catch(e){this.T('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var R=this.zp();this.bS('get_markHandleMode',arguments);return R;}catch(e){this.T('get_markHandleMode',e);throw e;}},set_markHandleMode:function(H){try{this.bS('set_markHandleMode',arguments);this.Mv(H);}catch(e){this.T('set_markHandleMode',e);throw e;}},get_allowMarkEdits:function(){try{var R=this.asg();this.bS('get_allowMarkEdits',arguments);return R;}catch(e){this.T('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.bS('set_allowMarkEdits',arguments);this.aAl(! !bool);}catch(e){this.T('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var R=this.aft();this.aZ('get_currentPage',arguments,R);return R;}catch(e){this.T('get_currentPage',e);throw e;}},scrollToNextPage:function(){try{this.bS('scrollToNextPage',arguments);this.ayJ();}catch(e){this.T('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.bS('scrollToPreviousPage',arguments);this.aAv();}catch(e){this.T('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.bS('scrollToFirstPage',arguments);this.axi();}catch(e){this.T('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.bS('scrollToLastPage',arguments);this.aym();}catch(e){this.T('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.bS('scrollToPage',arguments,1);this.rI(pageIndex);}catch(e){this.T('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.bS('rotate',arguments,1);this.aAO(degreesClockwise);}catch(e){this.T('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.bS('rotateAll',arguments,1);this.aey(degreesClockwise,true);}catch(e){this.T('rotateAll',e);throw e;}},get_enabled:function(){try{var R=this.PV();this.aZ('get_enabled',arguments,R);return R;}catch(e){this.T('get_enabled',e);throw e;}},get_pageLayout:function(){try{var R=this.asX();this.aZ('get_pageLayout',arguments,R);return R;}catch(e){this.T('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.bS('set_pageLayout',arguments);this.aoo(value);}catch(e){this.T('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var R=this.asx();this.aZ('get_viewMode',arguments,R);return R;}catch(e){this.T('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.bS('set_viewMode',arguments);this.NG(value);}catch(e){this.T('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var R=this.auk();this.aZ('get_loadingContent',arguments,R);return R;}catch(e){this.T('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.bS('set_loadingContent',arguments);this.anm(value);}catch(e){this.T('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.bS('fitPages',arguments,1);this.atd(fitType);}catch(e){this.T('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.bS('openPage',arguments,1);this.Eq(pageIndex);}catch(e){this.T('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.bS('requestPageAttributes',arguments,1);this.Ti(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.T('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.bS('scrollRegionIntoView',arguments,1);return this.aAG(pageIndex,rectangle);}catch(e){this.T('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.bS('scrollBy',arguments,1);return this.azf(xVal,yVal);}catch(e){this.T('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.bS('scrollConversationIntoView',arguments,1);return this.aAx(conversation);}catch(e){this.T('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.Wm();},get_encryption:function(){try{var R=this.dU();this.aZ('get_encryption',arguments,R);return R;}catch(e){this.T('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bS('set_encryption',arguments);this.hX(value);}catch(e){this.T('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var R=this.ary();return R;}catch(e){this.T('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aAk(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.T('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var R=this.mN();this.aZ('get_resourcePath',arguments,R);return R;}catch(e){this.T('get_resourcePath',e);throw e;}},set_resourcePath:function(H){try{this.bS('set_resourcePath',arguments);this.uV(H);}catch(e){this.T('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var R=this.mI();this.aZ('get_redactionDraftMode',arguments,R);return R;}catch(e){this.T('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.bS('set_redactionDraftMode',arguments);this.qZ(value);}catch(e){this.T('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var R=this.aup();this.aZ('get_displayedPages',arguments,R);return R;}catch(e){this.T('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var R=this.nY();this.aZ('get_requireRequestsOptimize',arguments,R);return R;}catch(e){this.T('nY',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bS('set_requireRequestsOptimize',arguments);this.sJ(value);}catch(e){this.T('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var R=this.ia();this.aZ('get_serviceResponseTimeout',arguments,R);return R;}catch(e){this.T('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bS('set_serviceResponseTimeout',arguments);this.sm(value);}catch(e){this.T('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var R=this.arE();this.aZ('get_pageRotation',arguments,R);return R;}catch(e){this.T('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.bS('set_pageRotation',arguments);this.anT(value);}catch(e){this.T('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.bS('getNodeID',arguments,1);return this.asK(pageIndex);}catch(e){this.T('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var R=this.atE();this.aZ('get_isCommentsPanelOpen',arguments,R);return R;}catch(e){this.T('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.bS('openCommentsPanel',arguments);this.axf();}catch(e){this.T('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.bS('closeCommentsPanel',arguments);this.ari();}catch(e){this.T('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var R=this.asS();this.aZ('get_conversationDOMFactory',arguments,R);return R;}catch(e){this.T('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.bS('set_conversationDOMFactory',arguments);this.aAd(value);}catch(e){this.T('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var R=this.ase();this.aZ('get_selectedConversation',arguments,R);return R;}catch(e){this.T('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.bS('set_selectedConversation',arguments);this.apu(value);}catch(e){this.T('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.bS('refreshConversations',arguments);this.aAy(markIDs);}catch(e){this.T('refreshConversations',e);throw e;}}};IPCC.PageList.registerClass=IPCC.Web.regClass;IPCC.PageList.registerClass('IPCC.PageList',IPCC.Sys.UI.Control);IPCC.cz=function(bj){this.aQ=undefined;this.aS=0;this.bI=0;this.hn=72;this.hD=72;var bP=new IPCC.Web.UI.gK();this.bV=undefined;this.xr=undefined;this.zA=undefined;this.fL=false;this.bH=undefined;this.fJ=undefined;this.Ar=false;this.DG=0;this.apD=undefined;this.hK=false;this.hy=false;this.uS=false;this.gR=0;this.If=0;this.zs=false;if(arguments.length>0){if(bj.page!==undefined){this.aQ=bj.page;}}this.aA=function(dP){var L=bP.getHandler('propertyChanged');if(L){L(this,new IPCC.pR(dP));}};return this;};IPCC.eR=function(){this.du=undefined;return this;};var PCCViewer=PCCViewer||{};(function(PCCViewer){PCCViewer.Error=function(code,message){var aih=Error.call(null,message);this.code=code;function auQ(de,hE){Object.getOwnPropertyNames(hE).forEach(function(propName){Object.defineProperty(de,propName,Object.getOwnPropertyDescriptor(hE,propName));});return de;};function awq(de,hE){for(var i in hE){if(hE.hasOwnProperty(i)){de[i]=hE[i];}}return de;};if(typeof Object.create==='function'){auQ(this,aih);}else{awq(this,aih);}};var aCn=(function(){var eD=function(){};return function(adn){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof adn!=='object'){throw TypeError('Argument must be an object');}eD.prototype=adn;var aG=new eD();eD.prototype=null;return aG;};})();if(typeof Object.create==='function'){PCCViewer.Error.prototype=Object.create(Error.prototype);}else{PCCViewer.Error.prototype=aCn(Error.prototype);}PCCViewer.Error.prototype.constructor=PCCViewer.Error;})(PCCViewer||{});var PCCViewer=PCCViewer||{};PCCViewer.Language=(function(){var aCz=function(languageData){this.data=languageData;return this;};var asd=function(){return this.data;};var asW=function(key){if(typeof this.data==='undefined'){throw new Error('Language data is not set.');}var rO=key.split('.'),by=this.data,bA;while(rO.length){bA=rO.shift();by=by[bA];if(typeof by==='undefined'){by=key;break;}}return by;};return{data:{},initializeData:aCz,getData:asd,getValue:asW};})();var PCCViewer=window.PCCViewer||{};(function(){"use strict";function Event(target,type){this.de=target;this.aI=type;};PCCViewer.Event=Event;PCCViewer.Event.prototype.getTarget=function(){return this.de;};PCCViewer.Event.prototype.getType=function(){return this.aI;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}PCCViewer.EventEmitter=(function(){function on(eventType,handler){if(!this.lc){this.lc={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.lc[lowerCaseEventType];if(!handlers){handlers=this.lc[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.lc){this.lc={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.lc[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.lc){this.lc={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.lc[lowerCaseEventType],i,length=0;if(properties){PCCViewer.BV.ub(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();})();var PCCViewer=PCCViewer||{};(function(){'use strict';function PromiseDeferred(){this.eE=PromiseDeferred.States.Pending;this.H=null;this.fK=null;this.Rq=[];this.PZ=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var AE=new PromiseDeferred();if(onFulfilled&&typeof onFulfilled==='function'){var aCV=function(H){try{var R=onFulfilled(H);AE.resolve(R);}catch(e){AE.reject(e);}};this.Rq.push(aCV);}else{var aDE=function(H){AE.resolve(H);};this.Rq.push(aDE);}if(onRejected&&typeof onRejected==='function'){var aya=function(fK){try{var R=onRejected(fK);Uv(AE,R);}catch(e){AE.reject(e);}};this.PZ.push(aya);}else{var azg=function(fK){AE.reject(fK);};this.PZ.push(azg);}if(this.eE===PromiseDeferred.States.Fulfilled){this.alk();}if(this.eE===PromiseDeferred.States.Rejected){this.alz();}return AE;};PromiseDeferred.prototype.resolve=function(x){if(!this.amG()){return;}Uv(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.amG()){return;}this.AK(reason);};PromiseDeferred.prototype.aas=function(ad){this.eE=PromiseDeferred.States.Fulfilled;this.H=ad;this.alk();};PromiseDeferred.prototype.alk=function(){var callback;while(this.Rq.length>0){callback=this.Rq.shift();(function(nb,H){setTimeout(function(){nb(H);},0);})(callback,this.H);}};PromiseDeferred.prototype.alz=function(){var callback;while(this.PZ.length>0){callback=this.PZ.shift();(function(nb,H){setTimeout(function(){nb(H);},0);})(callback,this.fK);}};function Uv(dp,ad){if(dp===ad){dp.AK(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(ad&&ad.ZR&&dp.abB&&dp.abB===ad){dp.AK(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(ad&&ad.ZR&&ad.ZR==="PCCViewer.Promise"){ad.then(function(aoG){dp.aas(aoG);},function(aom){dp.AK(aom);});}else if(ad!==null&&(typeof ad==='object'||typeof ad==='function')){var Tz;try{Tz=ad.then;}catch(e){dp.AK(e);return;}if(typeof Tz==='function'){var JF=true;var anX=function(fp){if(JF){Uv(dp,fp);JF=false;}};var aoC=function(R){if(JF){dp.AK(R);JF=false;}};try{Tz.call(ad,anX,aoC);}catch(e){if(JF){dp.AK(e);}}}else{dp.aas(ad);}}else{dp.aas(ad);}};PromiseDeferred.prototype.AK=function(reason){this.eE=PromiseDeferred.States.Rejected;this.fK=reason;this.alz();};PromiseDeferred.prototype.amG=function(){return this.eE===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};PCCViewer.Deferred=function(){var ZM=new PromiseDeferred();function Promise(dp){this.then=function(onFulfilled,onRejected){return new Promise(dp.then(onFulfilled,onRejected));};this.ZR="PCCViewer.Promise";dp.abB=this;};var promise=new Promise(ZM);return{getPromise:function(){return promise;},resolve:function(value){ZM.resolve(value);},reject:function(reason){ZM.reject(reason);}};};PCCViewer.Promise={all:function(promises){var i,bk=new PCCViewer.Deferred(),ZB=bk.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var bk=new PCCViewer.Deferred();bk.resolve(value);return bk.getPromise();};bk.resolve([]);for(i=0;i<promises.length;i++){ZB=ZB.then(createPushFunction(promises[i]));}return ZB;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=PCCViewer.Deferred;}})();(function(PCCViewer){function akH(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function atC(ayK){var aB=[];var ajv=function(n){return!(isNaN(+n));};var agZ=ayK.split(',');var PQ,TL;var NU=0;var MX=0;for(var K=0;K<agZ.length;K++){var Ji=agZ[K].split('-');var BX=Ji[0].replace(/\s+/g,'');if(BX.length===0){continue;}var Jh=BX;if(Ji[1]!==undefined&&Ji[1]!==""){Jh=Ji[1].replace(/\s+/g,'');}BX= +(BX);Jh= +(Jh);if(ajv(BX)===true){NU=parseInt(BX);}if(ajv(Jh)===true){MX=parseInt(Jh);}if(NU<MX){PQ=NU;TL=MX;}else{PQ=MX;TL=NU;}if(Ji.length>1){for(var bD=PQ;bD<=TL;bD++){aB.push(bD);}}else{aB.push(PQ);}}aB.sort(function(a,b){return a-b;});for(K=aB.length-1;K>0;K--){if(aB[K-1]===aB[K]){aB.splice(K,1);}}return aB;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};PCCViewer.Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var hw;if(!(selections instanceof Array)){hw=[selections];}else{hw=selections;}IPCC.aN.forEach(hw,function(bW){IPCC.aJ.nQ(bW.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aJ.nQ(bW.length,'selection.length',1,Number.MAX_VALUE);IPCC.aJ.eK(bW.color,'selection.color');IPCC.aJ.nQ(bW.opacity,'selection.opacity',0,255);});IPCC.aJ.eK(backgroundColor,'backgroundColor');var anf=IPCC.aN.als(hw);return IPCC.aN.map(anf,function(bq){bq.length=bq.endIndex-bq.startIndex+1;return bq;});},layerColors:function(colors,backgroundColor){var OQ;if(!(colors instanceof Array)){OQ=[colors];}else{OQ=colors;}IPCC.aN.forEach(OQ,function(bW){IPCC.aJ.eK(bW.color,'selection.color');IPCC.aJ.nQ(bW.opacity,'selection.opacity',0,255);});IPCC.aJ.eK(backgroundColor,'backgroundColor');return IPCC.aN.aiT(OQ,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw akH('Illegal page range value',pageRange);}var dj=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){dj.unshift(upperLimit--);}}else{dj=atC(pageRange);if((dj.length===0&& !allowEmpty)||dj[0]<lowerLimit||dj[dj.length-1]>upperLimit){throw akH('Pages are out of range',dj.join(', '));}}return dj;}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ObservableCollection=function(){var Be=[];var qi={};PCCViewer.EventEmitter.extend(qi);qi.QG=function(DR,cU){var G=this;return setTimeout(function(){G.trigger(DR,cU);},0);};this.add=function(item){Be.push(item);qi.QG(this.EventType.ItemAdded,{item:item,count:Be.length});return this;};this.remove=function(item){var G=this;this.forEach(function(e,idx){if(e===item){Be.splice(idx,1);qi.QG(G.EventType.ItemRemoved,{item:item,count:Be.length});}});return this;};this.removeAll=function(){Be=[];qi.QG(this.EventType.ItemRemoved,{count:Be.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.aN.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(Be);};this.on=function(eventType,handler){qi.on.apply(qi,arguments);return this;};this.off=function(eventType,handler){qi.off.apply(qi,arguments);return this;};};PCCViewer.ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};})(PCCViewer||{});var PCCViewer=window.PCCViewer||{};(function(){"use strict";PCCViewer.Data=(function(){function getData(key){return this.bY.get_data(key);};function setData(key,value){this.bY.set_data(key,value);return this;};function getDataKeys(){return this.bY.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},qQ:function(hE,oY){if(typeof hE.getData!=="function"||typeof hE.setData!=="function"||typeof hE.getDataKeys!=="function"||typeof oY.getData!=="function"||typeof oY.setData!=="function"||typeof oY.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var rO=hE.getDataKeys(),i,length=rO.length;for(i=0;i<length;i++){var bA=rO[i];oY.setData(bA,hE.getData(bA));}}};})();PCCViewer.SessionData=(function(){function getSessionData(key){return this.Gz.get_data(key);};function setSessionData(key,value){this.Gz.set_data(key,value);return this;};function getSessionDataKeys(){return this.Gz.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aEv:function(hE,oY){if(typeof hE.getSessionData!=="function"||typeof hE.setSessionData!=="function"||typeof hE.getSessionDataKeys!=="function"||typeof oY.getSessionData!=="function"||typeof oY.setSessionData!=="function"||typeof oY.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var rO=hE.getSessionDataKeys(),i,length=rO.length;for(i=0;i<length;i++){var bA=rO[i];oY.setSessionData(bA,hE.getSessionData(bA));}}};})();})();(function(undefined){'use strict';function Mark(parameters){this.bC=0;this.bX=undefined;this.GK=false;this.oV=PCCViewer.Mark.InteractionMode.Full;this.gI=true;if(parameters.uid&&parameters.viewerControl){(function(au,kS){IPCC.aN.forEach(au,function validateMark(mC){if(mC.getUid()===kS){throw new Error('Uid '+kS+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var kS=parameters.uid||IPCC.aN.akO();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.h=parameters.igMark;this.bX=this.h.get_markID().toString();this.bY=this.h.get_data();}else{this.bY=new IPCC.Web.UI.Data();}PCCViewer.Data.extend(this);this.Gz=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aJ.iw(parameters.pageNumber,'pageNumber');this.bC=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aJ.ii(parameters.id,'id');this.bX=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.GK){this.aI=parameters.type;this.GK=true;}else if(parameters.type!==undefined){IPCC.aJ.ii(parameters.type,'type');var La=Py(parameters.type,PCCViewer.Mark.Type);if(La===null){throw new RangeError("The value of mark type was invalid.");}this.aI=La;}if('cl'in parameters){this.cl=parameters.cl;}if('av'in parameters){this.av=parameters.av;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return kS;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:kS,enumerable:true,writable:false});}};PCCViewer.Mark=Mark;PCCViewer.Mark.prototype.getType=function(){return this.aI;};PCCViewer.Mark.prototype.getId=function(){return this.bX;};PCCViewer.Mark.prototype.getPageNumber=function(){return this.bC;};PCCViewer.Mark.prototype.getConversation=function(){if(!this.dA){this.dA=new PCCViewer.Conversation(this);}return this.dA;};PCCViewer.Mark.prototype.getBoundingRectangle=function(){if(this.h){var bm=this.h.get_boundingRectangle();if(bm instanceof IPCC.Web.UI.Rectangle){this.rm={width:bm.width,height:bm.height,x:bm.x,y:bm.y};}}return this.rm;};PCCViewer.Mark.prototype.getInteractionMode=function(){if(this.h){switch(this.h.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.oV;};PCCViewer.Mark.prototype.setInteractionMode=function(interactionMode){var oV=Py(interactionMode,PCCViewer.Mark.InteractionMode),Rz;switch(oV){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Rz=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Rz=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw PCCViewer.Error("InvalidArgument","The specified interactionMode is not valid.");}if(this.h){this.h.set_interactionMode(Rz);}this.oV=oV;return this;};PCCViewer.Mark.prototype.reset=function(){var eL=new Mark({type:this.aI,GK:this.GK});this.bY={};if(this.setBorderColor&&eL.getBorderColor){this.setBorderColor(eL.getBorderColor());}if(this.setBorderThickness&&eL.getBorderThickness){this.setBorderThickness(eL.getBorderThickness());}if(this.setColor&&eL.getColor){this.setColor(eL.getColor());}if(this.setEndHeadType&&eL.getEndHeadType){this.setEndHeadType(eL.getEndHeadType());}if(this.setEndPoint&&eL.getEndPoint){this.setEndPoint(eL.getEndPoint());}if(this.setFillColor&&eL.getFillColor){this.setFillColor(eL.getFillColor());}if(this.setFontColor&&eL.getFontColor){this.setFontColor(eL.getFontColor());}if(this.setFontName&&eL.getFontName){this.setFontName(eL.getFontName());}if(this.setFontSize&&eL.getFontSize){this.setFontSize(eL.getFontSize());}if(this.setFontStyle&&eL.getFontStyle){this.setFontStyle(eL.getFontStyle());}if(this.setHorizontalAlignment&&eL.getHorizontalAlignment){this.setHorizontalAlignment(eL.getHorizontalAlignment());}if(this.setLabel&&eL.getLabel){this.setLabel(eL.getLabel());}if(this.setPosition&&this.h&&eL.getPosition){this.setPosition(eL.getPosition());}if(this.setReason&&eL.setReason){this.setReason(eL.getReason());}if(this.setOpacity&&eL.getOpacity){this.setOpacity(eL.getOpacity());}if(this.setRectangle&&eL.getRectangle){this.setRectangle(eL.getRectangle());}if(this.setStartPoint&&eL.getStartPoint){this.setStartPoint(eL.getStartPoint());}if(this.setText&&eL.getText){this.setText(eL.getText());}if(this.setThickness&&eL.getThickness){this.setThickness(eL.getThickness());}if(this.setPath&&eL.getPath){this.setPath(eL.getPath());}if(this.setHref&&eL.getHref){this.setHref(eL.getHref());}if(this.setImage&&eL.getImage){this.setImage(eL.getImage());}if(this.setInteractionMode&&eL.getInteractionMode){this.setInteractionMode(eL.getInteractionMode());}if(this.setPoints&&eL.getPoints){this.setPoints(eL.getPoints());}};if(Object.defineProperties){Object.defineProperties(PCCViewer.Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(){return this.setInteractionMode();}}});}PCCViewer.Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation"};PCCViewer.Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};PCCViewer.Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};PCCViewer.Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};PCCViewer.Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function Py(Sq,aI){var Ya=Sq.toLowerCase();for(var standardType in aI){if(aI.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Ya){return standardType;}}return null;};function addMethodsToMark(O){function KM(O){O.highlightText=function(highlights){if(!this.h){throw new Error("It is invalid to highlight text on this mark.");}var lU;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){lU=[highlights];}else{lU=highlights;}for(var i=0;i<lU.length;i++){awH(lU[i]);}}else{lU=[];}var aI=O.getType();switch(aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:O.h.selectText(lU);break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:var G=this;var Qj=[];var ub=false,Nq=0,MC,Ge;var acF=function(FQ,aoQ,hw){var zU;var Zn= -1,Pn=[];var Am=(FQ.bK+FQ.cw);if(ub===true&&MC>=0&&Ge>=0){if(FQ.aM-1===MC){zU=0;if(Nq<=Am){Pn.push({startIndex:zU,length:Nq,color:hw[Ge].color,opacity:(hw[Ge].opacity)?hw[Ge].opacity:127});ub=false;Nq=0;MC= -1;Ge= -1;}}}for(var aK=0;aK<hw.length;aK++){zU=FQ.bK+hw[aK].startIndex-aoQ;if(zU<0){continue;}if(Array.prototype.indexOf){Zn=Qj.indexOf(aK);}else{Zn=IPCC.Web.hG(Qj,aK);}var cn=127;if(Zn=== -1){if(zU+hw[aK].length<=Am){if(hw[aK].opacity){cn=hw[aK].opacity;}Pn.push({startIndex:zU,length:hw[aK].length,color:hw[aK].color,opacity:cn});Qj.push(aK);G.HS.push(hw[aK]);}else{var aaR=Am-zU;if(aaR>0){Nq=hw[aK].length-aaR;cn=127;if(hw[aK].opacity){cn=hw[aK].opacity;}Pn.push({startIndex:zU,length:aaR,color:hw[aK].color,opacity:cn});Qj.push(aK);G.HS.push(hw[aK]);ub=true;Ge=aK;MC=FQ.aM;}}}}return Pn;};this.HS=[];var eJ=acF(this.h,0,lU);O.clearHighlights();if(eJ.length>0){G.h.selectText(eJ);}eJ=[];var lb=this.h.cw;if(this.cF&&this.cF.length){for(var K=0;K<this.cF.length;K++){eJ=[];eJ=acF(this.cF[K],lb,lU);lb+=this.cF[K].cw;if(eJ.length>0){this.cF[K].selectText(eJ);}}}break;}return this;};function awH(Fg){IPCC.aJ.nQ(Fg.startIndex,'highlight.startIndex',0,O.getText().length);IPCC.aJ.nQ(Fg.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aJ.eK(Fg.color,'highlight.color');if(Fg.opacity){IPCC.aJ.nQ(Fg.opacity,"highlight.opacity",0,255);}};O.clearHighlights=function(){if(this.h){if(!this.h){throw new Error("It is invalid to clear highlights on this mark.");}}var aI=O.getType();switch(aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:O.h.selectText();break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:this.h.selectText();if(this.cF&&this.cF.length){for(var K=0;K<this.cF.length;K++){this.cF[K].selectText();}}break;}return this;};};var aI=O.getType();switch(aI){case PCCViewer.Mark.Type.TextAnnotation:KM(O);break;case PCCViewer.Mark.Type.TextRedaction:KM(O);break;case PCCViewer.Mark.Type.HighlightAnnotation:KM(O);break;case PCCViewer.Mark.Type.TextSelectionRedaction:KM(O);break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:KM(O);break;default:break;}};function addPropertiesToMark(O){O.rm={x:0,y:0,width:0,height:0};var aI=O.getType();switch(aI){case PCCViewer.Mark.Type.LineAnnotation:O.eK='#18385F';O.gv=IPCC.Web.UI.LineStyle.Solid;O.rs=6;O.cn=255;O.ML={x:0,y:0};O.Am={x:0,y:0};O.mt="None";break;case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:O.cI='#FB0404';O.cn=255;O.rh='#000000';O.qc=4;O.F={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.RectangleRedaction:O.fK="";O.F={x:0,y:0,width:0,height:0};O.oO=true;if(O.h){O.h.kN(O.oO);O.h.set_fillColor('#000000');}break;case PCCViewer.Mark.Type.TransparentRectangleRedaction:O.F={x:0,y:0,width:0,height:0};O.oO=true;if(O.h){O.h.kN(O.oO);O.h.set_fillColor('#FFFF00');O.h.set_opacity(127);O.h.set_lineWidth(1);O.h.set_lineColor('#FFFF00');}break;case PCCViewer.Mark.Type.TextAnnotation:O.bo='';O.cI='#FFFFFF';O.cn=127;O.rh='#000000';O.qc=4;O.lB='#000000';O.gf="Arial";O.cJ=12;O.ff=[];O.xt="Left";O.F={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:O.wl="Approved";O.F={x:0,y:0,width:0,height:0};if(aI===PCCViewer.Mark.Type.StampRedaction){O.oO=true;if(O.h){O.h.kN(O.oO);O.h.set_fillColor('#000000');}}else{O.eK="#000000";}break;case PCCViewer.Mark.Type.HighlightAnnotation:O.cI="#FFFF00";O.bo='';O.dm='';if(O.h){if(O.h.dm){O.bo=O.h.dm;}}O.dr={startIndex:0,length:0};O.HS=[];O.cF=[];break;case PCCViewer.Mark.Type.TextSelectionRedaction:O.fK="";O.bo='';O.dr={startIndex:0,length:0};if(O.h){O.h.set_fillColor('#000000');if(O.h.dm){O.bo=O.h.dm;}}O.HS=[];O.cF=[];break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:O.oh='';O.bo='';if(O.h){if(O.h.dm){O.bo=O.h.dm;}}O.dr={startIndex:0,length:0};O.HS=[];O.cF=[];break;case PCCViewer.Mark.Type.TextRedaction:O.bo='';O.lB='#000000';O.gf="Arial";O.cJ=12;O.F={x:0,y:0,width:0,height:0};O.oO=true;if(O.h){O.h.kN(O.oO);O.h.set_fillColor('#FFFFFF');}break;case PCCViewer.Mark.Type.FreehandAnnotation:O.cn=255;case PCCViewer.Mark.Type.FreehandSignature:O.F={x:0,y:0,width:0,height:0};O.rs=4;O.eK='#000000';O.cV='M0,0';break;case PCCViewer.Mark.Type.TextSignature:O.bo="John Doe";O.F={x:0,y:0,width:0,height:0};O.eK="#000000";if(O.h){O.eK=O.h.cI||'#000000';O.h.kN(O.oO);O.h.set_fillColor(O.eK);}O.gf="";break;case PCCViewer.Mark.Type.TextInputSignature:O.bo="";O.F={x:0,y:0,width:0,height:0};O.lB="#000000";if(O.h){O.lB=O.h.get_textColor()||'#000000';O.h.kN(false);}O.gf="Courier New";break;case 'PlaceSignature':O.mU=undefined;O.F={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:O.aY="";O.qm="";O.F={x:0,y:0,width:0,height:0};if(O.h&&aI===PCCViewer.Mark.Type.ImageStampRedaction){O.oO=true;O.h.kN(O.oO);}break;case PCCViewer.Mark.Type.PolylineAnnotation:O.eK='#000000';O.gv=IPCC.Web.UI.LineStyle.Solid;O.rs=2;O.cn=255;O.bE=[{x:0,y:0},{x:0,y:0}];break;}function getSignature(){return this.mU||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.mU=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.mU=signature;return this;};if(O.mU||O.aI==='PlaceSignature'){O.getSignature=getSignature;O.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(O,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.eK=this.h.get_lineColor()||this.eK;break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.TextSignature:this.eK=this.h.get_fillColor()||this.eK;break;}}return this.eK;};function setColor(value){IPCC.aJ.eK(value,'color');this.eK=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.h.set_lineColor(value);break;case PCCViewer.Mark.Type.StampAnnotation:this.h.set_fillColor(value);break;case PCCViewer.Mark.Type.TextSignature:this.h.set_textColor(value);this.h.set_fillColor(value);break;}}return this;};if(O.eK!==undefined){O.getColor=getColor;O.setColor=setColor;if(Object.defineProperties){Object.defineProperties(O,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:this.cI=this.h.get_fillColor()||this.cI;break;}}return this.cI;};function setFillColor(value){if(this.aI===PCCViewer.Mark.Type.HighlightAnnotation){IPCC.aJ.eK(value,'fillColor');}else{IPCC.aJ.Wl(value,'fillColor');}this.cI=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.h.set_fillColor(value);break;case PCCViewer.Mark.Type.HighlightAnnotation:this.h.set_fillColor(value);if(this.cF&&this.cF.length){for(var K=0;K<this.cF.length;K++){this.cF[K].set_fillColor(value);}}break;}}return this;};if(O.cI!==undefined){O.getFillColor=getFillColor;O.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(O,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.aY,id:this.qm};return retVal;};function setImage(params){IPCC.aJ.ii(params.dataUrl,'string');IPCC.aJ.ii(params.id,'string');this.aY=params.dataUrl;this.qm=params.id;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:this.h.set_image(params.dataUrl);this.h.qm=params.id;break;}}return this;};if(O.aY!==undefined){O.getImage=getImage;O.setImage=setImage;if(Object.defineProperties){Object.defineProperties(O,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.rh=this.h.get_lineColor()||this.rh;break;}}return this.rh;};function setBorderColor(value){IPCC.aJ.Wl(value,'borderColor');this.rh=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.h.set_lineColor(value);break;}}return this;};if(O.rh!==undefined){O.getBorderColor=getBorderColor;O.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(O,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.cn=this.h.get_opacity()||this.cn;break;}}return this.cn;};function setOpacity(value){IPCC.aJ.nQ(value,'opacity',0,255);this.cn=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.h.set_opacity(value);break;}}return this;};if(O.cn!==undefined&&O.cn>=0){O.getOpacity=getOpacity;O.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(O,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.rs=this.h.get_lineWidth()||this.rs;break;}}return this.rs;};function setThickness(value){IPCC.aJ.mE(value,'thickness',1,50);this.rs=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.h.set_lineWidth(value);break;}}return this;};if(O.rs){O.getThickness=getThickness;O.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(O,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.qc=this.h.get_lineWidth()||this.qc;break;}}return this.qc;};function setBorderThickness(value){IPCC.aJ.mE(value,'borderThickness',1,50);this.qc=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.h.set_lineWidth(value);break;}}return this;};if(O.qc!==undefined){O.getBorderThickness=getBorderThickness;O.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(O,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.h){this.gI=this.h.get_visible();}return this.gI;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.gI=value;if(this.h){this.h.set_visible(value);}var K;switch(this.aI){case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:if(this.cF&&this.cF.length){for(K=0;K<this.cF.length;K++){this.cF[K].set_visible(value);}}if(this.aI===PCCViewer.Mark.Type.TextSelectionRedaction){var ea=this.h;for(K=0;K<this.h.ds.length;K++){ea.ds[K].set_visible(value);}if(ea.dM){IPCC.aN.forEach(this.cF,function(h){for(K=0;K<h.ds.length;K++){h.ds[K].set_visible(value);}});}}break;}return this;};if(O.gI!==undefined){O.getVisible=getVisible;O.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(O,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.h&&this.h!==null){var bE=this.h.get_points();if(bE.get_length()>0){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:var ba=bE.getPoint(0);if(ba){this.ML={x:ba.x,y:ba.y};}break;}}}return this.ML;};function setStartPoint(value){IPCC.aJ.iw(value.x,'startPoint'+'.x');IPCC.aJ.iw(value.y,'startPoint'+'.y');if(this.h&&this.h!==null){var bE=this.h.get_points();switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:bE.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.ML=value;return this;};if(O.ML){O.getStartPoint=getStartPoint;O.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(O,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.h&&this.h!==null){var bE=this.h.get_points();if(bE.get_length()>0){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:var ba=bE.getPoint(1);if(ba){this.Am={x:ba.x,y:ba.y};}break;}}}return this.Am;};function setEndPoint(value){IPCC.aJ.iw(value.x,'endPoint'+'.x');IPCC.aJ.iw(value.y,'endPoint'+'.y');if(this.h&&this.h!==null){var bE=this.h.get_points();switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:bE.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.Am=value;return this;};if(O.Am){O.getEndPoint=getEndPoint;O.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(O,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.h&&this.h!==null){var FD;switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:FD=this.h.get_endHeadType();switch(FD){case IPCC.Web.UI.LineHeadType.None:this.mt=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mt=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mt;};function setEndHeadType(value){var FD;switch(value){case PCCViewer.Mark.LineHeadType.None:FD=IPCC.Web.UI.LineHeadType.None;break;case PCCViewer.Mark.LineHeadType.FilledTriangle:FD=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.h&&this.h!==null){switch(this.aI){case PCCViewer.Mark.Type.LineAnnotation:this.h.set_endHeadType(FD);break;}}this.mt=value;return this;};if(O.mt){O.getEndHeadType=getEndHeadType;O.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(O,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.h&&this.h!==null){var Hl=this.h.get_points();var cL=Hl.get_length();var aim=[];var Zt=function(aBh,bD){aim.push(aBh.getPoint(bD));};if(cL>1){switch(this.aI){case PCCViewer.Mark.Type.PolylineAnnotation:for(var K=0;K<cL;K++){Zt(Hl,K);}this.bE=aim;break;}}}return this.bE.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var aK=0;aK<value.length;aK++){IPCC.aJ.ba(value[aK],'PolylinePoint');}if(this.h&&this.h!==null){var Hl=this.h.get_points();var aou=function(bD){Hl.addPoint(new IPCC.Web.UI.Point(value[bD].x,value[bD].y));};switch(this.aI){case PCCViewer.Mark.Type.PolylineAnnotation:Hl.removeAllPoints();for(var K=0;K<value.length;K++){aou(K);}}}this.bE=value;return this;};if(O.bE){O.getPoints=getPoints;O.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(O,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var bm=this.h.get_rectangle();if(bm instanceof IPCC.Web.UI.Rectangle){this.F={width:bm.width,height:bm.height,x:bm.x,y:bm.y};}break;}}return this.F;};function setRectangle(value){IPCC.aJ.iw(value.x,'rectangle'+'.x');IPCC.aJ.iw(value.y,'rectangle'+'.y');IPCC.aJ.iw(value.width,'rectangle'+'.width');IPCC.aJ.iw(value.height,'rectangle'+'.height');if(this.h&&this.h!==null){switch(this.aI){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var bm=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.h.set_rectangle(bm);break;}}this.F=value;return this;};if(O.F){O.getRectangle=getRectangle;O.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(O,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dw=0;if(this.h&&this.h.dm){dw=this.h.dm.length;}else if(this.h){dw=IPCC.aN.reduce([this.h].concat(this.cF||[]),function(cL,h){return cL+h.get_textLength();},0);}return this.h?{startIndex:this.h.bK,length:dw}:this.dr;};function setPosition(value){IPCC.aJ.iw(value.startIndex,'position.startIndex');IPCC.aJ.iw(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.h===undefined||this.h===null){throw new Error("The mark must be on a page.");}var aW;var bH;var aM=this.bC-1;var vt= -value.startIndex;var oa=[];var dm="";var dk;while(true){if(aM>=this.cl.get_length()){throw new Error("The specified length is out of range.");}aW=this.cl.getPage(aM);if(aW.cf()&&aW.cf().Ai()&&aW.cf().nr()===true){var aah=vt;var WY=aW.cf().FO();vt+=WY.length;if(vt<0||(vt===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var VA=0;if(aM===this.bC-1){VA=value.startIndex;}if(vt>=value.length){dk=value.startIndex+value.length-1;if(aah>=0){dk=value.length-1-aah;}oa.push({pageIndex:aM,endIndex:dk});dm+=WY.substring(VA,dk+1);break;}else{dk=aW.cf().FO().length-1;oa.push({pageIndex:aM,endIndex:dk});dm+=WY.substring(VA,dk+1);}}else{throw new Error("The text has not been retrieved for this page.");}aM++;}this.dM=IPCC.CD();var K=0;if(this.cF){if(this.h){this.h.dM=this.dM;bH=this.av.gS(this.cl.getPage(this.h.aM));if(this.h.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var Ut=this.h.ds.length-1;Ut>=0;Ut--){bH.removeMark(this.h.ds[Ut]);this.h.ds.pop();}}}for(K=this.cF.length-1;K>=0;K--){var lF=this.cF[K];bH=this.av.gS(this.cl.getPage(lF.aM));bH.removeMark(lF);this.cF.splice(K,1);}}else{this.cF=[];}Ju.call(this,oa,dk,dm,value);this.dr=value;return this;};function Ju(oa,dk,dm,value,Xt){var K,aM,aW,bH;Xt=Xt||{};var ds;this.cF=this.cF||[];var ahL=(this.h.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?awb:axa;for(K=0;K<oa.length;K++){aM=oa[K].pageIndex;aW=this.cl.getPage(aM);var aoD=aW.cf().fE();bH=this.av.gS(aW);var ea;var bK=0;dk=oa[K].endIndex;if(K===0){bK=value.startIndex;}aM=oa[K].pageIndex;ds=Xt[aM]||IPCC.aN.Qf(aoD,bK,dk);if(K===0){ea=ahL(this.h,bK,dk-bK+1,dm,ds,aM,this.dM,this.h.get_type(),bH);this.h.kL=true;}else{ea=ahL(null,bK,dk-bK+1,dm,ds,aM,this.dM,this.h.get_type(),bH);this.cF.push(ea);bH.addMark(ea);ea.set_selected(this.h.get_selected());if(this.getFillColor){ea.set_fillColor(this.h.get_fillColor());}if(this.getHref){ea.set_href(this.h.get_href());}if(this.getReason){ea.set_text(this.h.get_text());}}if(K===oa.length-1){ea.jO=true;}}};if(O.dr){O.getPosition=getPosition;O.setPosition=setPosition;O.Ju=Ju;if(Object.defineProperties){Object.defineProperties(O,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function axa(O,bK,dw,dm,ds,aM,ku,aP,bH){if(!O){O=new IPCC.Web.UI.Mark(aP);}O.bK=bK;O.cw=dw;O.mV='y';O.dM=ku;O.dm=dm;O.ds=ds||[];O.aM=aM;var VC=IPCC.aN.reduce(O.ds,function(II,bm){if(!II){return bm.clone();}else{return II.union(bm);}},null);O.set_rectangle(VC);return O;};function awb(O,bK,dw,dm,ds,aM,ku,aP,bH){if(!O){O=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}O.bK=bK;O.cw=dw;O.dM=ku;O.dm=dm;O.aM=aM;O.ds=IPCC.aN.map(ds,function(bm){var yA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);yA.set_rectangle(bm);yA.kN(true);yA.set_fillColor('#000000');yA.set_text(O.bo);yA.set_lineWidth(0);yA.dM=ku;bH.addMark(yA);return yA;});var VC=IPCC.aN.reduce(ds,function(II,bm){if(!II){return bm.clone();}else{return II.union(bm);}},null);O.set_rectangle(VC);return O;};function getText(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.bo=(typeof this.h.get_text()==="string")?this.h.get_text():this.bo;break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:if(O.h.dm){this.bo=O.h.dm;}break;}}return this.bo;};function setText(value){IPCC.aJ.ii(value,'text');this.bo=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.h.set_text(value);break;}}return this;};if(O.bo!==undefined){O.getText=getText;var aP=O.getType();if(aP!==PCCViewer.Mark.Type.HighlightAnnotation&&aP!==PCCViewer.Mark.Type.TextSelectionRedaction&&aP!==PCCViewer.Mark.Type.TextHyperlinkAnnotation){O.setText=setText;}if(Object.defineProperties){Object.defineProperties(O,{"text":{enumerable:true,get:function(){return this.getText();},set:function(value){return this.setText(value);}}});}}function getFontColor(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:this.lB=this.h.get_textColor()||this.lB;break;}}return this.lB;};function setFontColor(value){IPCC.aJ.eK(value,'fontColor');this.lB=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:this.h.set_textColor(value);break;}}return this;};if(O.lB){O.getFontColor=getFontColor;O.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(O,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.gf=this.h.get_fontName()||this.gf;break;}}return this.gf;};function setFontName(value){IPCC.aJ.ii(value,'fontName');this.gf=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.h.set_fontName(value);break;}}return this;};if(O.gf!==undefined){O.getFontName=getFontName;O.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(O,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.cJ=this.h.get_fontSize()||this.cJ;break;}}return this.cJ;};function setFontSize(value){IPCC.aJ.mE(value,'fontSize',0.1,288);this.cJ=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.h.set_fontSize(value);break;}}return this;};if(O.cJ){O.getFontSize=getFontSize;O.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(O,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.h){var su;switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:su=this.h.get_textHorizontalAlignment();if(su){if(su===IPCC.Web.UI.HorizontalAlignment.Center){this.xt="Center";}else if(su===IPCC.Web.UI.HorizontalAlignment.Left){this.xt="Left";}else if(su===IPCC.Web.UI.HorizontalAlignment.Right){this.xt="Right";}}break;}}return this.xt;};function setHorizontalAlignment(value){IPCC.aJ.ii(value,'horizontalAlignment');var su;var tx=Py(value,PCCViewer.Mark.HorizontalAlignment);if(tx==="Center"){su=IPCC.Web.UI.HorizontalAlignment.Center;}else if(tx==="Left"){su=IPCC.Web.UI.HorizontalAlignment.Left;}else if(tx==="Right"){su=IPCC.Web.UI.HorizontalAlignment.Right;}else{throw "Invalid value found for the Text horizontalAlignment.";}O.xt=tx;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:if(su!==undefined){this.h.set_textHorizontalAlignment(su);this.xt=tx;}break;}}return this;};if(O.xt){O.getHorizontalAlignment=getHorizontalAlignment;O.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(O,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function atA(ZE){var AU=[];for(var K=0;K<ZE.length;K++){switch(ZE[K]){case "Bold":AU.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":AU.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":AU.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":AU.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+ZE[K]);}}if(AU.length===0){AU.push(IPCC.Web.UI.FontStyle.Regular);}return AU;};function getFontStyle(){if(this.h){var qp=[];switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var vi=this.h.get_fontStyle();if(vi&IPCC.Web.UI.FontStyle.Bold){qp.push("Bold");}if(vi&IPCC.Web.UI.FontStyle.Italic){qp.push("Italic");}if(vi&IPCC.Web.UI.FontStyle.Strikeout){qp.push("Strikeout");}if(vi&IPCC.Web.UI.FontStyle.Underline){qp.push("Underline");}if(qp.length>0){this.ff=qp;}break;}}return this.ff;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var MF,K,agB=[];for(K=0;K<value.length;K++){MF=Py(value[K],PCCViewer.Mark.FontStyles);if(MF===null){throw new RangeError("The value of font styles "+value[K]+" is invalid.");}else{IPCC.aJ.ii(MF,'fontStyle');agB.push(MF);}}this.ff=agB;var vi=[];vi=atA(this.ff);var bQ=this;function avF(dI){setTimeout(function(){bQ.h.set_fontStyle(dI);},2);};if(this.h){switch(this.aI){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var aga=vi[0];for(K=1;K<vi.length;K++){aga|=vi[K];}avF(aga);break;}}return this;};if(O.ff){O.getFontStyle=getFontStyle;O.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(O,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.wl=this.h.get_text()||this.wl;break;}}return this.wl;};function setLabel(value){IPCC.aJ.ii(value,'label');this.wl=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.h.set_text(value);break;}}return this;};if(typeof O.wl!=='undefined'){O.getLabel=getLabel;O.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(O,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TextSelectionRedaction:this.fK=this.h.get_text()||this.fK;break;}}return this.fK;};function setReason(value){IPCC.aJ.ii(value,'text');this.fK=value;if(this.h){switch(this.aI){case PCCViewer.Mark.Type.RectangleRedaction:this.h.set_text(value);break;case PCCViewer.Mark.Type.TextSelectionRedaction:this.h.set_text(value);if(this.cF&&this.cF.length){for(var K=0;K<this.cF.length;K++){this.cF[K].set_text(value);}}break;}}return this;};if(typeof O.fK!=='undefined'){O.getReason=getReason;O.setReason=setReason;if(Object.defineProperties){Object.defineProperties(O,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.h){return this.h.get_pathString();}else{return this.cV;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vy=IPCC.aN.VP(path);this.cV=path;if(this.h){this.h.set_pathString(path);this.h.set_pathWidth(vy.width);this.h.set_pathHeight(vy.height);}return this;};if(O.cV){O.setPath=setPath;O.getPath=getPath;if(Object.defineProperties){Object.defineProperties(O,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.h){return this.h.get_href();}else{return this.oh;}};function setHref(href){if(href!==null){var aI=typeof href;if(aI!=="undefined"&&aI!=="number"&&aI!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.oh=href;if(this.h){this.h.set_href(href);}if(this.cF){IPCC.aN.forEach(this.cF,function(h){h.set_href(href);});}return this;};if(typeof O.oh!=='undefined'){O.setHref=setHref;O.getHref=getHref;if(Object.defineProperties){Object.defineProperties(O,{"href":{enumerable:true,get:getHref,set:setHref}});}}}})();(function(undefined){'use strict';function MouseTool(name,type){this.dG=name;var La=atp(type);if(La===null){throw new RangeError("The value of type was invalid.");}this.aI=La;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.dG;};MouseTool.prototype.getType=function(){return this.aI;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function atp(Sq){var Ya=Sq.toLowerCase();for(var standardType in PCCViewer.MouseTool.Type){if(PCCViewer.MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Ya){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var aI=mouseTool.getType();switch(aI){case PCCViewer.MouseTool.Type.Magnifier:break;case PCCViewer.MouseTool.Type.SelectToZoom:break;case PCCViewer.MouseTool.Type.Pan:mouseTool.Bz=false;break;case PCCViewer.MouseTool.Type.PanAndEdit:mouseTool.Bz=true;break;case PCCViewer.MouseTool.Type.SelectText:break;case PCCViewer.MouseTool.Type.EditMarks:break;case PCCViewer.MouseTool.Type.LineAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.LineAnnotation});break;case PCCViewer.MouseTool.Type.RectangleAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleAnnotation});break;case PCCViewer.MouseTool.Type.EllipseAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.EllipseAnnotation});break;case PCCViewer.MouseTool.Type.TextAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextAnnotation});break;case PCCViewer.MouseTool.Type.StampAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampAnnotation});break;case PCCViewer.MouseTool.Type.HighlightAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.HighlightAnnotation});break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextHyperlinkAnnotation});break;case PCCViewer.MouseTool.Type.FreehandAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.FreehandAnnotation});break;case PCCViewer.MouseTool.Type.RectangleRedaction:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleRedaction});break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TransparentRectangleRedaction});break;case PCCViewer.MouseTool.Type.TextRedaction:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextRedaction});break;case PCCViewer.MouseTool.Type.TextInputSignature:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextInputSignature});break;case PCCViewer.MouseTool.Type.StampRedaction:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampRedaction});break;case PCCViewer.MouseTool.Type.PlaceSignature:mouseTool.bB=new PCCViewer.Mark({type:'PlaceSignature',GK:true});break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextSelectionRedaction});break;case PCCViewer.MouseTool.Type.ImageStampAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampAnnotation});break;case PCCViewer.MouseTool.Type.ImageStampRedaction:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampRedaction});break;case PCCViewer.MouseTool.Type.PolylineAnnotation:mouseTool.bB=new PCCViewer.Mark({type:PCCViewer.Mark.Type.PolylineAnnotation});break;}if(mouseTool.bB){mouseTool.getTemplateMark=function(){return this.bB;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.bB){this.bB.reset();}};PCCViewer.MouseTools={PD:{},createMouseTool:function(name,type){var Cd=name.toLowerCase();var existingTool=this.PD[Cd];if(existingTool){if(existingTool.type.toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.PD[Cd]=new MouseTool(name,type);}return this.PD[Cd];},getMouseTool:function(name){if(name&&name.toLowerCase){var Cd=name.toLowerCase();return this.PD[Cd];}return undefined;}};PCCViewer.MouseTool=MouseTool;PCCViewer.MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation"};PCCViewer.MouseTools.createMouseTool("AccusoftMagnifier",PCCViewer.MouseTool.Type.Magnifier);PCCViewer.MouseTools.createMouseTool("AccusoftSelectToZoom",PCCViewer.MouseTool.Type.SelectToZoom);PCCViewer.MouseTools.createMouseTool("AccusoftPan",PCCViewer.MouseTool.Type.Pan);PCCViewer.MouseTools.createMouseTool("AccusoftPanAndEdit",PCCViewer.MouseTool.Type.PanAndEdit);PCCViewer.MouseTools.createMouseTool("AccusoftSelectText",PCCViewer.MouseTool.Type.SelectText);PCCViewer.MouseTools.createMouseTool("AccusoftEditMarks",PCCViewer.MouseTool.Type.EditMarks);PCCViewer.MouseTools.createMouseTool("AccusoftLineAnnotation",PCCViewer.MouseTool.Type.LineAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftArrowAnnotation",PCCViewer.MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");PCCViewer.MouseTools.createMouseTool("AccusoftRectangleAnnotation",PCCViewer.MouseTool.Type.RectangleAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftEllipseAnnotation",PCCViewer.MouseTool.Type.EllipseAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextAnnotation",PCCViewer.MouseTool.Type.TextAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftStampAnnotation",PCCViewer.MouseTool.Type.StampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftHighlightAnnotation",PCCViewer.MouseTool.Type.HighlightAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",PCCViewer.MouseTool.Type.TextHyperlinkAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftFreehandAnnotation",PCCViewer.MouseTool.Type.FreehandAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftPlaceSignature",PCCViewer.MouseTool.Type.PlaceSignature);PCCViewer.MouseTools.createMouseTool("AccusoftTextSelectionRedaction",PCCViewer.MouseTool.Type.TextSelectionRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftRectangleRedaction",PCCViewer.MouseTool.Type.RectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",PCCViewer.MouseTool.Type.TransparentRectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextRedaction",PCCViewer.MouseTool.Type.TextRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextInputSignature",PCCViewer.MouseTool.Type.TextInputSignature);PCCViewer.MouseTools.createMouseTool("AccusoftStampRedaction",PCCViewer.MouseTool.Type.StampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampAnnotation",PCCViewer.MouseTool.Type.ImageStampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampRedaction",PCCViewer.MouseTool.Type.ImageStampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftPolylineAnnotation",PCCViewer.MouseTool.Type.PolylineAnnotation);})();var PCCViewer=window.PCCViewer||{};(function(undefined){"use strict";function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.aN.wf(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var G=this;IPCC.aN.Ly(element);var nc=document.createElement('div');nc.className='pccViewerControl';nc.id='pccViewerControl-'+IPCC.CD();element.appendChild(nc);this.bJ=nc;this.fQ=element;var tK=document.createElement('div');tK.className='pccPageListLoading';nc.appendChild(tK);this.tK=tK;PCCViewer.EventEmitter.extend(this);this.Iv=false;this.bn=PCCViewer.BV.ub({},ViewerControl.Lx,options);this.bn.language=PCCViewer.BV.ub({},ViewerControl.aqd,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bn.pageLayout.toLowerCase()==="vertical"){this.bn.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bn.pageLayout.toLowerCase()==="horizontal"){this.bn.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bn.viewMode.toLowerCase()==="document"){this.bn.viewMode=IPCC.ViewMode.Document;}else if(this.bn.viewMode.toLowerCase()==="equalwidthpages"){this.bn.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bn.viewMode.toLowerCase()==="equalfitpages"){this.bn.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bn.viewMode.toLowerCase()==="singlepage"){this.bn.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}if(this.bn.redactionViewMode){if(this.bn.redactionViewMode.toLowerCase()==="draft"){this.bn.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bn.redactionViewMode.toLowerCase()==="normal"){this.bn.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bn.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var ir=this.bn.pageRotation%360;if(ir!==0){var AN=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ir||AN.indexOf(ir)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!ir||IPCC.Web.hG(AN,ir)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bn.pageRotation=ir;if(this.bn.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bn.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bn.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bn.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bn.serviceResponseTimeout)||typeof this.bn.serviceResponseTimeout!=='number'||this.bn.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bn.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}this.lc={};this.dh="";this.eQ=1;this.av=undefined;this.akA=new PCCViewer.Deferred();this.Dp=this.akA.getPromise();this.eY=false;this.aR=undefined;this.Nr=0;this.cl=undefined;this.dz=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.qB=false;this.Bc=false;this.EP=false;this.Cf=[];this.PY=new PCCViewer.Deferred();this.aqW=this.PY.getPromise();this.xR=[];this.dN={};this.ZX=[];this.Ks=[];this.aO=null;this.KR={};this.fO=null;this.po=new PCCViewer.MarkupLayerCollection(this);this.zB=new PCCViewer.MarkupLayer(this);this.po.addItem(this.zB);this.uH=true;setTimeout(function(){G.aBH(nc,G.bn);},0);this.CG=null;this.cS=null;this.aaS=false;this.QN=false;this.Hc= -1;this.SY={};this.ayj=this.bn.printTemplate||(this.bn.template?this.bn.template.print:"");this.ko=null;this.xP=null;this.md=undefined;this.oX=function(dA,eE,adD){var du=document.createElement('div'),al=du.style;al.position='absolute';if(eE.isSelected){al.backgroundColor='white';}else{al.backgroundColor='lightgray';}al.left='10px';al.right='0';al.textAlign='left';IPCC.aN.forEach(dA.getComments(),function(oH,K){var Xb=document.createElement('div'),Oh=Xb.style;Oh.position='relative';Oh.padding='5px';Oh.border='1px solid gray';if(K>0){Oh.borderTop='none';}Xb.appendChild(document.createTextNode(oH.getText()));du.appendChild(Xb);});return du;};return G;};PCCViewer.ViewerControl=ViewerControl;ViewerControl.Lx={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal"};ViewerControl.aqd={pageLoadFailed:"Page Load Failed",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.aBH=function(element,options){if(this.Iv){return;}var G=this;var ajq=function(aM){if(G.bn.viewMode===IPCC.ViewMode.SinglePage||G.Iv){return;}var un=G.bJ.childNodes[0].childNodes[0].childNodes[0].childNodes,K=0;for(K;K<un.length;K+=1){if(K===aM){if(document.documentMode===8){un[K].style.outline='2px solid #aaa';}else{un[K].style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}}else{if(document.documentMode===8){un[K].style.outline='';}else{if(un[K].style.boxShadow){un[K].style.boxShadow='';}}}}};var agC=function(){if(G.tK.parentNode){G.tK.parentNode.removeChild(G.tK);}G.av.remove_pageOpenFailed(Wc);G.av.remove_pageDisplayed(agC);var XA=arguments[1];setTimeout(function(){G.trigger("PageDisplayed",{pageNumber:(XA.pageIndex+1)});ajq(XA.pageIndex);},10);if(XA.pageIndex!==0){return;}var bG=new XMLHttpRequest(),aG;function lH(){if(G.Iv){return;}if(bG.readyState===4){var jF=bG.status;if(jF===200){if(typeof JSON!=='undefined'){aG=JSON.parse(bG.responseText);}else{aG=IPCC.cT.pa(bG.responseText);}if(aG.pageCountConfidence<100){var dh;if(!(/^[\x00-\x7F]*$/.test(ru))){dh=G.bn.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+ru+'&DesiredPageCountConfidence=100';}else{dh=G.bn.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(G.bn.documentID)+'&DesiredPageCountConfidence=100';}bG.open('GET',dh,true);bG.setRequestHeader('Content-Type','application/json');bG.onreadystatechange=lH;bG.send();G.eQ=aG.pageCount;G.aR.eQ=aG.pageCount;G.EP=true;setTimeout(function(){G.trigger("EstimatedPageCountReady",{pageCount:aG.pageCount});},10);YX();}else{if(G.eQ>1){G.aR.eQ=aG.pageCount;setTimeout(function(){var K;if(aG.pageCount<G.eQ){for(K=G.eQ-1;K>=aG.pageCount;K--){G.cl.removePage(K);}}else if(aG.pageCount>G.eQ){for(K=G.eQ;K<aG.pageCount;K++){var Tg=new IPCC.Web.UI.ImGearPage({pageNumber:K});G.cl.addPage(Tg);}}G.eQ=aG.pageCount;if(G.eY===true){G.qB=true;G.Bc=true;setTimeout(function(){G.trigger("PageCountReady",{pageCount:aG.pageCount});},30);}},30);}else{G.eQ=aG.pageCount;G.aR.eQ=aG.pageCount;if(G.eY===true){YX(function(){G.qB=true;G.Bc=true;setTimeout(function(){G.trigger("PageCountReady",{pageCount:aG.pageCount});},0);});}}}}else if((jF<200)||(jF>=300)){var Yh="None",ajw,YU;var aij=bG.getResponseHeader('Accusoft-Status-Message');if(aij){Yh=aij;YU=bG.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vx(YU)){ajw=parseInt(YU,10);}}else if(bG.statusText){Yh=bG.statusText;}setTimeout(function(){G.trigger("PageLoadFailed",{statusCode:jF,errorMessage:Yh,accusoftErrorNumber:ajw});},1);throw("Unable to obtain document information from the server");}}};var ru=IPCC.gQ.rz(G.bn.documentID);if(!ru||ru===""){throw("Invaqlid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(ru))){G.dh=G.bn.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+ru+'&DesiredPageCountConfidence=50';}else{G.dh=G.bn.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(G.bn.documentID)+'&DesiredPageCountConfidence=50';}bG.open('GET',G.dh,true);bG.setRequestHeader('Content-Type','application/json');bG.onreadystatechange=lH;bG.send();};function YX(qS){qS=qS||function(){};var ajQ=G.eQ;function acw(){G.av.remove_allPagesAdded(acw);qS();};if(ajQ>1){G.av.add_allPagesAdded(acw);if(!G.anw){G.av.add_currentPageChanged(function(){if(arguments<2){throw("Controls currentPageChanged event did not provide any expected information");}var cU=arguments[1];setTimeout(function(){G.trigger('PageChanged',{pageNumber:cU.pageIndex+1});ajq(cU.pageIndex);},0);});G.av.add_pageDisplayed(function(){if(arguments<2){throw("Controls pageDisplayed event did not provide any expected information");}var cU=arguments[1];if(G.ko){G.ko();G.ko=null;if(G.fO){G.fO.resolve();}G.fO=null;}setTimeout(function(){G.trigger('PageDisplayed',{pageNumber:cU.pageIndex+1});},0);setTimeout(function(){G.Za(cU.pageIndex+1,G.Hc);},10);});G.av.add_pageOpenFailed(function(){abM(arguments);});G.anw=true;}for(var K=G.Nr;K<ajQ;K++){G.cl.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:K}));G.Nr++;}}else{qS();}};var ayA=function(cU){var bO=document.getElementById(cU.pageNodeID),bq=document.createElement('div'),zb=document.createElement('button'),anc='pccPageLoadFailRetry',afK=function(){G.av.Eq(cU.pageIndex);},aon=PCCViewer.Language.data.pageLoadFailed,aoB=PCCViewer.Language.data.pageLoadFailedRetry;if(bO===null){return;}zb.id=anc;zb.innerHTML=aoB;bq.className='pccPageLoadFail';bq.innerHTML=aon+'<br>';bq.appendChild(zb);bO.appendChild(bq);zb=document.getElementById(anc);if(!zb.addEventListener){zb.attachEvent('onclick',afK);}else{zb.addEventListener('click',afK,false);}};function abM(ED){if(ED<2){throw("controls PageOpenFailed event did not provide any expected information");}var afE,aia,cU=ED[1];if(ED[1].exception.customErrorCode!==undefined){aia=ED[1].exception.customErrorCode;}if(ED[1].exception.message!==undefined){afE=ED[1].exception.message;}setTimeout(function(){G.trigger('PageLoadFailed',{statusCode:cU.exception.statusCode,pageNumber:cU.pageIndex+1,errorMessage:afE,accusoftErrorNumber:aia});ayA(cU);},0);};function Wc(){G.av.remove_pageOpenFailed(Wc);abM(arguments);setTimeout(YX,30);};function afD(){G.av.remove_pageOpened(afD);G.eY=true;var bQ=G;setTimeout(function(){G.trigger("ViewerReady",{});if(bQ.qB===true&&bQ.Bc===false){bQ.Bc=true;setTimeout(function(){G.trigger("PageCountReady",{pageCount:bQ.getPageCount()});},10);}},10);G.setCurrentMouseTool("AccusoftPanAndEdit");};var aml=function(aj,C){if(C.containsText===true){G.PY.resolve(true);}var CR= -1;if(Array.prototype.indexOf){CR=(G.xR.indexOf(C.pageIndex)>=0);}else{CR=(IPCC.Web.hG(G.xR,C.pageIndex)>=0);}if(CR===false){G.xR.push(C.pageIndex);if(G.xR.length===G.eQ){G.PY.resolve(false);}}setTimeout(function(){G.trigger("PageTextReady",{pageNumber:C.pageIndex+1});},0);};var anq=function(aj,C){var CR= -1;if(Array.prototype.indexOf){CR=(G.xR.indexOf(C.pageIndex)>=0);}else{CR=(IPCC.Web.hG(G.xR,C.pageIndex)>=0);}if(CR===false){G.xR.push(C.pageIndex);if(G.xR.length===G.eQ){G.PY.resolve(false);}}};function avk(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var jN=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){jN.push(eventArgs.pageNumbers[i]+1);}var kU=[],vt= -eventArgs.startIndex,bK,dk,jo,ds,j,k;for(j=0;j<jN.length;j++){jo=G.cl.kc(jN[j]-1).cf().fE();vt+=jo.eI();bK=0;if(j===0){bK=eventArgs.startIndex;}if(vt>=eventArgs.text.length){dk=vt-eventArgs.text.length-1;}else{dk=jo.eI()-1;}ds=IPCC.aN.Qf(jo,bK,dk);for(k=0;k<ds.length;k++){kU.push({x:ds[k].x,y:ds[k].y,width:ds[k].width,height:ds[k].height,pageNumber:jN[j]});}}G.aO={pageNumber:jN[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:kU};var O,abP={selectedText:eventArgs.text,pageNumbers:jN,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:G.aO};function auT(){var vS=G.iA;G.aif=true;G.iA=function(sender,args){G.iA=vS;setTimeout(function(){G.trigger(PCCViewer.EventType.MarkCreated,{mark:O,pageNumber:jN[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){O=G.dN[eventArgs.previousFirstMark.get_markID()];G.av.remove_markRemoved(G.DN);G.av.remove_markSelectionChanged(G.Dk);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aM){var awo=O.h.Wi;var XH;if(O.getReason){XH=O.h.get_text();}var ZP;if(O.getFillColor){ZP=O.h.get_fillColor();}var WE;if(O.getHref){WE=O.h.get_href();}var ayL=new PCCViewer.Conversation(O);var bH=G.av.gS(G.cl.getPage(O.h.aM));bH.removeMark(O.h);for(var K=O.cF.length-1;K>=0;K--){var lF=O.cF[K];bH=G.av.gS(G.cl.getPage(lF.aM));bH.removeMark(lF);O.cF.splice(K,1);}O.h=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());O.h.aM=eventArgs.pageNumbers[0];O.bC=eventArgs.pageNumbers[0]+1;O.h.kL=true;O.h.Wi=awo;var vS=G.iA;G.iA=null;G.av.remove_markChanged(G.sZ);bH=G.av.gS(G.cl.getPage(O.h.aM));bH.addMark(O.h);if(XH){O.h.set_text(XH);}if(ZP){O.h.set_fillColor(ZP);}if(WE){O.h.set_href(WE);}O.dA=new PCCViewer.Conversation(O);PCCViewer.Conversation.te(ayL,O.dA);G.av.add_markChanged(G.sZ);G.iA=vS;}O.h.set_selected(true);O.h.set_visible(true);O.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});G.av.add_markRemoved(G.DN);G.av.add_markSelectionChanged(G.Dk);G.ob(O,eventArgs.pageNumbers[0]);return;}var Gm=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:Gm='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:Gm='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:Gm='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:avw(eventArgs.text);G.KR[jN[0]]='selectText';break;}var dz=PCCViewer.MouseTools.getMouseTool(G.getCurrentMouseTool());var bB=(dz&&dz.getTemplateMark)?dz.getTemplateMark():undefined;var aqF=bB?bB.getType():"";if(Gm){auT();G.trigger(PCCViewer.EventType.TextSelected,abP);O=G.addMark(jN[0],Gm);if(G.uH){G.zB.addMarks(O);}O.h.kL=true;O.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(aqF===Gm){if(bB.getFillColor){O.setFillColor(bB.getFillColor());}if(bB.getReason){O.setReason(bB.getReason());}if(bB.getHref){O.setHref(bB.getHref());}}return;}setTimeout(function(){G.trigger(PCCViewer.EventType.TextSelected,abP);},0);};function auZ(){var bO=G.bJ,bq=document.createElement('div');bq.className='pccCopyText';bO.appendChild(bq);G.Nj=bq;};function avw(bo){var uK,aEM=bo.split('\n'),Kl=document.createDocumentFragment(),Fa,kp;uK=document.createTextNode(bo);Kl.appendChild(uK);IPCC.aN.Ly(G.Nj);G.Nj.appendChild(Kl);if(document.body.createTextRange){Fa=document.body.createTextRange();Fa.moveToElementText(G.Nj);Fa.select();}else if(window.getSelection){kp=window.getSelection();Fa=document.createRange();Fa.selectNodeContents(G.Nj);kp.removeAllRanges();kp.addRange(Fa);}};this.aR=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bn.documentID,imageServicePath:this.bn.imageHandlerUrl});this.aR.set_encryption(this.bn.encryption||false);var Tg=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aR.get_pages().addPage(Tg);this.cl=this.aR.get_pages();this.av=IPCC.initializePageListPlugin(element,options);this.av.get_documents().addDocument(this.aR);this.Nr=1;this.akA.resolve(this.av);this.av.add_pageDisplayed(agC);this.av.add_pageOpenFailed(Wc);this.av.add_pageOpened(afD);this.av.add_textPageReady(aml);this.av.add_textExtractionFailed(anq);this.av.set_conversationDOMFactory(function(h,eE,adD){var O=G.dN[h.get_markID()];if(O){return G.oX(O.getConversation(),eE,adD);}});auZ();this.av.add_selectTextMouseToolCompleted(avk);this.av.add_propertyChanged(function(zZ,aC){var proprtyName=aC.asz();if(proprtyName==="mouseTool"){setTimeout(function(){G.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:G.dz.getName()});},0);}});this.av.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&G.dN[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.dM!==undefined){G.ob(eventArgs.mark,eventArgs.pageIndex);}if(G.iA){var aP=eventArgs.mark.get_type();if(aP!==IPCC.Web.UI.MarkType.Highlight&& !(aP===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.dM!==undefined)){G.iA(sender,eventArgs);}}});this.av.add_markCreating(function(sender,eventArgs){if(G.Jg){G.Jg(sender,eventArgs);}});this.av.zE(function(sender,eventArgs){var Bs=0;var Bq=0;var aeO=0;var uo=0;var tI=0;var Qc=0;var aqS=G.dz.getName().toLowerCase(),arH=G.dz.getType();if(arH===PCCViewer.MouseTool.Type.PlaceSignature){var dz=G.dz;var bB=dz.getTemplateMark(),mU=bB.getSignature(),agR=bB.getRectangle(),O,F={};if(!mU){return;}G.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vy;if(attributes.width>0){Bq=agR.width||(attributes.width/5);}if(mU.path&&mU.path.length>0){vy=IPCC.aN.VP(mU.path);F={x:0,y:0,width:vy.width,height:vy.height};O=G.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);O.setPath(mU.path);O.setThickness(mU.thickness||4);}if(mU.text&&mU.text.length){vy=IPCC.aN.uY(mU.text,mU.fontName);O=G.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);F={x:0,y:0,width:vy.width,height:vy.height};O.setText(mU.text);O.setFontName(mU.fontName);}aeO=(F.width/Bq);Bs=agR.height||(F.height/aeO);uo=(eventArgs.imagePoint.x-(Bq/2));tI=(eventArgs.imagePoint.y-(Bs/2));if(uo<=0){uo=0;}if(tI<=0){tI=0;}if((uo+Bq)>=attributes.width){Qc=(uo+Bq)-attributes.width;uo=uo-Qc;}if((tI+Bs)>=attributes.height){Qc=(tI+Bs)-attributes.height;tI=tI-Qc;}F={x:uo,y:tI,width:Bq,height:Bs};O.setRectangle({x:uo,y:tI,width:Bq,height:Bs});PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());});G.setCurrentMouseTool(aqS);}});this.av.Ac(function(sender,eventArgs){var aO=null,ec=null,O=null,jv=null,ym=false,Pv=eventArgs.upTarget.type,Yd=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){Yd=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){ym=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&Yd===false){G.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){jv=G.aqi(eventArgs.upMark);ym=jv!==null;Pv="documentHyperlink";}else{O=G.dN[eventArgs.upMark.get_markID()];if(O===undefined){for(var kd in G.dN){if(G.dN.hasOwnProperty(kd)){if(G.dN[kd].h.dM===eventArgs.upMark.dM&&G.dN[kd].h.dM===eventArgs.downMark.dM){O=G.dN[kd];eventArgs.pageIndex=O.bC-1;ym=true;if(Yd===false){G.deselectAllMarks();O.h.set_selected(true);}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.jx()===eventArgs.upMark.jx()){ym=true;}if(O===undefined){if(G.cS&&G.KR[eventArgs.upTarget.pageIndex+1]==='search'){var gH=G.cS.getResults();for(var K=0;K<gH.length;K++){if(gH[K].bC===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.bK!=='undefined'&&typeof eventArgs.upMark.bK!=='undefined'&&typeof eventArgs.downMark.cw!=='undefined'&&typeof eventArgs.upMark.cw!=='undefined'&&eventArgs.downMark.bK>=gH[K].getStartIndexInPage()&&eventArgs.downMark.bK+eventArgs.downMark.cw<=gH[K].getStartIndexInPage()+gH[K].getText().length&&eventArgs.upMark.bK>=gH[K].getStartIndexInPage()&&eventArgs.upMark.bK+eventArgs.upMark.cw<=gH[K].getStartIndexInPage()+gH[K].getText().length){Pv='searchResult';ec=gH[K];eventArgs.upTarget.pageIndex=ec.bC-1;ym=true;break;}}}}if(ym===false&&O===undefined&&G.KR[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.bK!=='undefined'&&typeof eventArgs.upMark.bK!=='undefined'&&eventArgs.downMark.bK>=G.aO.startIndex&&eventArgs.downMark.bK+eventArgs.downMark.cw<=G.aO.startIndex+G.aO.length&&eventArgs.upMark.bK>=G.aO.startIndex&&eventArgs.upMark.bK+eventArgs.upMark.cw<=G.aO.startIndex+G.aO.length){Pv='textSelection';aO=G.aO;ym=true;}}}function MouseEvent(bL){var G=this;for(var i in eventArgs.originalEvent){if(i){G[i]=eventArgs.originalEvent[i];}}};var arn=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var axW=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var C={pageNumber:axW,targetType:Pv,textSelection:aO,searchResult:ec,mark:O,originalEvent:arn,hyperlink:jv,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(ym===true){G.trigger('Click',C);}},0);});this.av.add_hyperlinkPageReady(function(sender,eventArgs){var aM=eventArgs.pageIndex,aW=G.cl.getPage(aM),HB=aW.get_hyperlinkPage().Km(),zl=G.ZX[aM]=[];HB.np(function(BO){zl.push(new PCCViewer.DocumentHyperlink({bC:aM+1,BO:BO}));});if(!G.Ks[aM]){G.Ks[aM]=new PCCViewer.Deferred();}G.Ks[aM].resolve(zl);});this.ob=function(O,iL){var Vo=false;function Yi(){var nT=false;var db=G.av.get_displayedPages();for(var K=0;K<db.get_length();K++){var aW=db.getPage(K);if(aW.get_pageNumber()===iL){nT=true;break;}}return nT;};function axb(dX){if(G.av){G.av.co(dX);}};if(Yi()){if(Array.prototype.indexOf){if(IPCC.Web.hG(G.Cf,iL)>=0){Vo=true;}}else{if(IPCC.Web.hG(G.Cf,iL)>=0){Vo=true;}}if(!Vo){G.Cf.push(iL);setTimeout(function(){var cL=G.Cf.length;if(cL>0){for(var K=0;K<cL;K++){axb(G.Cf[K]);}G.Cf.splice(0,cL);}},10);}}};var GV={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var Qm={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.sZ=function(aj,C){var O=G.dN[C.mark.get_markID()];var aI;if(O){aI=O.aI;}if(aI&&GV[aI]&&GV[aI][C.propertyName]===false){return;}var dP;if(aI){dP=GV[aI]&&GV[aI][C.propertyName]?GV[aI][C.propertyName]:Qm[C.propertyName]?Qm[C.propertyName]:C.propertyName;}else{dP=Qm[C.propertyName]?Qm[C.propertyName]:C.propertyName;}if(C.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||C.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||C.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||C.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||C.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||(C.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&C.mark.dM!==undefined)){if(O){setTimeout(function(){G.trigger('MarkChanged',{mark:O,pageNumber:C.pageIndex+1,propertyName:dP});},0);}else{for(var kd in G.dN){if(G.dN.hasOwnProperty(kd)){O=G.dN[kd];if(O.dM===C.mark.dM){break;}}}}G.ob(O,C.pageIndex);}else if(O&&C.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&dP==='points'){if(O.aay){clearTimeout(O.aay);}O.aay=setTimeout(function(){O.aay=undefined;G.ob(O,C.pageIndex);G.trigger('MarkChanged',{mark:O,pageNumber:C.pageIndex+1,propertyName:dP});},1);}else if(O){G.ob(O,C.pageIndex);setTimeout(function(){G.trigger('MarkChanged',{mark:O,pageNumber:C.pageIndex+1,propertyName:dP});},0);}if(O&&O.type===PCCViewer.Mark.Type.TextRedaction){O.h.set_opacity(0);}if(O&&O.aI===PCCViewer.Mark.Type.TextInputSignature){O.h.set_lineVisible(false);}};this.av.add_markChanged(G.sZ);this.av.add_markReordered(function(sender,eventArgs){var O=G.dN[eventArgs.mark.get_markID()];setTimeout(function(){G.trigger('MarkReordered',{mark:O,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Dk=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var O;for(var Lg in G.dN){if(G.dN.hasOwnProperty(Lg)){O=G.dN[Lg];if(O.h.dM===eventArgs.mark.dM){O.h.set_selected(eventArgs.mark.get_selected());G.ob(O.h,O.h.aM);for(var K=0;K<O.cF.length;K++){O.cF[K].set_selected(eventArgs.mark.get_selected());G.ob(O.cF[K],O.cF[K].aM);}}}}}setTimeout(function(){G.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.av.add_markSelectionChanged(G.Dk);this.av.add_markTextSelectionChanged(function(sender,eventArgs){G.ob(eventArgs.mark,eventArgs.pageIndex);});this.DN=function(sender,eventArgs){var O;if(eventArgs.mark){O=G.dN[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&O===undefined&&eventArgs.mark.dM!==undefined){G.ob(eventArgs.mark,eventArgs.pageIndex);}else if(O){setTimeout(function(){G.trigger('MarkRemoved',{mark:O,pageNumber:eventArgs.pageIndex});},0);}}};this.av.add_markRemoved(G.DN);this.av.add_commentAdding(function(sender,eventArgs){var O=G.dN[eventArgs.mark.get_markID()];if(eventArgs.comment.JV.ie===undefined){eventArgs.comment.JV.ie=G.getActiveMarkupLayer();}});this.av.add_commentAdded(function(sender,eventArgs){var O=G.dN[eventArgs.mark.get_markID()];G.trigger(PCCViewer.EventType.CommentCreated,{conversation:O.getConversation(),comment:eventArgs.comment.JV});});this.av.add_commentRemoved(function(sender,eventArgs){var O=G.dN[eventArgs.mark.get_markID()];G.trigger(PCCViewer.EventType.CommentRemoved,{conversation:O.getConversation(),comment:eventArgs.comment.JV});});this.av.add_commentChanged(function(sender,eventArgs){var O=G.dN[eventArgs.mark.get_markID()];G.trigger(PCCViewer.EventType.CommentChanged,{conversation:O.getConversation(),comment:eventArgs.comment.JV});});this.av.add_scaleChanged(function(sender,eventArgs){var eA;switch(eventArgs.fitType){case 0:eA=PCCViewer.FitType.FullWidth;break;case 1:eA=PCCViewer.FitType.ShrinkToWidth;break;case 2:eA=PCCViewer.FitType.ActualSize;break;case 3:eA=PCCViewer.FitType.FullHeight;break;case 4:eA=PCCViewer.FitType.FullPage;break;default:break;}G.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:eA,scaleFactor:eventArgs.scaleFactor});});};PCCViewer.ViewerControl.prototype.getPageCount=function(){return this.eQ;};PCCViewer.ViewerControl.prototype.getPageNumber=function(){return(this.av)?(this.av.aft().get_pageNumber()+1):1;};PCCViewer.ViewerControl.prototype.setPageNumber=function(pageNumber){var bC;if(typeof(pageNumber)==='number'){bC=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bC=Number(pageNumber);}}if(parseInt(bC,10)!==bC){throw new Error("The 'pageNumber' value "+bC+" is not an integer page number.");}if(bC<1||bC>this.getPageCount()|| !isFinite(bC)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===bC){return this;}if(this.av){this.av.scrollToPage(bC-1);}return this;};PCCViewer.ViewerControl.prototype.changeToFirstPage=function(){if(this.av){if(this.EP||this.qB){this.av.scrollToFirstPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToLastPage=function(){if(this.av){if(this.EP||this.qB){this.av.scrollToLastPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToNextPage=function(){if(this.av){if(this.EP||this.qB){this.av.scrollToNextPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToPrevPage=function(){if(this.av){if(this.EP||this.qB){this.av.scrollToPreviousPage();}}return this;};PCCViewer.ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.eY){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var G=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){G.av.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{G.av.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};PCCViewer.ViewerControl.prototype.scrollTo=function(target){if(!this.eY){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.fO){this.fO.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.fO=null;this.ko=null;}var G=this;var HE=function(){G.av.scrollConversationIntoView(target.getMark().h.get_conversation());if(G.fO){G.fO.resolve();}G.fO=null;G.ko=null;};var xc=function(ev){if(ev.target.xP===target){G.off(PCCViewer.EventType.CommentCreated,xc);G.xP=null;G.scrollTo(target);}else if(ev.target.xP===null){G.off(PCCViewer.EventType.CommentCreated,xc);}if(G.fO){G.fO.resolve();}G.fO=null;G.ko=null;};var Hx=function(bC,ik){G.av.scrollRegionIntoView(bC-1,ik);if(G.fO){G.fO.resolve();}G.fO=null;G.ko=null;};amw(G,target,xc,HE,Hx);return this;};PCCViewer.ViewerControl.prototype.scrollToAsync=function(target){if(this.fO){this.fO.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.fO=null;this.ko=null;}var bk=PCCViewer.Deferred();var dp=bk.getPromise();var G=this;G.fO=bk;try{var HE=function(){G.av.scrollConversationIntoView(target.getMark().h.get_conversation());if(G.fO){G.fO.resolve();}G.fO=null;G.ko=null;};var xc=function(ev){if(ev.target.xP===target){G.off(PCCViewer.EventType.CommentCreated,xc);G.xP=null;G.scrollTo(target);}else if(ev.target.xP===null){G.off(PCCViewer.EventType.CommentCreated,xc);}if(G.fO){G.fO.resolve();}G.fO=null;G.ko=null;};var Hx=function(bC,ik){G.av.scrollRegionIntoView(bC-1,ik);if(G.fO){G.fO.resolve();}G.fO=null;G.ko=null;};if(amw(G,target,xc,HE,Hx)===true){bk.resolve();}}catch(e){G.fO=null;G.ko=null;bk.reject(new PCCViewer.Error("Error",e));}return dp;};function amw(dK,de,xc,HE,Hx){var ik,bC,bm;dK.xP=null;if(de instanceof PCCViewer.Conversation){if(dK.dN[de.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var acP=dK.av.scrollConversationIntoView(de.getMark().h.get_conversation());if(acP==="PageOutOfView"){dK.ko=HE;dK.setPageNumber(de.getMark().getPageNumber());return false;}else if(acP==="ConversationDivDoesNotExist"&&de.getMark().h.get_conversation().get_length()>0){dK.xP=de;dK.on(PCCViewer.EventType.CommentCreated,xc);return false;}else{dK.ko=null;return true;}}else if(de instanceof PCCViewer.SearchResult){if(de.Pb!==dK.aR.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}bm=de.getBoundingRectangle();ik=new IPCC.Web.UI.Rectangle(bm.x,bm.y,bm.width,bm.height);bC=de.getPageNumber();}else if(de instanceof PCCViewer.Mark){if(dK.dN[de.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}bm=de.getBoundingRectangle();ik=new IPCC.Web.UI.Rectangle(bm.x,bm.y,bm.width,bm.height);bC=de.getPageNumber();}else if(de!==undefined&&de!==null){if(typeof de.x==='number'&&typeof de.y==='number'){ik=new IPCC.Web.UI.Rectangle(+de.x,+de.y,0,0);}else{if(isNaN(+de.x)||isNaN(+de.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{ik=new IPCC.Web.UI.Rectangle(Number(+de.x),Number(+de.y),0,0);}}if(de.width){if(typeof de.width==='number'){ik.width=de.width;}else{if(isNaN(+de.width)){throw new Error('The parameter target does not contain a valid width value.');}else{ik.width=Number(+de.width);}}}if(de.height){if(typeof de.height==='number'){ik.height=de.height;}else{if(isNaN(+de.height)){throw new Error('The parameter target does not contain a valid height value.');}else{ik.height=Number(+de.height);}}}if(typeof de.pageNumber==='number'){bC= +de.pageNumber;}else{if(isNaN(+de.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{bC=Number(+de.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(bC<1||bC>dK.getPageCount()|| !isFinite(bC)){throw new RangeError("The parameter pageNumber is out of range.");}if(dK.av.scrollRegionIntoView(bC-1,ik)===false){dK.ko=function(){Hx(bC,ik);};dK.setPageNumber(bC);return false;}else{dK.ko=null;return true;}};PCCViewer.ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.eY){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(Bo(this.getPageNumber()-1,this)===false){this.av.co(this.getPageNumber()-1);}var ir=degreesClockwise%360,G=this;if(ir!==0){var AN=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ir||AN.indexOf(ir)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!ir||IPCC.Web.hG(AN,ir)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.av.rotate(ir);}setTimeout(function(){G.trigger("PageRotated",{degreesClockwise:ir,pageNumber:(G.getPageNumber())});},0);return this;};PCCViewer.ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.eY){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(Bo(this.getPageNumber()-1,this)===false){this.av.co(this.getPageNumber()-1);}var ir=degreesClockwise%360,G=this;if(ir!==0){var AN=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ir||AN.indexOf(ir)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!ir||IPCC.Web.hG(AN,ir)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.av.aey(ir);}setTimeout(function(){G.trigger("DocumentRotated",{degreesClockwise:ir});},0);return this;};PCCViewer.ViewerControl.prototype.getScaleFactor=function(){if(!this.eY){throw "The getScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.av.get_scaleFactor();};PCCViewer.ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.eY){throw "The setScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.av.set_scaleFactor(+scaleFactor);return this;};PCCViewer.ViewerControl.prototype.getMinScaleFactor=function(){if(!this.eY){throw "The getMinScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.av.getMinMaxZoom().minFactor;};PCCViewer.ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.eY){throw "The getMaxScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.av.getMinMaxZoom().maxFactor;};PCCViewer.ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.eY){throw "The zoomIn method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.av){this.av.zoomIn(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.eY){throw "The zoomOut method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.av){this.av.zoomOut(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.getViewMode=function(){var oi;if(this.av&&this.av.get_viewMode){oi=this.av.get_viewMode();}else{oi=this.bn.viewMode;}if(oi===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(oi===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(oi===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};PCCViewer.ViewerControl.prototype.setViewMode=function(viewMode){var oi;switch(viewMode){case PCCViewer.ViewMode.Document:oi=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:oi=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:oi=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:oi=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.av&&this.av.set_viewMode){var IJ=this.av.get_viewMode();if(IJ!==oi){if(IJ===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(oi===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.av.set_viewMode(oi);}}else{this.bn.viewMode=oi;}return this;};PCCViewer.ViewerControl.prototype.getPageLayout=function(){var Ap;if(this.av&&this.av.get_pageLayout){Ap=this.av.get_pageLayout();}else{Ap=this.bn.pageLayout;}if(Ap===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};PCCViewer.ViewerControl.prototype.setPageLayout=function(pageLayout){var Ap;if(this.bn.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:Ap=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.av&&this.av.closeCommentsPanel){this.av.closeCommentsPanel();var G=this;setTimeout(function(){G.trigger("CommentsPanelToggled",{isOpen:false});},10);}Ap=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.av&&this.av.set_pageLayout){this.av.set_pageLayout(Ap);}else{this.bn.pageLayout=Ap;}return this;};PCCViewer.ViewerControl.prototype.getAtMaxScale=function(){if(!this.eY){throw "The getAtMaxScale method requires the viewer to be in a 'ViewerReady' state.";}return this.av.getMinMaxZoom().atMax;};PCCViewer.ViewerControl.prototype.getAtMinScale=function(){if(!this.eY){throw "The getAtMinScale method requires the viewer to be in a 'ViewerReady' state.";}return this.av.getMinMaxZoom().atMin;};PCCViewer.ViewerControl.prototype.fitContent=function(fitType){if(!this.eY){throw "The fitContent method requires the viewer to be in a 'ViewerReady' state.";}var Cl;switch(fitType){case PCCViewer.FitType.FullWidth:Cl=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:Cl=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}Cl=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:Cl=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:Cl=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.Dp.then(function(zZ){zZ.fitPages(Cl);});return this;};PCCViewer.ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.eY){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var bC;if(arguments.length>0){if(typeof(pageNumber)==='number'){bC=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{bC=Number(pageNumber);}}if(parseInt(bC,10)!==bC){throw new Error("The 'pageNumber' value "+bC+" is not an integer page number.");}if(bC<1||bC>this.getPageCount()|| !isFinite(bC)){throw new Error("The parameter pageNumber is out of range.");}return this.av.Tw(bC-1);}else{return this.av.Tw();}};PCCViewer.ViewerControl.prototype.search=function(searchQuery){if(this.Bc===false){throw "The search method requires PagecountReady event to be triggered.";}PCCViewer.SearchTask.prototype.agt(searchQuery);if(!this.aR.ajX()){this.aR.KB(0,this.aR.eQ-1,this.aR.eQ);}else{this.QN=true;}this.CG=null;this.SY={};this.av.clearAllSelectedText();var fe=new PCCViewer.Search();searchQuery=fe.agj(searchQuery);if(this.aaS===false){this.cS=fe._search(searchQuery,this.QN,this.aR);this.aaS=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}var bQ=this;this.cS.on('PartialSearchResultsAvailable',function(aC){var HY=[];var Tk={};HY=aC.partialSearchResults;var aG=HY[0];Tk.bK=aG.getId();aG=HY[HY.length-1];Tk.dk=aG.getId();bQ.SY[aG.getPageNumber()]=Tk;var db=bQ.av.get_displayedPages();for(var K=0;K<db.get_length();K++){var aW=db.getPage(K);if(aW.get_pageNumber()+1===aG.getPageNumber()){bQ.acs(aW.get_pageNumber(),HY);}}});this.cS.on('SearchCompleted',function(aC){bQ.aaS=false;});this.trigger('SearchPerformed',{searchRequest:this.cS});return this.cS;};PCCViewer.ViewerControl.prototype.getSearchRequest=function(){return this.cS;};PCCViewer.ViewerControl.prototype.clearSearch=function(){if(!this.eY){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var G=this;if(this.getSelectedSearchResult()){this.CG=null;setTimeout(function(){G.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.av.clearAllSelectedText();this.cS=null;setTimeout(function(){G.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};PCCViewer.ViewerControl.prototype.validateSearch=function(hC){var gT={errorsExist:false},searchTermObj,VE,K,aK,abI,PL,UW;if(typeof hC!=='object'&&typeof hC!=='string'){gT.errorsExist=true;gT.summaryMsg="Search query must be either an object or string.";return gT;}if(typeof hC==='string'&&hC.length<0){gT.errorsExist=true;gT.summaryMsg="Search term must contain at least 3 characters.";return gT;}else if(typeof hC==='string'){return gT;}if(!hC.hasOwnProperty('searchTerms')){gT.errorsExist=true;gT.summaryMsg="Search options must have a 'searchTerms' key.";return gT;}if(Object.prototype.toString.call(hC.searchTerms)!=='[object Array]'){gT.errorsExist=true;gT.summaryMsg="Search terms value must be an array.";return gT;}if(!hC.searchTerms.length){gT.errorsExist=true;gT.summaryMsg="Search terms array must contain at least one value.";return gT;}gT.searchTerms=[];for(K=0;K<hC.searchTerms.length;K++){searchTermObj=hC.searchTerms[K];PL=(typeof searchTermObj.matchingOptions!=='undefined'&&searchTermObj.matchingOptions.hasOwnProperty('matchCase'))?searchTermObj.matchingOptions.matchCase:false;if(typeof searchTermObj.searchTerm==='undefined'||typeof searchTermObj.searchTerm!=='string'||(searchTermObj.searchTermIsRegex===true&& !aBR(searchTermObj.searchTerm,PL))){gT.errorsExist=true;gT.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});continue;}abI=(typeof searchTermObj.matchingOptions!=='undefined'&&searchTermObj.matchingOptions.hasOwnProperty('exactPhrase'))?searchTermObj.matchingOptions.exactPhrase:false;if(abI){if(searchTermObj.searchTerm.length<0){gT.errorsExist=true;gT.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});continue;}}else{VE=searchTermObj.searchTerm.split(' ');for(aK=0;aK<VE.length;aK++){UW=VE[aK].replace(/^\s+|\s+$/g,'');if(UW.length>0&&UW.length<0){gT.errorsExist=true;gT.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}}}if(gT.searchTerms.length!==K+1){gT.searchTerms.push({isValid:true,message:null});}}return gT;};var aBR=function(Wa,PL){var aCN,XC,Ps;if(PL){XC='gm';}else{XC='igm';}if(!Wa&&Wa!==null){Ps=false;}else{try{aCN=new RegExp(Wa,XC);Ps=true;}catch(err){Ps=false;}}return Ps;};PCCViewer.ViewerControl.prototype.getDownloadDocumentURL=function(){var dh;if(!(/^[\x00-\x7F]*$/.test(this.aR))){dh=this.bn.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bn.documentID+'/SourceFile';}else{dh=this.bn.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bn.documentID);}return dh;};PCCViewer.ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var Nn,ZK;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:Nn=true;ZK=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:Nn=false;ZK=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.av&&this.av.set_redactionDraftMode){var apZ=this.av.get_redactionDraftMode();if(apZ!==Nn){this.av.set_redactionDraftMode(Nn);}}else{this.bn.redactionViewMode=ZK;}return this;};PCCViewer.ViewerControl.prototype.getRedactionViewMode=function(){var amn;if(this.av&&this.av.get_redactionDraftMode){amn=this.av.get_redactionDraftMode();if(amn===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bn.redactionViewMode;}};PCCViewer.ViewerControl.prototype.convertToRedaction=function(searchResult){var ec=searchResult;if(this.eY===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}if(ec instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(ec instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(ec.Pb!==this.aR.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var G=this;var lv=ec.getStartIndexInPage();var fC=ec.getStartIndexInPage()+ec.getText().length;var ku=IPCC.CD();var aW=G.cl.getPage(ec.getPageNumber()-1);var bH=G.av.gS(aW);var fB=aW.cf().fE();var ea=arL(bH,fB,lv,fC,ku,ec.getPageNumber()-1);var O=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:ea,pageNumber:ec.getPageNumber()});O.h=ea;O.cF=[];this.dN[ea.get_markID()]=O;var vS=G.iA;G.iA=function(sender,eventArgs){if(G.uH){G.zB.addMarks(O);}setTimeout(function(){G.trigger('MarkCreated',{mark:O,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bH.addMark(ea);G.iA=vS;G.av.display(ec.getPageNumber()-1);return O;};var arL=function(bH,fB,lv,fC,ku,ajd){var ea=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);ea.dM=ku;ea.aM=ajd;var O=null;var kY={gs:Number.MAX_VALUE,ho:0,_top:Number.MAX_VALUE,hM:0};for(var aK=lv;aK<fC;aK++){var dZ=fB.kK(aK);if(O){var yh=O.get_rectangle();if(Math.abs(dZ.aa.y-yh.y)<1&&Math.abs(dZ.aa.height-yh.height)<1&&dZ.aa.x+dZ.aa.width>=yh.x+yh.width){O.set_rectangle(new IPCC.Web.UI.Rectangle(yh.x,yh.y,dZ.aa.x+dZ.aa.width-yh.x,yh.height));}else{abU(bH,ea,O,kY);O=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);O.set_rectangle(dZ.aa);O.kN(true);O.set_fillColor('#000000');O.set_text(ea.bo);O.set_lineWidth(0);O.dM=ku;}}else{O=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);O.set_rectangle(dZ.aa);O.kN(true);O.set_fillColor('#000000');O.set_text(ea.bo);O.set_lineWidth(0);O.dM=ku;}O.aM=ajd;}if(O!==null){abU(bH,ea,O,kY);}ea.set_rectangle(new IPCC.Web.UI.Rectangle(kY.gs,kY._top,kY.ho-kY.gs,kY.hM-kY._top));return ea;};var abU=function(bH,ea,O,kY){var F=O.get_rectangle();if(F.x<kY.gs){kY.gs=F.x;}if(F.y<kY._top){kY._top=F.y;}if(F.x+F.width>kY.ho){kY.ho=F.x+F.width;}if(F.y+F.height>kY.hM){kY.hM=F.y+F.height;}bH.addMark(O);ea.ds.push(O);};PCCViewer.ViewerControl.prototype.convertToHighlight=function(searchResult){var ec=searchResult;if(this.eY===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(ec instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(ec instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(ec.Pb!==this.aR.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var ea;var aeB;var bH;var aG=ec;var lv=aG.getStartIndexInPage();var fC=aG.getStartIndexInPage()+aG.getText().length;var ku=IPCC.CD();var G=this;var O;bH=this.av.gS(this.cl.getPage(aG.getPageNumber()-1));ea=alm(IPCC.Web.UI.MarkType.HighlightText,aG,lv,ku);O=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:ea,pageNumber:aG.getPageNumber()});for(lv;lv<fC;lv++){aeB=alm(IPCC.Web.UI.MarkType.Highlight,aG,lv,ku);bH.addMark(aeB);}this.dN[ea.get_markID()]=O;var vS=this.iA;this.iA=function(sender,eventArgs){if(G.uH){G.zB.addMarks(O);}setTimeout(function(){G.trigger('MarkCreated',{mark:O,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bH.addMark(ea);G.iA=vS;this.av.display(aG.getPageNumber()-1);O.fillColor=aG.getHighlightColor();return O;};var alm=function(aP,aG,aBi,ku){var O=new IPCC.Web.UI.Mark(aP);if(aP===IPCC.Web.UI.MarkType.HighlightText){O.dm=aG.getText();}O.bK=aBi;O.set_rectangle({x:0,y:0,width:0,height:0});O.cw=aG.getText().length;O.aDM=aG.getStartIndexInPage()+aG.getText().length;O.cn=127;O.cI=aG.getHighlightColor();O.mV='y';O.dM=ku;return O;};PCCViewer.ViewerControl.prototype.acs=function(aM,gH){var aG={};for(var aK=0;aK<gH.length;aK++){aG=gH[aK];this.av.selectText(aG.getPageNumber()-1,aG.getStartIndexInPage(),aG.getText().length,aG.getHighlightColor());}this.av.display(aG.getPageNumber()-1);this.KR[aG.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.Za=function(aM,searchResult){var aG={};if(this.cS===null||typeof this.cS.getResults!=='function'){return;}var gH=this.cS.getResults();this.av.clearSelectedText(aM-1);var Vy=this.SY[aM];if(!Vy){return;}for(var aK=Vy.bK;aK<Vy.dk+1;aK++){aG=gH[aK];if(aG.getPageNumber()===aM){this.av.selectText(aG.getPageNumber()-1,aG.getStartIndexInPage(),aG.getText().length,aG.getHighlightColor());if(searchResult===aG.getId()){this.av.selectText(aG.getPageNumber()-1,aG.getStartIndexInPage(),aG.getText().length,aG.getHighlightColor());}}}this.av.display(aG.getPageNumber()-1);this.KR[aG.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.eY){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.Hc= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.cS){throw "There is no current SearchRequest object available.";}var aeq=this.cS.getResults();if(aeq[searchResult.getId()].zH!==searchResult.zH){throw "The parameter searchResult is not current. There is a newer version of search result available.";}aeq=null;this.Hc=searchResult.getId();if(scrollTo){var bm=searchResult.getBoundingRectangle();var ik=new IPCC.Web.UI.Rectangle(bm.x,bm.y,bm.width,bm.height);if(this.av.scrollRegionIntoView(searchResult.getPageNumber()-1,ik)===false){this.ko=function(){G.av.scrollRegionIntoView(searchResult.getPageNumber()-1,ik);};this.setPageNumber(searchResult.getPageNumber());}else{this.ko=null;}}}var axU=searchResult!==null?searchResult.getPageNumber(): -1;if(this.CG&&this.CG.getPageNumber()!==axU){this.Za(this.CG.getPageNumber(),this.Hc);}if(searchResult){this.Za(searchResult.getPageNumber(),this.Hc);}this.CG=searchResult;var G=this;setTimeout(function(){G.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};PCCViewer.ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.eY){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};PCCViewer.ViewerControl.prototype.getSelectedSearchResult=function(){return this.CG;};PCCViewer.ViewerControl.prototype.requestPageText=function(pageNumber){var bC;var bk=PCCViewer.Deferred();var dp=bk.getPromise();var G=this;try{if(typeof(pageNumber)==='number'){bC=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bC=parseInt(pageNumber,10);}}if(bC<1||bC>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.Dp.then(function(zZ){var aW=G.cl.getPage(bC-1);if(aW.cf()&&aW.cf().Ai()){if(aW.cf().nr()===true){var bo=aW.cf().FO();bk.resolve(bo);}else{bk.resolve("");}}else{var Lj=function(aj,cU){if(cU.containsText===true){var bo=aW.cf().FO();bk.resolve(bo);}else{bk.resolve("");}aW.yf(Lj);aW.FR(LG);};var LG=function(aj,cU){if(cU.exception&&cU.exception.message){bk.reject(new PCCViewer.Error("TextExtractionFailed",cU.exception.message));}else{bk.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}aW.yf(Lj);aW.FR(LG);};aW.wF(Lj);aW.Bb(LG);aW.Bj();}});}catch(e){bk.reject(new PCCViewer.Error("Error",e));}return dp;};PCCViewer.ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aJ.nQ(pageNumber,"pageNumber",1,this.getPageCount());var aW;return(this.av&&this.cl&&(aW=this.cl.getPage(pageNumber-1))&&aW.cf()&&aW.cf().Ai())===true;};PCCViewer.ViewerControl.prototype.documentHasText=function(){return this.aqW;};PCCViewer.ViewerControl.prototype.requestPageAttributes=function(pageNumber){var bC;var bk=PCCViewer.Deferred();var dp=bk.getPromise();var G=this;try{if(typeof(pageNumber)==='number'){bC=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bC=parseInt(pageNumber,10);}}if(bC<1||bC>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.Dp.then(function(zZ){var aW=G.cl.getPage(bC-1);if(aW.mH()>0||aW.mj()>0){bk.resolve({'width':aW.mH(),'height':aW.mj()});}else{var CI=function(bN,cN){bk.resolve({'width':bN,'height':cN});};var Ca=function(errorMessage){bk.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};zZ.requestPageAttributes(aW,CI,Ca);}});}catch(e){bk.reject(new PCCViewer.Error("Error",e));}return dp;};PCCViewer.ViewerControl.prototype.destroy=function(){if(!this.Iv){if(this.av&&typeof this.av.dispose==="function"){this.av.dispose();}this.dh="";this.eQ=0;delete this.av;this.aR=undefined;this.Nr=0;this.cl=undefined;this.anw=false;if(this.fQ){IPCC.aN.Ly(this.fQ);this.fQ=this.bJ=undefined;}this.qB=false;this.Bc=false;this.EP=false;this.av=undefined;this.eY=false;this.Iv=true;this.trigger=function Zf(){};this.lc=undefined;this.lc={};}};PCCViewer.ViewerControl.prototype.getMarkById=function(markId){var G=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(G.dN[markId]){return G.dN[markId];}else{return null;}};PCCViewer.ViewerControl.prototype.getMarksByType=function(markType){var WP=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}afi(markType);if(!this.av){return WP;}var K=0;var dw=this.cl.get_length();var G=this;function auR(h){var O=G.dN[h.get_markID()];if(O&&O.getType().toLowerCase()===markType.toLowerCase()){WP.push(O);}};for(K=0;K<dw;K++){var bH=this.av.gS(this.cl.getPage(K));if(bH){bH.forEachMark(auR);}}return WP;};PCCViewer.ViewerControl.prototype.getAllMarks=function(){var EB=[];if(!this.av){return EB;}var dw=this.cl.get_length();var G=this;var K=0;var O;function Ou(h){var O=G.dN[h.get_markID()];if(typeof O!=='undefined'){EB.push(O);}};for(K=0;K<dw;K++){var bH=this.av.gS(this.cl.getPage(K));if(bH){bH.forEachMark(Ou);}}return EB;};function afi(markType){var hs;switch(markType.toLowerCase()){case "lineannotation":hs=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":hs=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":hs=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":hs=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":hs=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":hs=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":hs=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":hs=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":hs=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":hs=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":hs=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":hs=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":hs=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":hs=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":hs=IPCC.Web.UI.MarkType.TextLine;break;case "textselectionredaction":hs=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":hs=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":hs=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":hs=IPCC.Web.UI.MarkType.Polyline;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return hs;};PCCViewer.ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.eY===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var bC;if(typeof(pageNumber)==='number'){bC=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{bC=parseInt(pageNumber,10);}}if(bC<1||bC>this.cl.get_length()|| !isFinite(bC)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}return this.aiQ(bC,markType);};PCCViewer.ViewerControl.prototype.aiQ=function(bC,aP,bn){var G=this;bn=bn||{};var hs=afi(aP);var h=new IPCC.Web.UI.Mark(hs);h.aM=bC-1;var TY={type:aP,igMark:h,pageNumber:bC,uid:bn.uid,viewerControl:this};if(aP.toLowerCase()==="highlightannotation"||aP.toLowerCase()==="textselectionredaction"||aP.toLowerCase()==="texthyperlinkannotation"){TY.cl=G.cl;TY.av=G.av;}var O=new PCCViewer.Mark(TY);if(G.aif===true){G.aif=false;}else{var vS=G.iA;G.iA=function(sender,eventArgs){G.iA=vS;if(G.uH){G.zB.addMarks(O);}setTimeout(function(){G.trigger('MarkCreated',{mark:O,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var bH=this.av.gS(this.cl.getPage(bC-1));bH.addMark(h);G.dN[h.get_markID()]=O;G.ob(O,bC-1);return O;};PCCViewer.ViewerControl.prototype.deleteMarks=function(marks){var G=this;var K=0;var O;if(!this.eY){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Jk(qe){var aM=qe.getPageNumber()-1;var dM='';var aI='';var Jc=aM;var bH=G.av.gS(G.cl.getPage(aM));bH.removeMark(qe.h);if(G.dN[qe.getId()]){dM=qe.h.dM;aI=qe.getType();delete G.dN[qe.getId()];}var SP=aI.toLowerCase();if((SP==='highlightannotation'||SP==='textselectionredaction'||SP==='texthyperlinkannotation')&&(qe.cF&&qe.cF.length)){for(var K=0;K<qe.cF.length;K++){var lF=qe.cF[K];bH=G.av.gS(G.cl.getPage(lF.aM));bH.removeMark(lF);G.ob(lF,lF.aM);}}G.po.forEach(function(fU){if(fU.hasMark(qe.getId())){fU.removeMarks(qe);}});};if(marks instanceof Array){for(K=0;K<marks.length;K++){O=marks[K];if(!(O instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(G.dN[O.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(K=0;K<marks.length;K++){Jk(marks[K]);G.ob(marks[K],marks[K].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(G.dN[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Jk(marks);G.ob(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};PCCViewer.ViewerControl.prototype.deleteAllMarks=function(){var EB=this.getAllMarks();if(EB.length>0){return this.deleteMarks(EB);}return this;};PCCViewer.ViewerControl.prototype.hideMarks=function(marks){amd(this,marks,false,'hideMarks');return this;};PCCViewer.ViewerControl.prototype.showMarks=function(marks){amd(this,marks,true,'showMarks');return this;};function amd(dK,au,IA,ayQ){var K=0;var O;if(!dK.eY){throw new PCCViewer.Error("InvalidArgument","The method "+ayQ+" can not be used until 'ViewerReady' state is reached.");}if(au instanceof Array){for(K=0;K<au.length;K++){O=au[K];if(!(O instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(dK.dN[O.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(K=0;K<au.length;K++){au[K].setVisible(IA);}}else{if(au instanceof PCCViewer.Mark){if(!(dK.dN[au.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}au.setVisible(IA);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function Bo(aBx,me){var nT=false;var db=me.av.get_displayedPages();for(var K=0;K<db.get_length();K++){var aW=db.getPage(K);if(aW.get_pageNumber()===aBx){nT=true;break;}}return nT;};PCCViewer.ViewerControl.prototype.moveMarkToFront=function(mark){var bH;var iL;if(!this.eY){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){iL=mark.getPageNumber();if(mark.getPageNumber()>0){bH=this.av.gS(this.cl.getPage(iL-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.h){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bH){if(mark.h instanceof IPCC.Web.UI.Mark){mark.h.moveToFront();if(Bo(iL-1,this)===true){var me=this;setTimeout(function(){me.av.co(iL-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkToBack=function(mark){var bH;var iL;if(!this.eY){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}iL=mark.getPageNumber();if(iL>=1){bH=this.av.gS(this.cl.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.h){throw "The parameter, mark may be a templateMark or has not been initialized";}if(bH){if(mark.h instanceof IPCC.Web.UI.Mark){mark.h.moveToBack();if(Bo(iL-1,this)===true){var me=this;setTimeout(function(){me.av.co(iL-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkForward=function(mark){var bH,iL;if(!this.eY){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}iL=mark.getPageNumber();if(iL>=1){bH=this.av.gS(this.cl.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.h){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bH){if(mark.h instanceof IPCC.Web.UI.Mark){mark.h.moveForward();if(Bo(iL-1,this)===true){var me=this;setTimeout(function(){me.av.co(iL-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkBackward=function(mark){var bH,iL;if(!this.eY){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}iL=mark.getPageNumber();if(iL>=1){bH=this.av.gS(this.cl.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.h){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bH){if(mark.h instanceof IPCC.Web.UI.Mark){mark.h.moveBackward();if(Bo(iL-1,this)===true){var me=this;setTimeout(function(){me.av.co(iL-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.getSelectedMarks=function(){var au=[];var abr=[];if(this.eY===false){return au;}var dw=this.cl.get_length(),bH,fG;var G=this;function auW(Rs){if(Rs){var SL=Rs.get_type();if(SL===IPCC.Web.UI.MarkType.HighlightText||SL===IPCC.Web.UI.MarkType.TextSelectionRedaction||SL===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var kd in G.dN){if(G.dN.hasOwnProperty(kd)){fG=G.dN[kd];if(Rs.dM===fG.h.dM){for(var K=0;K<abr.length;K++){if(fG.h.dM===abr[K]){return;}}abr.push(fG.h.dM);break;}}}}else{fG=G.dN[Rs.get_markID()];}if(fG&&fG instanceof PCCViewer.Mark){au.push(fG);}else{return au;}}};for(var K=0;K<dw;K++){bH=this.av.gS(this.cl.getPage(K));if(bH){bH.get_selectedMarks().forEach(auW,{});}}return au;};function ans(au,aoI,me){var fG,K;function Yi(dX){var nT=false;var db=me.av.get_displayedPages();for(var K=0;K<db.get_length();K++){var aW=db.getPage(K);if(aW.get_pageNumber()===dX){nT=true;break;}}return nT;};if(!au.length){return;}for(K=0;K<au.length;K++){if(au[K]instanceof PCCViewer.Mark){fG=me.dN[parseInt(au[K].getId(),10)];if(fG&&fG instanceof PCCViewer.Mark){if(fG.h&&fG.h instanceof IPCC.Web.UI.Mark){if(fG.getId()!==fG.h.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(K+1)+" is invalid";}}var pD=[];var vX=false;for(K=0;K<au.length;K++){fG=me.dN[parseInt(au[K].getId(),10)];vX=false;if(fG){if(fG.getId()===fG.h.get_markID().toString()){fG.h.set_selected(aoI);if(Array.prototype.IndexOf){vX=(pD.IndexOf(fG.getPageNumber())>=0);}else{vX=(IPCC.Web.hG(pD,fG.getPageNumber())>=0);}}if(!vX){var dJ=fG.getPageNumber();if(Yi(dJ-1)){pD.push(dJ);}}}}if(pD.length>0){setTimeout(function(){for(K=0;K<pD.length;K++){me.av.co(pD[K]-1);}},1);}};PCCViewer.ViewerControl.prototype.selectMarks=function(marks){if(this.eY===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var au=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){au.push(marks);}}else{au=marks;}if(au.length===0){return this;}ans(au,true,this);return this;};PCCViewer.ViewerControl.prototype.deselectMarks=function(marks){if(this.eY===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var au=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){au.push(marks);}}else{au=marks;}if(au.length===0){return this;}ans(au,false,this);return this;};PCCViewer.ViewerControl.prototype.deselectAllMarks=function(){var pD=[];var au=this.getSelectedMarks();var vX=false,K,fG;for(K=0;K<au.length;K++){fG=this.dN[parseInt(au[K].getId(),10)];vX=false;if(fG){if(fG.getId()===fG.h.get_markID().toString()){fG.h.set_selected(false);if(Array.prototype.IndexOf){vX=(pD.IndexOf(fG.getPageNumber())>=0);}else{vX=(IPCC.Web.hG(pD,fG.getPageNumber())>=0);}}if(!vX){var dJ=fG.getPageNumber();if(Bo(dJ-1,this)===true){pD.push(dJ);}}}}if(pD.length>0){var me=this;setTimeout(function(){for(K=0;K<pD.length;K++){me.av.co(pD[K]-1);}},1);}return this;};PCCViewer.ViewerControl.prototype.copyMarks=function(marks){var dK=this,ajE;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var au=[];IPCC.aN.forEach(marks,function(O){if(O instanceof PCCViewer.Mark){if(dK.dN[O.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}au.push(O);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var uZ=[];IPCC.aN.forEach(au,function(O,bD){PCCViewer.eV[O.getType()]({mark:O},function(cE,bY){bY.uid=undefined;uZ[bD]=bY;});});this.uH=false;ajE=dK.deserializeMarks(uZ);this.uH=true;return ajE;};PCCViewer.ViewerControl.prototype.enterTextMarkEditingMode=function(O){var dK=this,av=this.av;var aaj=function(amc){var Nz=false,db=av.get_displayedPages();for(var K=0;K<db.get_length();K++){var aW=db.getPage(K);if(aW.get_pageNumber()===amc){Nz=true;}av.pz(aW.get_pageNumber());}return Nz;};if(typeof O==="undefined"||O===null){aaj(-1);}else{if(this.eY===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(O instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var aeD=this.dN[parseInt(O.getId(),10)];if(!(aeD&&aeD instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(O.h&&O.h instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(O.getId()!==O.h.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var aP=O.getType();if(aP!==PCCViewer.Mark.Type.TextAnnotation&&aP!==PCCViewer.Mark.Type.TextRedaction&&aP!==PCCViewer.Mark.Type.TextInputSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', or 'TextInputSignature'.");}var Nz=aaj(O.getPageNumber()-1);if(Nz){dK.av.zg(O.getPageNumber()-1,O.h);}}return this;};PCCViewer.ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.eY===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Kc= -1;var cD;var bm;var bC=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){cD=sortableObject.getStartPoint();}else{bm=(sortableObject.h)?sortableObject.h.get_boundingRectangle():sortableObject.getRectangle();cD={x:bm.x,y:bm.y};}bC=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){cD={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{cD={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){bC= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{bC=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(bC<1||bC>this.getPageCount()|| !isFinite(bC)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(bC)){return-2;}var aW=this.cl.getPage(bC-1);var wV=aW.cf().YO();var fB=aW.cf().fE();function aaZ(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function agp(cC,eB){var ad=Math.max(Math.min(eB.x,cC.x+cC.width),cC.x);var fp=Math.max(Math.min(eB.y,cC.y+cC.height),cC.y);return(eB.x-ad)*(eB.x-ad)+(eB.y-fp)*(eB.y-fp);};var Eb;var Ok=Number.MAX_VALUE;for(var K=0;K<wV.eI();K++){var iQ=wV.art(K);if(aaZ(iQ.eg(),cD)){for(var aK=iQ.amR();aK<iQ.aeH();aK++){var Zw=fB.kK(aK);var uj=Zw.vj();if(aaZ(uj,cD)){return aK;}Eb=agp(uj,cD);if(Eb<Ok){Kc=aK;Ok=Eb;}}return Kc;}Eb=agp(iQ.eg(),cD);if(Eb<Ok){if(iQ.eg().y>cD.y){Kc=iQ.amR()-1;}else{Kc=iQ.aeH();}Ok=Eb;}}return Kc;};PCCViewer.ViewerControl.prototype.getCurrentMouseTool=function(){return this.dz.getName();};PCCViewer.ViewerControl.prototype.setCurrentMouseTool=function(name){if(this.eY===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var Cd=name.toLowerCase();var dz=PCCViewer.MouseTools.getMouseTool(Cd);if(!dz){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var jB,jH;switch(dz.getType()){case PCCViewer.MouseTool.Type.Magnifier:jB=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:jB=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:jB=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:jB=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:jB=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:jB=IPCC.Web.UI.MouseTool.CreateLineMark;jH=atQ(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:jB=IPCC.Web.UI.MouseTool.CreateRectangleMark;jH=ajc(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:jB=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;jH=avc(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:jB=IPCC.Web.UI.MouseTool.CreateRectangleMark;jH=awB(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:jB=IPCC.Web.UI.MouseTool.CreateEllipseMark;jH=ajc(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:jB=IPCC.Web.UI.MouseTool.CreateTextMark;jH=avJ(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:jB=IPCC.Web.UI.MouseTool.CreateTextMark;jH=ahk(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:jB=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;jH=ahk(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:jB=IPCC.Web.UI.MouseTool.CreateStampMark;jH=awh(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:jB=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;jH=ST(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:jB=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;jH=ST(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:jB=IPCC.Web.UI.MouseTool.CreateFreehandMark;jH=auH(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:jB=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;jH=ST(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var alF=this.bn.resourcePath+'/placeSignatureCursor.cur';this.av.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.av.set_allowMarkEdits(false);this.av.set_mouseCursor('url('+alF+'), pointer');this.dz=dz;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:jB=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;jH=abC(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:jB=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;jH=abC(dz.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:jB=IPCC.Web.UI.MouseTool.CreatePolylineMark;jH=auh(dz.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}this.dz=dz;if(jH){this.Jg=jH.onCreating;this.iA=jH.onAdded;}else{this.Jg=undefined;this.iA=undefined;}this.av.set_mouseTool(jB);this.av.set_allowMarkEdits((dz.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function Vp(dK,VZ,nb){if(dK.Bc!==true){var alR=function(){dK.off('PageCountReady',alR);Vp(dK,VZ,nb);};dK.on('PageCountReady',alR);return;}var bQ=dK;var xz;var kD={},vR={},uw=[];var gi=bQ.eQ;var jZ;var bn;if(VZ){bn=VZ;}var aaL=[];var Qu=bQ.aR.get_pages();var asP=function(aW,done){var aDf=false;var kc=aW;var bC=aW.get_pageNumber();var fl=kc.get_pageWidth();var cK=kc.get_pageHeight();try{if(kc){var gS=bQ.av.gS(kc),EQ=0,Gd=0,fK="",aDL=false;var getArt=function getArt(){var aK,Us;var HV=gS.azR(bC,EQ,Gd,bn);if(HV.kD){kD[bC]=HV.kD;}else{var avW=atk(bC,jZ,Gd,EQ);kD[bC]=avW;}if(HV.uw){for(aK=0;aK<HV.uw.length;aK++){Us=HV.uw[aK];vR[Us.aE.imageStampId]=Us;}}done();};if(gS){if(!fl|| !cK){if(gS.get_markCount()>0){aW.requestPageAttributes(function(bN,cN){EQ=bN;if(EQ){kc.JE(EQ);}Gd=cN;if(Gd){kc.LW(Gd);}getArt();},function(Fs){done(Fs);});}else{getArt();}}else{EQ=fl;Gd=cK;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};Qu.forEach(function(aW,cO,kl){aaL.push(function(done){asP(aW,done);});});var Yc=function(bO,aW){var xO="";var K;if(!bO.fY){if(bO.toString()){return bO.toString();}else{return '<![CDATA[]]>';}}if((gi===1||aW===0||(aW>0&&bO.fY!=="documentAnnotations"&&bO.fY!=="pages"))&&bO.fY!=="highlights"){xO='<'+bO.fY;for(var Bh in bO.aE){if(bO.aE.hasOwnProperty(Bh)){var aE=bO.aE[Bh].toString();aE=aE.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');xO=xO+' '+Bh+'="'+aE+'"';}}xO+='>';}for(K=0;K<bO.dg.length;K++){xO+=Yc(bO.dg[K],aW);}if(gi===1||(aW===gi-1)||(aW!==gi-1&&bO.fY!=="documentAnnotations"&&bO.fY!=="pages"&&bO.fY!=="highlights")){if(bO.fY!=="highlights"){xO+='</'+bO.fY+'>';}else{xO+='<'+bO.fY+' />';}}return xO;};IPCC.aN.Ws(aaL,function(cE){if(cE){nb(cE);return;}xz='<?xml version="1.0"?>';for(var K=0;K<(bQ.eQ);K++){xz=xz+Yc(kD[K],K);}var stampImageXml='';for(var Jp in vR){if(vR.hasOwnProperty(Jp)){stampImageXml+=Yc(vR[Jp],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';xz=xz.replace('</documentAnnotations>',stampImagesXml);}nb(undefined,xz);});};PCCViewer.ViewerControl.prototype.saveMarkup=function(recordName,options){var bk=PCCViewer.Deferred();var dp=bk.getPromise();var bn;if(options){bn=options;}else{bn={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){bk.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return dp;}if(!aoY(recordName)){bk.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return dp;}var bQ=this;this.Dp.then(function(zZ){var Gn=recordName;Vp(bQ,bn,function(err,xz){if(err){bk.reject(new PCCViewer.Error("Error",err));return dp;}var Oq=IPCC.gQ.rz(Gn);var url;if(!(/^[\x00-\x7F]*$/.test(bQ.aR.get_documentIdentifier()))){url=bQ.bn.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bQ.bn.documentID+'&AnnotationID=e'+Oq;}else{url=bQ.bn.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bQ.bn.documentID)+'&AnnotationID=u'+encodeURIComponent(Gn);}var dR=new XMLHttpRequest();if(dR===null){bk.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));return dp;}var saveHandler=function(){if(dR.readyState===4){if(dR.status===200){bk.resolve(Gn);setTimeout(function(){bQ.trigger('MarkupSaved',{name:Gn});},0);}else{bk.reject(new PCCViewer.Error("AjaxError","Status Code "+dR.status+" "+dR.statusText));return dp;}}};dR.open("POST",url,true);dR.setRequestHeader("Content-Type","application/xml");dR.onreadystatechange=saveHandler;dR.send(xz);});});}catch(e){bk.reject(new PCCViewer.Error("Error",e.message));}return dp;};var aoY=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var TF=function(jY){var ad=jY.firstChild;while(ad.nodeType!==1){ad=ad.nextSibling;}return ad;};var atk=function(dJ,jZ,cK,fl){var kD={fY:'documentAnnotations',dg:[],aE:{}};var akZ={fY:'pages',dg:[],aE:{}};kD.dg.push(akZ);var lU={fY:'highlights',dg:[],aE:{}};var aW={fY:'page',dg:[],aE:{id:(dJ+1).toString(),pageWidth:fl,pageHeight:cK}};kD.dg.push(lU);try{if(jZ){var ad=jZ.getElementsByTagName("documentAnnotations");if(ad.length>1){throw 'ERROR: Invalid PCC annotations XML';}var RR;var CF;if(document.documentMode<9){var SQ=jZ.firstChild.nodeName;if(SQ.toLowerCase()==='xml'){RR=jZ.firstChild.nextSibling;}else{RR=jZ.firstChild;}}else{RR=jZ.firstChild;}var dj=TF(RR);if(dj.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(dj.hasChildNodes()){var K;var kn=false;for(K=0;K<dj.childNodes.length;K++){CF=dj.childNodes[K];if(CF.nodeName!=='page'){continue;}var An=CF.getAttribute('id');kn=false;if(An&&parseFloat(An)===dJ+1){kn=true;for(var aK=0;aK<CF.childNodes.length;aK++){var ap=CF.childNodes[aK];var bv={fY:'annotation',dg:[],aE:{}};if(ap.nodeName!=='annotation'){continue;}var QZ=CF.childNodes[aK].attributes;if(QZ.length>0){for(var cP=0;cP<QZ.length;cP++){bv.aE[QZ[cP].name]=QZ[cP].value;}}if(ap.childNodes[0].data){bv.dg.push('<![CDATA['+ap.childNodes[0].data+']]>');}else{bv.dg.push('');}aW.dg.push(bv);}break;}}}}akZ.dg.push(aW);return kD;}catch(e){throw(e.message);}};PCCViewer.ViewerControl.prototype.loadMarkup=function(recordName,options){var Kw=recordName;var bk=PCCViewer.Deferred(),dp=bk.getPromise(),bQ=this;var bn=options||{};var vZ=bn.retainExistingMarks;var ie=bn.markupLayer;var uh=bn.loadAsHidden;this.Dp.then(function(zZ){var url,dR,Oq,av=bQ.av,cl=bQ.cl;if(typeof Kw!=="string"){bk.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(vZ!==undefined){if(typeof vZ!=='boolean'){bk.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(ie!==undefined){if(!(ie instanceof PCCViewer.MarkupLayer)){bk.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(bQ.po.getItem(ie.getId())===undefined){bk.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}var loadResponseHandler=function(){if(dR.readyState===4){if(dR.status===200){var XV,Ph=dR.responseText,Nx;if(Ph.indexOf('xml')=== -1){bk.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Ph=Ph.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.aN.Fq(p2)+p3;});if(window.DOMParser){Nx=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Nx=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Nx=function(){return null;};}XV=Nx(Ph);var aha=XV.getElementsByTagName('stampImage');var uw={};var Zt=function(bD){O.bE.push(afY.getPoint(bD));};for(var K=0;K<aha.length;K++){var Uf=aha[K];uw[Uf.getAttribute('imageStampId')]={imageStampId:Uf.getAttribute('imageStampId'),base64format:Uf.getAttribute('base64format')};}av.set_annotationXmlDom(XV,uw,vZ===true,uh===true);if(vZ!==true){bQ.dN={};}var dw=bQ.cl.get_length();var O;var aP,hs;var yY={};var IF=[];for(K=0;K<dw;K++){var bH=bQ.av.gS(bQ.cl.getPage(K));if(bH){var Fh={};var aK=0;for(aK=0;aK<bH.get_markCount();aK++){var h=bH.getMark(aK);if(bQ.dN[h.get_markID()]!==undefined){continue;}hs=h.get_type();switch(hs){case IPCC.Web.UI.MarkType.Rectangle:if(h.jg()===true){if(h.get_opacity()===255){aP=PCCViewer.Mark.Type.RectangleRedaction;}else{aP=PCCViewer.Mark.Type.TransparentRectangleRedaction;}O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});}else{aP=PCCViewer.Mark.Type.RectangleAnnotation;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.qc=h.get_lineWidth();O.cI=h.get_fillColor();O.rh=h.get_lineColor();O.cn=h.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:aP=PCCViewer.Mark.Type.EllipseAnnotation;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.qc=h.get_lineWidth();O.cI=h.get_fillColor();O.rh=h.get_lineColor();O.cn=h.get_opacity();break;case IPCC.Web.UI.MarkType.Line:aP=PCCViewer.Mark.Type.LineAnnotation;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.rs=h.get_lineWidth();O.eK=h.get_lineColor();O.cn=h.get_opacity();if(h.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){O.mt="FilledTriangle";}else{O.mt="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(h.jg()===true){aP=PCCViewer.Mark.Type.StampRedaction;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});}else{aP=PCCViewer.Mark.Type.StampAnnotation;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.eK=h.get_fillColor();}O.wl=h.get_text();break;case IPCC.Web.UI.MarkType.Text:if(h.jg()===true){aP=PCCViewer.Mark.Type.TextRedaction;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});}else{aP=PCCViewer.Mark.Type.TextAnnotation;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.qc=h.get_lineWidth();O.cI=h.get_fillColor();O.rh=h.get_lineColor();O.cn=h.get_opacity();}O.gf=h.get_fontName();O.lB=h.get_textColor();O.cJ=h.get_fontSize();var ff=h.get_fontStyle();var IE=[];if((ff&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){IE.push("Bold");}if((ff&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){IE.push("Italic");}if((ff&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){IE.push("Strikeout");}if((ff&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){IE.push("Underline");}O.ff=IE;var tx;switch(h.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:tx="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:tx="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:tx="right";break;}O.xt=tx;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:aP=(hs===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(hs===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var Uq=h.dM;if(typeof yY[Uq]==='undefined'){O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,cl:cl,av:av,uid:h.aE.lh});O.cF=[];if(aP===PCCViewer.Mark.Type.HighlightAnnotation){O.cI=h.get_fillColor();}yY[Uq]=O;h.aM=K;h.kL=true;}else{h.aM=K;yY[Uq].cF.push(h);}break;case IPCC.Web.UI.MarkType.Freehand:aP=PCCViewer.Mark.Type.FreehandAnnotation;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.rs=h.get_lineWidth();O.eK=h.get_lineColor();O.cn=h.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:aP=PCCViewer.Mark.Type.FreehandSignature;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.rs=h.get_lineWidth();O.eK=h.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:aP=PCCViewer.Mark.Type.TextSignature;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.gf=h.get_fontName();O.eK=h.get_fillColor();O.bo=h.get_text();break;case IPCC.Web.UI.MarkType.TextLine:aP=PCCViewer.Mark.Type.TextInputSignature;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.gf=h.get_fontName();O.lB=h.get_textColor();O.bo=h.get_text();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!h.dM){aP=PCCViewer.Mark.Type.RectangleRedaction;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,cl:cl,av:av,uid:h.aE.lh});O.qc=h.get_lineWidth();O.cI=h.get_fillColor();O.rh=h.get_lineColor();O.cn=h.get_opacity();}else{if(Fh[h.dM]===undefined){Fh[h.dM]=[];}Fh[h.dM].push(h);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:aP=(hs===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.setImage({dataUrl:h.get_image(),id:h.qm});break;case IPCC.Web.UI.MarkType.Polyline:aP=PCCViewer.Mark.Type.PolylineAnnotation;O=new PCCViewer.Mark({type:aP,igMark:h,pageNumber:K+1,uid:h.aE.lh});O.rs=h.get_lineWidth();O.eK=h.get_lineColor();O.cn=h.get_opacity();var afY=h.get_points();O.bE=[];for(var ae=0;ae<afY.get_length();ae++){Zt(ae);}break;default:O=undefined;continue;}if(typeof O!=='undefined'&&hs!==IPCC.Web.UI.MarkType.HighlightText&& !(hs===IPCC.Web.UI.MarkType.RectangleRedaction&&h.dM!==undefined)&&hs!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&hs!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){bQ.dN[h.get_markID()]=O;IF.push(O);}}for(var Pe in Fh){if(Fh.hasOwnProperty(Pe)&&yY[Pe]){var FK=yY[Pe];var ald=FK.h;if(FK.cF&&FK.cF.length>0){for(var Mt=0;Mt<FK.cF.length;Mt++){if(FK.cF[Mt].aM===K){ald=FK.cF[Mt];}}}var ds=Fh[Pe];for(var VI=0;VI<ds.length;VI++){ald.ds.push(ds[VI]);}}}}}for(var qf in yY){if(yY.hasOwnProperty(qf)){var yI=yY[qf];bQ.dN[yI.h.get_markID()]=yI;IF.push(yI);if(yI.cF&&yI.cF.length>0){yI.cF[yI.cF.length-1].jO=true;}else{yI.h.jO=true;}}}bk.resolve(Kw);if(ie!==undefined){ie.addMarks(IF);}else{bQ.getActiveMarkupLayer().addMarks(IF);}bQ.trigger('MarkupLoaded',{name:Kw,loadedMarks:IF});}else{bk.reject(new PCCViewer.Error("Error","Status Code "+dR.status+" "+dR.statusText));}}};Oq=IPCC.gQ.rz(Kw);if(!(/^[\x00-\x7F]*$/.test(bQ.aR.get_documentIdentifier()))){url=bQ.bn.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bQ.bn.documentID+'&AnnotationID=e'+Oq;}else{url=bQ.bn.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bQ.bn.documentID)+'&AnnotationID=u'+encodeURIComponent(Kw);}dR=new XMLHttpRequest();if(dR===null){bk.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}dR.open("GET",url,true);dR.setRequestHeader("Content-Type","application/x-www-form-urlencoded");dR.onreadystatechange=loadResponseHandler;dR.send();});return dp;};PCCViewer.ViewerControl.prototype.getSavedMarkupNames=function(){var bk=PCCViewer.Deferred();var dp=bk.getPromise();try{var K=0,QE=0;var Gn='';var url=this.bn.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bn.documentID)+'&AnnotationID=u'+encodeURIComponent(Gn);var dR;var Yv=function(){var tC;if(typeof dR.responseText!=='unknown'&&dR.responseText.length>0){try{tC=JSON.parse(dR.responseText);}catch(e){}var WW=[];if(dR.readyState===4){if(dR.status===200){for(K;K<tC.annotationFiles.length;K++){if(tC.annotationFiles[K].annotationLabel){WW[QE]={};WW[QE].name=tC.annotationFiles[K].annotationLabel;QE++;}}bk.resolve(WW);}else{bk.reject(new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server."));}}}};dR=new XMLHttpRequest();if(dR===null){bk.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}dR.open("GET",url,true);dR.onreadystatechange=Yv;dR.send();}catch(e){bk.reject(new PCCViewer.Error("Error",e.message));}return dp;};PCCViewer.ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.po){this.po=new PCCViewer.MarkupLayerCollection(this);}return this.po;};PCCViewer.ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var bk=PCCViewer.Deferred(),dp=bk.getPromise(),dh,aCk=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aR.get_documentIdentifier()))){dh=this.bn.imageHandlerUrl+'/MarkupLayers/e'+this.bn.documentID+'/';}else{dh=this.bn.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bn.documentID)+'/';}if(metadata){var axT=aCk(metadata);dh+=axT;}dh+='?nocache='+new Date().getTime();IPCC.aN.GT({url:dh,method:'GET'}).then(function onResolve(jQ){var aAJ=JSON.parse(jQ);bk.resolve(aAJ);},function onReject(Fs){bk.reject(new PCCViewer.Error("Error",Fs.message));});return dp;};PCCViewer.ViewerControl.prototype.getActiveMarkupLayer=function(){return this.zB;};PCCViewer.ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.po.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.zB=markupLayer;};PCCViewer.ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var YQ,G=this;YQ=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function Lq(){setTimeout(function(){YQ.Jd();},20);};function AG(){G.off(PCCViewer.EventType.PageCountReady,AG);Lq();};if(this.qB===false){G.on(PCCViewer.EventType.PageCountReady,AG);}else{Lq();}return YQ;};PCCViewer.ViewerControl.prototype.saveMarkupLayer=function(id){var bk=PCCViewer.Deferred();var dp=bk.getPromise();var G=this;if(typeof id!=='string'|| !id){bk.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return dp;}var fU=this.po?this.po.getItem(id):undefined;if(!fU){bk.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return dp;}function awJ(qS){var NB=fU.getMarks();if(!NB.length){qS(undefined,[]);}else{G.serializeMarks(NB).then(function iV(au){qS(undefined,IPCC.aN.map(au,function(O){if(O.conversation&&O.conversation.comments){delete O.conversation.comments;}return O;}));},function _f(fK){qS(fK);});}};function awu(qS){var NB=fU.getMarks();var WI=function(fo,gp,kS){var UC=IPCC.aN.filter(gp,function(oH){return!oH.ie||oH.ie===fU;});IPCC.aN.forEach(UC,function(dq){var by=PCCViewer.eV.Comment(dq);by.markUid=kS;fo.push(by);});return fo;};var Vh=IPCC.aN.reduce(NB,function(fo,O){var dA=O.getConversation();var gp=dA.getComments();return gp.length?WI(fo,gp,O.getUid()):fo;},[]);qS(undefined,Vh);};function awL(qS){var atg=IPCC.aN.reduce(G.po.getAll(),function(fo,agS){return fo.concat(fU===agS?[]:agS.getMarks());},[]);var WI=function(fo,gp,kS){var UC=IPCC.aN.filter(gp,function(oH){return oH.ie===fU;});IPCC.aN.forEach(UC,function(oH){var by=PCCViewer.eV.Comment(oH);by.markUid=kS;fo.push(by);});return fo;};var Vh=IPCC.aN.reduce(atg,function(fo,O){var dA=O.getConversation();var gp=dA.getComments();return gp.length?WI(fo,gp,O.getUid()):fo;},[]);qS(undefined,Vh);};var afB=[],aAw=function(qz){if(qz.markupLayer===fU){afB.push({text:qz.text,data:qz.data,creationDateTime:qz.creationDateTime,markUid:qz.markUid});}};for(var adl in this.po.iX){if(this.po.iX.hasOwnProperty(adl)){IPCC.aN.forEach(this.po.iX[adl],aAw);}}var BF={layerRecordId:fU.getRecordId(),name:fU.getName(),originalXmlName:fU.getOriginalXmlName(),comments:afB,data:PCCViewer.eV.Data(fU)};var xU;IPCC.aN.Ws([function(oK){awJ(function(cE,bY){if(cE&& !xU){xU=cE;}else{BF.marks=bY;}oK();});},function(oK){awu(function(cE,bY){if(cE&& !xU){xU=cE;}else{BF.comments=BF.comments.concat(bY);}oK();});},function(oK){awL(function(cE,bY){if(cE&& !xU){xU=cE;}else{BF.comments=BF.comments.concat(bY);}oK();});}],function(){if(!xU){aww(BF);}else{bk.reject(new PCCViewer.Error('SerializationError',xU.message));}});function aww(aDm){var QJ,Lo={method:'POST',body:JSON.stringify(BF),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(G.aR.get_documentIdentifier()))){QJ=G.bn.imageHandlerUrl+'/MarkupLayers/e'+G.bn.documentID+'/';}else{QJ=G.bn.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(G.bn.documentID)+'/';}if(fU.getRecordId()){Lo.url=QJ+fU.getRecordId();Lo.headers['X-HTTP-Method-Override']='PUT';}else{Lo.url=QJ;}IPCC.aN.GT(Lo).then(auU,auy);};function auU(rV){if(rV&&typeof rV==='string'){var Mz;try{Mz=JSON.parse(rV);}catch(e){}if(Mz&&Mz.layerRecordId){fU.UO=Mz.layerRecordId;}}bk.resolve({layerRecordId:fU.getRecordId()});};function auy(fK){bk.reject(new PCCViewer.Error('AjaxError',fK.message||'An unknown server error occured.'));};return dp;};PCCViewer.ViewerControl.prototype.burnMarkup=function(burnOptions){var EV={burnSignatures:true,burnRedactions:true};var aeg;if(burnOptions){EV.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:true;EV.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:true;if(typeof burnOptions.filename==='string'){EV.filename=burnOptions.filename;}}var anZ={includeAnnotations:false,includeRedactions:EV.burnRedactions,includeSignatures:EV.burnSignatures,Js:true};var Lm=new PCCViewer.BurnRequest(EV),G=this;function akx(){Vp(G,anZ,function(cE,aeg){if(cE){setTimeout(function(){Lm.aoS(cE);},20);}else{Lm.VB({aR:G.aR,bn:G.bn});Lm.aob(aeg);setTimeout(function(){Lm.Jd();},20);}});};function AG(){G.off(PCCViewer.EventType.PageCountReady,AG);akx();};if(this.qB===false){G.on(PCCViewer.EventType.PageCountReady,AG);}else{akx();}return Lm;};PCCViewer.ViewerControl.prototype.convertDocument=function(aro){var Od,G=this,Lx={targetExtension:'pdf',filename:'document'},bn={};PCCViewer.BV.ub(bn,Lx,aro);Od=new PCCViewer.ConversionRequest(bn);function Lq(){Od.VB({aR:G.aR,bn:G.bn});setTimeout(function(){Od.Jd(bn);},20);};function AG(){G.off(PCCViewer.EventType.PageCountReady,AG);Lq();};if(this.qB===false){G.on(PCCViewer.EventType.PageCountReady,AG);}else{Lq();}return Od;};function sz(){return function(sender,eventArgs){var G=this;var O=G.dN[eventArgs.mark.get_markID()];if(G.uH){G.zB.addMarks(O);}setTimeout(function(){if(O){G.trigger('MarkCreated',{mark:O,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function atQ(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;O.setThickness(bB.getThickness());O.setColor(bB.getColor());O.setOpacity(bB.getOpacity());O.setEndHeadType(bB.getEndHeadType());PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};function ajc(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;O.setBorderThickness(bB.getBorderThickness());O.setFillColor(bB.getFillColor());O.setBorderColor(bB.getBorderColor());O.setOpacity(bB.getOpacity());PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};function awB(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;},onAdded:sz()};};function avc(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;O.setReason(bB.getReason());PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};function avJ(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;O.setBorderThickness(bB.getBorderThickness());O.setFillColor(bB.getFillColor());O.setBorderColor(bB.getBorderColor());O.setOpacity(bB.getOpacity());O.setFontName(bB.getFontName());O.setFontColor(bB.getFontColor());O.setFontSize(bB.getFontSize());O.setFontStyle(bB.getFontStyle());O.setHorizontalAlignment(bB.getHorizontalAlignment());PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};function ahk(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;O.setFontName(bB.getFontName());O.setFontColor(bB.getFontColor());O.setText(bB.getText());if(O.setFontSize){O.setFontSize(bB.getFontSize());}PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};function awh(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;if(bB.getType()===PCCViewer.MouseTool.Type.StampAnnotation){O.setColor(bB.getColor());}O.setLabel(bB.getLabel());PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};var aDD;function ST(bB){return{onCreating:function(aj,C){},onAdded:sz()};};function auH(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;O.setThickness(bB.getThickness());O.setColor(bB.getColor());O.setOpacity(bB.getOpacity());PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};function abC(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;O.setImage(bB.getImage());PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};function auh(bB){return{onCreating:function(aj,C){var O=new PCCViewer.Mark({type:bB.getType(),igMark:C.mark,pageNumber:C.pageIndex+1});this.dN[C.mark.get_markID()]=O;O.setThickness(bB.getThickness());O.setColor(bB.getColor());O.setOpacity(bB.getOpacity());PCCViewer.Data.qQ(bB,O);PCCViewer.Conversation.te(bB.getConversation(),O.getConversation());},onAdded:sz()};};PCCViewer.ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var zm;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:zm=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:zm=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.av&&this.av.set_markHandleMode){this.av.set_markHandleMode(zm);}else{this.bn.markHandleMode=zm;}return this;};PCCViewer.ViewerControl.prototype.getMarkHandleMode=function(){var zm;if(this.av&&this.av.get_markHandleMode){zm=this.av.get_markHandleMode();}else{zm=this.bn.markHandleMode;}if(zm===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};PCCViewer.ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.oX=factoryFunction;return this;};PCCViewer.ViewerControl.prototype.getConversationDOMFactory=function(){return this.oX;};PCCViewer.ViewerControl.prototype.refreshConversations=function(conversations){var YA,adi=(conversations===undefined);function agN(dA,cO){throw new Error(dA+((cO!==undefined)?' (Array index '+cO+')':'')+' is not a valid PCCViewer.Conversation object.');};function awQ(dA,cO){throw new Error(dA+((cO!==undefined)?' (Array index '+cO+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){YA=[conversations];}else if(conversations instanceof Array){YA=conversations;}else if(!adi){agN(conversations);}var ahf=IPCC.aN.map(this.getAllMarks(),function(bq){return bq.getConversation();});var Xz=IPCC.aN.map(YA||ahf,function(bq,K){if(!(bq instanceof PCCViewer.Conversation)){agN(bq,K);}if(!adi&& !IPCC.aN.inArray(ahf,bq)){awQ(bq,K);}return bq.getMark().bX;});this.av.refreshConversations(Xz);return this;};PCCViewer.ViewerControl.prototype.openCommentsPanel=function(){if(this.eY===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.av.openCommentsPanel();var G=this;setTimeout(function(){G.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};PCCViewer.ViewerControl.prototype.closeCommentsPanel=function(){if(this.eY===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.av.closeCommentsPanel();var G=this;setTimeout(function(){G.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};PCCViewer.ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.eY===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.av.get_isCommentsPanelOpen();};PCCViewer.ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.eY===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.av.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var lF=conversation.getMark();if(lF){var yv=lF.h.get_conversation();this.av.set_selectedConversation(yv);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};PCCViewer.ViewerControl.prototype.getSelectedConversation=function(){if(this.eY===false){return null;}var iu=this.av.get_selectedConversation();if(iu){var lF=this.dN[iu.get_mark().get_markID()];if(lF){return lF.getConversation();}}return null;};PCCViewer.ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var G=this,abu=G.cS;function aeP(aM,lv,dw){var VK=[aM+1];var aW=G.cl.getPage(aM),iC=aW.cf();if(iC.nr()){var bo=iC.FO(),agr=bo.substr(lv);if(agr.length>dw){return VK;}else{return VK.concat(aeP(aM+1,0,dw-agr.length));}}else{return VK;}};this.av.yn();if(abu&&abu.getResults().length){var dj=aeP(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),gH=abu.getResults(),aer=false,NL={};if(gH.length){IPCC.aN.forEach(gH,function(bq){var apw=IPCC.aN.contains(dj,bq.bC);if(apw){aer=true;NL[bq.bC]=NL[bq.bC]||[];NL[bq.bC].push(bq);}});}if(aer){IPCC.aN.forEach(NL,function(aAq,bC){G.acs(bC,aAq);});}}return this;};PCCViewer.ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.eY===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var vx=function(n){return typeof n==='number'&& !isNaN(n);};var xS,afu=true;if(points&&points.constructor===Array){xS=points;}else{xS=[points];afu=false;}var aek=function(ba,cO,dI){throw new PCCViewer.Error('InvalidArgument',ba+' (Array index '+cO+') does not have a valid '+dI+' property');};if(xS.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.aN.forEach(xS,function(ba,cO){if(!vx(ba.x)){aek(ba,cO,'x');}if(!vx(ba.y)){aek(ba,cO,'y');}});var Dw=this.av.aCJ(pageNumber,xS);if(Dw===null){return null;}else if(afu){return Dw;}else{return Dw[0];}};if(Object.defineProperties){Object.defineProperties(PCCViewer.ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.cS;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}PCCViewer.FitType={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};PCCViewer.ViewMode={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};PCCViewer.PageLayout={Horizontal:"Horizontal",Vertical:"Vertical"};PCCViewer.EventType={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click"};PCCViewer.RedactionViewMode={Draft:"Draft",Normal:"Normal"};PCCViewer.ScaleTrigger={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};PCCViewer.MarkHandleMode={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};}());PCCViewer.BV={};PCCViewer.BV.ub=function(target){"use strict";var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};(function(PCCViewer,undefined){"use strict";var printAlgorithm={standard:1,contentWindowContents:2};var Yy=function Yy(by,aC,L){if(by.addEventListener){by.addEventListener(aC,L,false);}else if(by.attachEvent){by.attachEvent('on'+aC,L);}};var Vm=function Vm(by,aC,L){if(by.removeEventListener){by.removeEventListener(aC,L,false);}else if(by.detachEvent){by.detachEvent('on'+aC,L);}};function atG(eD){var PE={};eD=eD.split('&');for(var i=eD.length;i--;){var q=eD[i].split('=');PE[q.shift()]=q.join('=');}return PE;};function auJ(){var Qw=document.getElementById('pccPrintFrame');if(Qw){Qw.contentWindow['destroy']();Qw.parentElement.removeChild(Qw);}};function auS(bn,vC,adR,alG,nb){auJ();if(!bn.algorithm){bn.algorithm=printAlgorithm.standard;}var cB;var fS=document.createElement('iframe');fS.id='pccPrintFrame';fS.className='pccPrintFrame';fS.style.position='absolute';fS.style.bottom=fS.style.right='0px';fS.style.width=fS.style.height='1px';fS.style.zIndex='0';fS.style.border='none';if(bn.algorithm!==printAlgorithm.contentWindowContents){fS.style.visibility='0';}function MK(){Vm(window,'message',agE);};function abi(){Vm(fS,'load',abi);if(fS.contentDocument){cB=fS.contentDocument;}else if(fS.contentWindow){cB=fS.contentWindow.document;}else{cB=fS.document;}if(bn.algorithm===printAlgorithm.contentWindowContents){fS.contentWindow.contents=bn.template;fS.src='javascript:window["contents"]';}else{cB.open();cB.write(bn.template);cB.close();}nb();};var agE=function(message){if(message.data.match(/loadArt/)){var aiC=JSON.parse(message.data);var bH=adR(aiC.pageIndex);fS.contentWindow[aiC.callbackName](bH);}else if(message.data==='extra'){var Hb=alG(bn);fS.contentWindow['extra'](bn.encryption,Hb);}else if(message.data==='done'){if(bn.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){fS.contentWindow.focus();fS.contentWindow.document.execCommand('print',false,null);window.focus();MK();vC.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},200);}else{setTimeout(function(){fS.contentWindow.focus();fS.contentWindow.print();window.focus();MK();vC.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},200);}}else if(message.data==='fail'){MK();vC.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var vg=atG(message.data);vg.index= +vg.index;vg.pageNumber= +vg.pageNumber;vg.totalPages= +vg.totalPages;vC.aaa= +vg.index+1;vC.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,vg);}};Yy(window,'message',agE);Yy(fS,'load',abi);document.body.appendChild(fS);return MK;};function atw(dK){return function adR(aM){return dK.av.gS(dK.cl.getPage(aM));};};function atX(dK){return function alG(options){var au,O,xb=[],CC=[],Fu={},Md={},zG={},fK={},ES='',agV,dA,bD,JK,bm,KW,bC,akC={},FJ={},K=0,cP=0,aK=0,anp=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){au=dK.getAllMarks();for(K=0;K<options.pages.length;K++){akC[options.pages[K]]=true;}for(cP=0;cP<au.length;cP++){O=au[cP];bC=O.bC;if(options.includeReasons!=='none'&&O.getReason){ES=O.getReason();if(ES){if(!zG[bC]){fK[ES]=1;zG[bC]=fK;fK={};}else{if(zG[bC][ES]){zG[bC][ES]+=1;}else{zG[bC][ES]=1;}}}}if(O.oO||O.aI.search("Redaction")!== -1){if(FJ[bC]){FJ[bC]+=1;}else{FJ[bC]=1;}}if(options.range.length&&akC[bC]!==true|| !options.includeRedactions&&O.oO|| !options.includeAnnotations&& !O.oO){continue;}dA=O.getConversation();if(dA&&dA.getComments().length){if(!JK){JK=bC;}else if(bC!==JK){xb.sort(anp);for(aK=0;aK<xb.length;aK++){CC=CC.concat(Fu[xb[aK]]);}Md[JK]=CC;JK=bC;xb=[];Fu={};CC=[];}bD=dK.getCharacterIndex(O);agV=bC;bm=O.h.get_boundingRectangle();KW=(bD>0)?bD*10000+bm.y:bm.y;xb.push(KW);if(!Fu[KW]){Fu[KW]=[dA];}else{Fu[KW].push(dA);}}}if(xb.length){xb.sort(function(a,b){return a-b;});for(K=0;K<xb.length;K++){CC=CC.concat(Fu[xb[K]]);}Md[agV]=CC;}}return{Md:Md,zG:zG,FJ:FJ};};};PCCViewer.ViewerControl.prototype.print=function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var dj=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var ro=this.bn.imageHandlerUrl;var apj=this.bn.documentID;var aoz=this.ayj;options.vsID=apj;options.handler=ro;options.pages=dj;var isOldIE= ! !navigator.appName.match('Microsoft');var isEdge= ! !navigator.userAgent.match('Edge');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aoz.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode);options.encryption= ! !this.bn.encryption;if(isOldIE||isEdge){options.algorithm=printAlgorithm.contentWindowContents;}var aaP;function ab(){if(! !aaP){aaP();}};var vC=new PCCViewer.PrintRequest(options,dj.length,ab,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:vC});aaP=auS(options,vC,atw(this),atX(this),function(){});return vC;};PCCViewer.ViewerControl.prototype.validatePrintRange=function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};PCCViewer.ViewerControl.prototype.canPrintMarks=function canPrintMarks(){return(document.documentMode!==8);};PCCViewer.PrintRequest=function(options,totalPages,cancelFunc,that){this.bn=options;this.ab=cancelFunc;this.aaa=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PCCViewer.PrintRequest.prototype.cancel=function(){this.ab();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PCCViewer.PrintRequest.prototype.getOptions=function(){return{range:this.bn.pages.toString(),orientation:this.bn.orientation,paperSize:this.bn.paperSize,includeMarks:this.bn.includeMarks,includeAnnotations:this.bn.includeAnnotations,includeRedactions:this.bn.includeRedactions,margins:this.bn.margins};};PCCViewer.PrintRequest.prototype.getPageCount=function(){return this.bn.pages.length;};PCCViewer.PrintRequest.prototype.getPreparedCount=function(){return this.aaa;};if(Object.defineProperties){Object.defineProperties(PCCViewer.PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}PCCViewer.PrintControl=function(domElement,options){var aap=[];options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function Cv(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function atU(bC,KY){var hm=[];hm.push("pageNumber="+(1+bC));hm.push("index="+KY);hm.push("totalPages="+options.pages.length);return hm.join('&');};function kc(bC,KY,next){var be={documentIdentifier:options.vsID,pageNumber:bC,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var jh=document.createElement('div');jh.className=options.paperSize+" ";jh.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';jh.id='printpage'+bC;if(options.margins==='none'){jh.className+=' nomargins';}domElement.appendChild(jh);var pv=IPCC.initializePageViewPlugin(jh,be);pv.set_debug(false);aap.push(pv);var xK=false;function LV(){Cv(atU(bC,KY));next();};pv.add_pageOpened(function(){var aS=pv.mH(),bI=pv.mj();var zo=(options.orientation==='portrait'&&aS>bI)||(options.orientation==='landscape'&&bI>aS);if(zo){pv.zo(90);}});pv.add_pageDisplayed(function(){if(!xK){LV();}});pv.add_textPageReady(function(){if(xK){pv.co();LV();}});pv.add_pageOpenFailed(function(){Cv('fail');});pv.add_textExtractionFailed(function(){if(xK){Cv('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qZ(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qZ(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var ajH='loadArt'+bC;var vg={pageIndex:bC,callbackName:ajH};window[ajH]=function(bH){var nL,Sc,K,dA={},Rv={},Bu='',nS,IZ,fK,FU='';var KN=[];bH.DA(function(O){if(O.get_type()===IPCC.Web.UI.MarkType.HighlightText){xK=true;}if(options.includeRedactions&&O.jg()){KN.push(O);}if(options.includeAnnotations&& !O.jg()){KN.push(O);}});var abF=new IPCC.Web.UI.ArtPage();IPCC.aN.forEach(KN,function(O){O.kf(undefined);abF.addMark(O);});be.artPage=abF;Rv=options.pagedConversations[bC+1];if(options.pagedConversations&&Rv&&options.includeComments==='followingPage'){nL=document.createElement('div');nL.className+='commentPage';nL.id='printcommentpage'+bC;if(options.margins==='none'){nL.className+=' nomargins';}Sc='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(K=0;K<Rv.length;K++){dA=Rv[K];Bu+=amH(dA,bC+1);}nL.innerHTML=Sc.replace('{{pageNumber}}',bC+1).replace('{{conversationList}}',Bu);domElement.appendChild(nL);}IZ=options.pagedReasons[bC+1];if(options.pagedReasons&&IZ&&options.includeReasons==='followingPage'){nS=document.createElement('div');nS.className+='reasonPage';nS.id='printreasonpage'+bC;if(options.margins==='none'){nS.className+=' nomargins';}Sc='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fK in IZ){if(IZ.hasOwnProperty(fK)){FU+=ajO(fK,IZ[fK]);}}nS.innerHTML=Sc.replace('{{pageNumber}}',bC+1).replace('{{reasonList}}',FU).replace('{{date}}',abJ()).replace('{{count}}',options.pagedRedactionCount[bC+1]);domElement.appendChild(nS);}pv.openPage(be);IPCC.aN.forEach(KN,function(O){O.kf(bH);});};Cv(JSON.stringify(vg));}else{pv.openPage(be);}};function amH(dA,bC){var acO='',lx='',O=dA.getMark(),gp,dq,K;switch(O.h.kC()){case IPCC.Web.UI.MarkType.Rectangle:lx=(O.h.jg())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:lx='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:lx='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:lx=(O.mt==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:lx='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:lx='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:lx='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:lx='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:lx='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:lx='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:lx='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:lx='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:lx='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:lx='Text Input Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:lx='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:lx='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:lx='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:lx='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:lx='Text Hyperlink Annotation';break;default:break;}gp=dA.getComments();for(K=0;K<gp.length;K++){dq=gp[K];acO+='<li>'+atn({text:dq.getText(),createDate:dq.nU.WK,pageNumber:bC+1})+'</li>';}return '<h3>'+lx+'</h3><ul>'+acO+'</ul>';};function atn(dq){var gA=new Date(dq.createDate),Te='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',gA.getMonth()+1).replace('{{day}}',gA.getDate()).replace('{{year}}',gA.getFullYear()).replace('{{hour}}',(gA.getHours()<10?'0':'')+gA.getHours()).replace('{{minutes}}',(gA.getMinutes()<10?'0':'')+gA.getMinutes()).replace('{{period}}',gA.getHours()<12?'am':'pm');var bo=dq.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bo).replace('{{date}}',Te);};function abJ(){var gA=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',gA.getMonth()+1).replace('{{day}}',gA.getDate()).replace('{{year}}',gA.getFullYear());};function ajO(fK,ml){fK=fK.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var aoi=(ml>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fK).replace('{{count}}',ml).replace('{{times}}',aoi);};function auL(){window.onerror=function(ev){Cv('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function aug(bC,KY){return function(next){kc(bC,KY,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var aW= +options.pages[i]-1;funcs.push(aug(aW,i));}sync(funcs,function(){var nL,MO='',aW,Di='',Bu='',dA,O,acj='<h1>Comments</h1><hr>{{pageSections}}',nS,FU='',azF='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(aW in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(aW)){if(!nL){nL=document.createElement('div');nL.className+=' commentPage';nL.id='printpage_comments';if(options.margins==='none'){nL.className+=' nomargins';}}MO='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';Bu='';for(var K=0;K<options.pagedConversations[aW].length;K++){dA=options.pagedConversations[aW][K];O=dA.getMark();Bu+=amH(dA,O.pageNumber);}Di+=MO.replace('{{pageNumber}}',O.pageNumber).replace('{{conversationList}}',Bu);if(Bu.length){nL.innerHTML=acj.replace('{{pageSections}}',Di);domElement.appendChild(nL);}}}}if(options.includeReasons==='documentEnd'){Di='';acj='';MO='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(aW in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(aW)){if(!nS){nS=document.createElement('div');nS.className+='reasonPage';nS.id='printpage_reason';if(options.margins==='none'){nS.className+=' nomargins';}}FU='';for(var fK in options.pagedReasons[aW]){if(options.pagedReasons[aW].hasOwnProperty(fK)){FU+=ajO(fK,options.pagedReasons[aW][fK]);}}Di+=MO.replace('{{pageNumber}}',aW).replace('{{reasonList}}',FU).replace('{{date}}',abJ()).replace('{{count}}',options.pagedRedactionCount[aW]);}}if(Di.length){nS.innerHTML=azF.replace('{{pageSections}}',Di);domElement.appendChild(nS);}}Cv('done');});};function aty(){window['extra']=function(bool,Hb){options.encryption= ! !bool;options.pagedConversations=Hb.Md;options.pagedReasons=Hb.zG;options.pagedRedactionCount=Hb.FJ;auL();window['extra']=function(){};};Cv('extra');};function atS(){var bH;IPCC.aN.forEach(aap,function(bb){bH=bb.get_artPage();if(bH){bH.removeAllMarks();}bb.dispose();bH=undefined;});};window['destroy']=atS;aty();};}(PCCViewer));(function(PCCViewer){function acK(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function TU(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new TU(this.x,this.y);};};function Zg(bq){return(bq&&bq.nodeType===1);};function Om(gG,Kb){var ZW=(Kb&&IPCC.aN.DI)?'m':'M';var ZA=(Kb&&IPCC.aN.DI)?'l':'L';return IPCC.aN.map(gG,function(el,i){if(i===0){return ZW+el.x+','+el.y;}else{return ZA+el.x+','+el.y;}}).join('');};function amL(dH,op,fC){return function(bL){if(IPCC.aN.Dr&&bL.type.match('mouse')){bL.preventDefault();bL.stopPropagation();return false;}if(bL.preventDefault){bL.preventDefault();}else{bL.returnValue=false;}var x,y;if(bL.changedTouches){var iR=bL.changedTouches[0];if(bL.type==='touchstart'){op=bL.target.getBoundingClientRect();}else if(bL.type==='touchend'){fC&&fC();return;}x=iR.clientX-op.left;y=iR.clientY-op.top;}else{x=bL.clientX-op.left;y=bL.clientY-op.top;}var ba=new TU(x,y);dH.gG.push(ba);var si=Om(dH.gG);if(IPCC.aN.DI){dH.cV.path=si.toLowerCase();}else{dH.cV.setAttribute('d',si);}fC&&fC();};};function aun(points){var zC=3,cW='',uq;var sQ=(points.length<zC)?points:IPCC.aN.filter(points,function(el){if(uq&&uq.close(el)){return false;}else{uq=el;return true;}});if(sQ.length<zC){sQ=[points[0],points[points.length-1]];}uq=undefined;if(sQ.length<zC){cW+=Om(sQ);}else{cW='M'+IPCC.aN.bspline(sQ);cW=cW.replace(/\d*\.?\d*/g,function(dI){var Ky=dI.indexOf('.');if(dI.length&&Ky>0){return dI.substr(0,Ky+3);}else if(dI!==""){return dI;}else{return dI;}});}return cW;};function SignatureControl(dom){var G=this;if(typeof dom==='string'){this.bp=document.querySelector(dom);if(!(Zg(this.bp))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Zg(dom)){this.bp=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Is=[];this.op=new acK(this.bp.getBoundingClientRect());this.dW=IPCC.aN.xN.SVG([0,0,this.op.width,this.op.height].join(' '));this.bp.appendChild(this.dW);function CY(ev){var cV=IPCC.aN.xN.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});G.dW.appendChild(cV);var dH={gG:[],cV:cV,fC:function(){G.Is.push(dH.gG);IPCC.aN.removeEvent(G.bp,'mousemove',Cu);IPCC.aN.removeEvent(G.bp,'mouseup',Ba);if(IPCC.aN.Dr){IPCC.aN.removeEvent(G.bp,IPCC.aN.qt['move'],Cu);IPCC.aN.removeEvent(G.bp,IPCC.aN.qt['up'],Ba);}if(IPCC.aN.IB){IPCC.aN.removeEvent(G.bp,'touchmove',Cu);IPCC.aN.removeEvent(G.bp,'touchend',Ba);}}};var Cu=amL(dH,G.op);var Ba=amL(dH,G.op,dH.fC);Cu(ev);IPCC.aN.addEvent(G.bp,'mousemove',Cu);IPCC.aN.addEvent(G.bp,'mouseup',Ba);if(IPCC.aN.Dr){IPCC.aN.addEvent(G.bp,IPCC.aN.qt['move'],Cu);IPCC.aN.addEvent(G.bp,IPCC.aN.qt['up'],Ba);}if(IPCC.aN.IB){IPCC.aN.addEvent(G.bp,'touchmove',Cu);IPCC.aN.addEvent(G.bp,'touchend',Ba);}};IPCC.aN.addEvent(G.bp,'mousedown',CY);if(IPCC.aN.Dr){this.bp.style['-ms-touch-action']='none';this.bp.style['touch-action']='none';IPCC.aN.addEvent(G.bp,IPCC.aN.qt['down'],CY);}if(IPCC.aN.IB){IPCC.aN.addEvent(G.bp,'touchstart',CY);}this.Vk=function(){G.op=new acK(G.bp.getBoundingClientRect());G.dW.setAttribute('viewBox',[0,0,G.op.width,G.op.height].join(' '));};IPCC.aN.addEvent(window,'resize',this.Vk);this.afh=function(){IPCC.aN.removeEvent(window,'resize',G.Vk);IPCC.aN.removeEvent(G.bp,'mousedown',CY);if(IPCC.aN.Dr){IPCC.aN.removeEvent(G.bp,IPCC.aN.qt['down'],CY);}if(IPCC.aN.IB){IPCC.aN.removeEvent(G.bp,'touchstart',CY);}while(G.bp.firstChild){G.bp.removeChild(G.bp.firstChild);}};};SignatureControl.prototype.done=function(){var mh,nj,pj,oW,si='M0,0',abn=this;IPCC.aN.forEach(abn.Is,function(qf){IPCC.aN.forEach(qf,function(p){if(mh===undefined||mh>p.x){mh=p.x;}if(nj===undefined||nj>p.y){nj=p.y;}if(pj===undefined||pj<p.x){pj=p.x;}if(oW===undefined||oW<p.y){oW=p.y;}});});IPCC.aN.forEach(abn.Is,function(qf){var aBK=IPCC.aN.map(qf,function(p){return new TU(p.x-mh,p.y-nj);});si+=aun(aBK);});this.afh();return{type:'path',path:si,width:(pj-mh)||0,height:(oW-nj)||0};};SignatureControl.prototype.resize=function(){this.Vk();return this;};SignatureControl.prototype.clear=function(){var svg=this.dW;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Is=[];return this;};SignatureControl.prototype.undo=function(){if(this.dW.lastChild){this.dW.removeChild(this.dW.lastChild);}this.Is.pop();return this;};SignatureControl.prototype.cancel=function(){this.afh();return this;};PCCViewer.SignatureControl=function(dom){return new SignatureControl(dom);};PCCViewer.Signatures=new PCCViewer.ObservableCollection();PCCViewer.SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var so=IPCC.aN.VP(signature.path);var dW=IPCC.aN.xN.SVG([0,0,so.width,so.height].join(' '));var cV=IPCC.aN.xN.Path(signature.path,{width:so.width,height:so.height,color:'black',thickness:4});if(IPCC.aN.DI){var aCy=(so.height/so.width)*100;dW.style.width=cV.style.width='100%';dW.style.height=cV.style.height='0px';dW.style.paddingBottom=cV.style.paddingBottom=aCy+'%';}else{dW.style.width='100%';dW.style.maxHeight='100%';dW.setAttribute('preserveAspectRatio','xMinYMin meet');}dW.appendChild(cV);domElement.appendChild(dW);return{width:so.width,height:so.height,clear:function(){domElement.removeChild(dW);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var jh=document.createElement('div');var uK=document.createTextNode(signature.text);var lo=(typeof signature.fontName==='string')?signature.fontName:'serif';jh.appendChild(uK);jh.style.textAlign='center';jh.style.fontFamily='"'+lo+'", cursive';jh.style.fontSize='2.5em';jh.style.overflow='hidden';domElement.appendChild(jh);var so=IPCC.aN.uY(signature.text,lo);return{width:so.width,height:so.height,clear:function(){domElement.removeChild(jh);}};};if(!Zg(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aCU(){return conversation;};if(typeof comment==='string'){this.nU=new IPCC.Web.UI.Comment(comment);}else{this.nU=comment;}this.nU.JV=this;this.bY=this.nU.get_data();PCCViewer.Data.extend(this);this.Gz=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};PCCViewer.Comment.prototype.getMarkupLayer=function aDo(){return this.ie;};PCCViewer.Comment.prototype.getText=function aEc(){return this.nU.get_text();};PCCViewer.Comment.prototype.setText=function aDk(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.nU.set_text(text);return this;};PCCViewer.Comment.prototype.getCreationTime=function aDe(){var aqy=IPCC.aN.IL(this.nU.get_creationTime());return new Date(aqy);};PCCViewer.Comment.prototype.setCreationTime=function aEb(time){function ahD(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var aiX=IPCC.aN.IL(time);if(aiX instanceof Error){ahD();}time=new Date(aiX);}if(!(time instanceof Date)){ahD();}this.nU.set_creationTime(IPCC.aN.yC(time));return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}PCCViewer.Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Ou(){return mark;};this.kl=new PCCViewer.ObservableCollection();if(typeof mark.h!=="undefined"){this.yv=mark.h.get_conversation();this.yv.forEach(function(nU){var dq=new PCCViewer.Comment(nU,this);this.kl.add(dq);},this);}else{this.yv=new IPCC.Web.UI.Conversation();}this.bY=this.yv.get_data();PCCViewer.Data.extend(this);this.Gz=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};PCCViewer.Conversation.prototype.addComment=function LY(commentText){var dq=new PCCViewer.Comment(commentText,this);this.kl.add(dq);this.yv.addComment(dq.nU);return dq;};PCCViewer.Conversation.prototype.deleteComments=function(comments){var G=this;var aee=this.kl.toArray();var aiu=function(dq){for(var i=0,length=aee.length;i<length;i++){if(aee[i]===dq){return true;}}return false;};function agf(dq,cO){throw new Error(dq+((cO!==undefined)?' (Array index '+cO+')':'')+' is not a PCCViewer.Comment object.');};function agG(dq,cO){throw new Error(((cO!==undefined)?' (Array index '+cO+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!aiu(comments)){agG(comments);}G.kl.remove(comments);G.yv.removeCommentInstance(comments.nU);}else if(comments instanceof Array){IPCC.aN.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){agf(el,idx);}if(!aiu(el)){agG(el,idx);}});IPCC.aN.forEach(comments,function(el){G.kl.remove(el);G.yv.removeCommentInstance(el.nU);});}else{agf(comments);}return this;};PCCViewer.Conversation.prototype.getComments=function(){return this.kl.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};PCCViewer.Conversation.te=function(hE,oY){if(typeof hE.getComments!=="function"||typeof oY.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.qQ(hE,oY);var gp=hE.getComments(),i,length=gp.length;for(i=0;i<length;i++){var alf=gp[i];var aqz=oY.addComment(alf.getText());PCCViewer.Data.qQ(alf,aqz);}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ImageStamps=function(Options){this.bn=PCCViewer.BV.ub({},Options);};PCCViewer.ImageStamps.prototype.requestImageStampList=function(){var bk=PCCViewer.Deferred();var dp=bk.getPromise();try{var dh=this.bn.imageHandlerUrl+'/ImageStampList';var dR;var Yv=function(){var tC;if(typeof dR.responseText!=='unknown'&&dR.responseText.length>0){try{tC=JSON.parse(dR.responseText);}catch(e){}if(dR.readyState===4){if(dR.status===200){bk.resolve(tC);}else{bk.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}}};dR=new XMLHttpRequest();if(dR===null){bk.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}dR.open("GET",dh,true);dR.onreadystatechange=Yv;dR.send();}catch(e){bk.reject(new PCCViewer.Error("Error",e.message));}return dp;};PCCViewer.ImageStamps.prototype.reqestImageSourceBase64=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var bk=PCCViewer.Deferred();var dp=bk.getPromise();try{var dh=this.bn.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Base64';var dR;var asp=function(){var tC;if(typeof dR.responseText!=='unknown'&&dR.responseText.length>0){try{tC=JSON.parse(dR.responseText);}catch(e){}if(dR.readyState===4){if(dR.status===200){bk.resolve(tC);}else{bk.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}}};dR=new XMLHttpRequest();if(dR===null){bk.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}dR.open("GET",dh,true);dR.onreadystatechange=asp;dR.send();}catch(e){bk.reject(new PCCViewer.Error("Error",e.message));}return dp;};PCCViewer.ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bn.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};})(PCCViewer||{});(function(undefined){PCCViewer.DocumentHyperlink=function DocumentHyperlink(parameters){this.BO=parameters.BO;this.bC=parameters.bC;};PCCViewer.DocumentHyperlink.prototype.getHref=function(){return this.BO.adt();};PCCViewer.DocumentHyperlink.prototype.getPageNumber=function(){return this.bC;};PCCViewer.DocumentHyperlink.prototype.getRectangle=function(){return this.BO.eg();};if(Object.defineProperties){Object.defineProperties(PCCViewer.DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}PCCViewer.ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var bC;var bk=PCCViewer.Deferred();var dp=bk.getPromise();var dK=this;try{if(typeof(pageNumber)==='number'){bC=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bC=parseInt(pageNumber,10);}}if(bC<1||bC>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var aaK=this.Ks[bC-1];if(!aaK){aaK=this.Ks[bC-1]=new PCCViewer.Deferred();this.Dp.then(function(){var aW=dK.cl.getPage(bC-1);aW.Bj();});}bk.resolve(aaK.getPromise());}catch(e){bk.reject(new PCCViewer.Error('Error',e));}return dp;};PCCViewer.ViewerControl.prototype.aqi=function(aBF){var i,j,zl;for(j=0;j<this.ZX.length;j++){zl=this.ZX[j];if(zl){for(i=0;i<zl.length;i++){if(zl[i].BO.QW()===aBF){return zl[i];}}}}return null;};})();var PCCViewer=window.PCCViewer||{};PCCViewer.Search=function(){this.VF=[];this.cS={};this.fq=[];this.cO=0;this.sj='';this.gd={};this.EE=[];this.LN=0;this.fe={};this.abv=0;this.gW=false;var G=this;this.ard=function(adm,aR){var K=0;var alH=function(sender,C){if(C.error=== -1){G.aAM();return;}try{if(G.gW===false){G.ayu(C.textPagesReceived,C.error,aR);}}catch(e){G.cS.bZ=e.message;G.cS.hQ="1010";G.cS.xq=true;setTimeout(function(){G.cS.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){G.cS.trigger("SearchCompleted",{completedSearchResults:(G.fq)});},10);G.gW=true;return;}};try{if(adm===false){aR.add_textPagesReceived(alH);}G.fe=this.buildSearchObject();for(K;K<aR.eQ;K++){G.VF[K]=false;}if(adm){this.ayh(aR);}}catch(e){G.cS.bZ=e.message;G.cS.hQ="1010";G.cS.xq=true;setTimeout(function(){G.cS.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){G.cS.trigger("SearchCompleted",{completedSearchResults:(G.fq)});},10);return;}};this.aAM=function(){G.cS.bZ="Unable to communicate with server, please retry loading the document.";G.cS.hQ="1011";G.cS.xq=true;setTimeout(function(){G.cS.trigger("SearchFailed",{errorMessage:("Unable to communicate with server, please retry loading the document.")});},10);setTimeout(function(){G.cS.trigger("SearchCompleted",{completedSearchResults:(G.fq)});},10);G.gW=true;};this.ayh=function(aR){var K=0;for(K=0;K<aR.eQ;K++){var bo=this.akE(aR,K);if(!bo&&bo!==null){G.EE[G.LN]=K;G.LN++;continue;}this.ana(bo,K,aR);if(G.cS.qU){break;}}G.cS.gH=G.fq;G.cS.xq=true;G.cS.Uk=G.EE;setTimeout(function(){G.cS.trigger("SearchResultsAvailable",{completedSearchResults:(G.fq)});},10);setTimeout(function(){G.cS.trigger("SearchCompleted",{completedSearchResults:(G.fq)});},10);};this.ayu=function(BG,Fs,aR){var K=0;for(K=0;K<BG.length;K++){if(G.VF[BG[K]]===false){G.VF[BG[K]]=true;var bo=this.akE(aR,BG[K]);if(!bo&&bo!==null){G.EE[G.LN]=BG[K];G.LN++;continue;}this.ana(bo,BG[K],aR);if(G.cS.qU){break;}}}if(((aR.eQ-1)===BG[K-1]||G.cS.qU)&& !G.cS.xq){G.cS.gH=G.fq;G.cS.Uk=G.EE;G.cS.xq=true;setTimeout(function(){G.cS.trigger("SearchResultsAvailable",{completedSearchResults:(G.fq)});},10);setTimeout(function(){G.cS.trigger("SearchCompleted",{completedSearchResults:(G.fq)});},10);}};this.buildSearchObject=function(){var aaX=[];var Lf=0;for(var K=0;K<G.gd.searchTerms.length;K++){var fe={};if(G.gd.searchTerms[K].matchingOptions.exactPhrase===false&&G.gd.searchTerms[K].searchTermIsRegex===false){var zu=G.gd.searchTerms[K].searchTerm.split(' ');for(var aK=0;aK<zu.length;aK++){fe={};if(zu[aK].length<0){continue;}fe.searchText=zu[aK];fe.LX=G.gd.searchTerms[K];if(G.gd.searchTerms[K].matchingOptions.matchWholeWord){fe.searchTerm=this.aip(this.Ey(zu[aK]),G.gd.searchTerms[K].matchingOptions);}else{if(G.gd.searchTerms[K].matchingOptions.wildcard===true){fe.searchTerm=this.adJ(this.Ey(zu[aK]),G.gd.searchTerms[K].matchingOptions);}else if(G.gd.searchTerms[K].matchingOptions.beginsWith===true||G.gd.searchTerms[K].matchingOptions.endsWith===true){fe.searchTerm=this.acE(this.Ey(zu[aK]),G.gd.searchTerms[K].matchingOptions);}else{fe.searchTerm=this.aat(zu[aK],G.gd.searchTerms[K].matchingOptions,false);}}fe.highlightColor=this.akz(G.gd.searchTerms[K].highlightColor);aaX[Lf]=fe;Lf++;}}else{fe={};fe.searchText=G.gd.searchTerms[K].searchTerm;fe.LX=G.gd.searchTerms[K];if(G.gd.searchTerms[K].matchingOptions.matchWholeWord){fe.searchTerm=this.aip(this.Ey(G.gd.searchTerms[K].searchTerm),G.gd.searchTerms[K].matchingOptions);}else{if(G.gd.searchTerms[K].matchingOptions.wildcard===true){fe.searchTerm=this.adJ(this.Ey(G.gd.searchTerms[K].searchTerm),G.gd.searchTerms[K].matchingOptions);}else if(G.gd.searchTerms[K].matchingOptions.beginsWith===true||G.gd.searchTerms[K].matchingOptions.endsWith===true){fe.searchTerm=this.acE(this.Ey(G.gd.searchTerms[K].searchTerm),G.gd.searchTerms[K].matchingOptions);}else{fe.searchTerm=this.aat(G.gd.searchTerms[K].searchTerm,G.gd.searchTerms[K].matchingOptions,G.gd.searchTerms[K].searchTermIsRegex);}}fe.highlightColor=this.akz(G.gd.searchTerms[K].highlightColor);aaX[Lf]=fe;Lf++;}}return aaX;};this.ana=function(Vr,aM,aR){var aiB=false;var ais=[];var agT=0;var d=new Date();var zH=d.getTime();var aW=aR.dj.kc(aM);var iC=aW.cf();var fB=iC.fE();for(var K=0;K<G.fe.length;K++){var Jr=G.fe[K].searchTerm;var ec=Jr.exec(Vr);var hC=G.fe[K];var Wb=hC.LX.contextPadding;while(ec!==null){var dH=this.abD(Vr,ec,Wb);G.fq[G.cO]=new PCCViewer.SearchResult();G.fq[G.cO].bX=G.cO;G.fq[G.cO].bC=aM+1;G.fq[G.cO].dH=dH.acJ;G.fq[G.cO].bo=ec[0];G.fq[G.cO].zI=dH.bK;G.fq[G.cO].us=G.fe[K].highlightColor;G.fq[G.cO].XI=ec.index;G.fq[G.cO].sj=G.fe[K].LX;G.fq[G.cO].Pb=aR.get_documentIdentifier();G.fq[G.cO].zH=zH;var gs=Number.MAX_VALUE,ho=0,_top=Number.MAX_VALUE,hM=0;var dk=ec.index+ec[0].length;for(var aK=ec.index;aK<dk-1;aK++){var dZ=fB.kK(aK);if(dZ.aa.x<gs){gs=dZ.aa.x;}if(dZ.aa.x+dZ.aa.width>ho){ho=dZ.aa.x+dZ.aa.width;}if(dZ.aa.y<_top){_top=dZ.aa.y;}if(dZ.aa.y+dZ.aa.height>hM){hM=dZ.aa.y+dZ.aa.height;}}G.fq[G.cO].rm={width:ho-gs,height:hM-_top,x:gs,y:_top};ais[agT]=G.fq[G.cO];G.cS.gH=G.fq;ec=Jr.exec(Vr);G.cO++;agT++;aiB=true;}}if(aiB){setTimeout(function(){G.cS.trigger("PartialSearchResultsAvailable",{partialSearchResults:(ais),pagesWithoutText:(G.EE)});},10);}};this.abD=function(bo,ec,Kq){Kq=Kq||0;var azO=ec[0],cL=azO.length,amy=Math.max(ec.index-Kq,0),azS=ec.index+cL,aqQ=Math.min(azS+Kq,bo.length);return{bK:(amy===0)?ec.index:Kq,acJ:bo.substring(amy,aqQ)};};this.akE=function(aR,aM){var aW=aR.dj.kc(aM);var iC=aW.cf();var bo=iC.FO();return bo;};this.aip=function(tf,re){var vp=new RegExp('\\b'+tf+'\\b',this.vm(re.matchCase));return vp;};this.acE=function(tf,re){if(re.beginsWith){return new RegExp("\\b"+tf+'(\\w+)',this.vm(re.matchCase));}if(re.endsWith){tf=tf.replace("*","");return new RegExp('(\\w+)'+tf+"\\b",this.vm(re.matchCase));}};this.Ey=function(tf){return tf.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.adJ=function(wZ,re){wZ=wZ.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(wZ==='\\*'){var cE=new Error("The search term must contain one or more non-wildcard characters.");cE.aCr=true;throw cE;}wZ=wZ.replace(/\\\?/g,'.');var gw=this.Pw(wZ);var Zj,Tp,vp,Zq;var IO=wZ.substring(0,1);for(var K=0;K<gw.length;++K){if(K>0){Zj=gw.substring(K-1,K);}IO=gw.substring(K,K+1);if(K<gw.length){Tp=gw.substring(K+1,K+2);}if(K===0){if(IO==='*'&&Tp===" "||IO==='*'&&Tp==="*"){gw=gw.substring(2,gw.length);}}if(K+1===gw.length){if(IO==='*'&&Zj===" "||IO==='*'&&Zj==="*"){gw=gw.substring(0,gw.length-2);}}}gw=gw.replace(/^\s+|\s+$/g,'');var ahc=gw.indexOf('*');if(ahc===1){gw=gw.replace(/\\\*/g,'\\S*')+'\\S*';}else if(ahc===gw.length-1){gw='\\S*'+gw.replace(/\\\*/g,'\\S*');}else{if(re.exactPhrase===false){gw=gw.replace(/\\\*/g,'.*?');}else{gw=gw.replace(/\\\*/g,'\\S*');}}vp=new RegExp(gw,this.vm(re.matchCase));if(gw.substring(0,1)!=='*'&&Zq!=='*'){vp=new RegExp('\\b'+gw+'\\b',this.vm(re.matchCase));}if(gw.substring(0,1)==='*'&&Zq!=='*'){vp=new RegExp(gw+'\\b',this.vm(re.matchCase));}if(gw.substring(0,1)!=='*'&&Zq==='*'){vp=new RegExp('\\b'+gw,this.vm(re.matchCase));}return vp;};this.Pw=function(tf){return tf.replace(/\ /g,'\\s+');};this.aat=function(MZ,matchingOptions,isRegex){var wD='';if(isRegex===true){wD=this.Pw(MZ);}else if(matchingOptions.wildcard===true){wD=MZ.replace(/[-[\]{}()+,^$|#]/g,"\\$&");wD=this.Pw(wD);}else if(matchingOptions.exactPhrase){wD=MZ.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");wD=this.Pw(wD);}else{wD=MZ.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}return new RegExp(wD,this.vm(matchingOptions.matchCase));};this.vm=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aCW=function(wZ){var vp=new RegExp('\\b'+wZ+'\\b',G.vm());return vp;};var aka=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.akz=function(eK){if(!eK){return aka[G.abv++ %aka.length];}else{return eK;}};this.apX=function(bo){try{this.awj(bo);}catch(e){G.cS.bZ=e.message;G.cS.hQ="1010";return;}};this.awj=function(bo){var d=new Date();var zH=d.getTime();for(var K=0;K<G.fe.length;K++){var Jr=G.fe[K].searchTerm;var ec=Jr.exec(bo);var hC=G.fe[K];var Wb=hC.LX.contextPadding;while(ec!==null){var dH=this.abD(bo,ec,Wb);G.fq[G.cO]=new PCCViewer.SearchTaskResult();G.fq[G.cO].bX=G.cO;G.fq[G.cO].dH=dH.acJ;G.fq[G.cO].bo=ec[0];G.fq[G.cO].zI=dH.bK;G.fq[G.cO].us=G.fe[K].highlightColor;G.fq[G.cO].Vn=ec.index;G.fq[G.cO].sj=G.fe[K].LX;G.fq[G.cO].zH=zH;G.cS.gH=G.fq;ec=Jr.exec(bo);G.cO++;}}};this.agj=function(hC){var searchTermObj;if(typeof hC==='string'){hC={searchTerms:[{searchTerm:hC,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return hC;}for(var i=0;i<hC.searchTerms.length;i++){searchTermObj=hC.searchTerms[i];if(typeof searchTermObj.contextPadding==="undefined"){searchTermObj.contextPadding=25;}if(typeof searchTermObj.searchTermIsRegex==="undefined"){searchTermObj.searchTermIsRegex=false;}if(typeof searchTermObj.matchingOptions==="undefined"){searchTermObj.matchingOptions={};}if(!searchTermObj.matchingOptions.hasOwnProperty('matchCase')){searchTermObj.matchingOptions.matchCase=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('exactPhrase')){searchTermObj.matchingOptions.exactPhrase=true;}if(!searchTermObj.matchingOptions.hasOwnProperty('matchWholeWord')){searchTermObj.matchingOptions.matchWholeWord=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('beginsWith')){searchTermObj.matchingOptions.beginsWith=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('endsWith')){searchTermObj.matchingOptions.endsWith=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('wildcard')){searchTermObj.matchingOptions.wildcard=false;}if(typeof searchTermObj.highlightColor!=='undefined'){try{IPCC.aJ.eK(searchTermObj.highlightColor,"selectText");}catch(e){searchTermObj.highlightColor=undefined;}}}return hC;};};PCCViewer.Search.prototype._search=function(searchQuery,QN,aR){this.fe={};this.cS=new PCCViewer.SearchRequest();this.gd=searchQuery;this.fq.length=0;this.cS.hC=searchQuery;this.EE.length=0;this.LN=0;this.cO=0;this.sj=searchQuery;this.abv=0;this.ard(QN,aR);return this.cS;};PCCViewer.Search.prototype.axP=function(searchQuery){this.fe={};this.cS=new PCCViewer.SearchRequest();this.gd=searchQuery;this.fq.length=0;this.cS.hC=searchQuery;this.cO=0;this.sj=searchQuery;this.abv=0;return this.cS;};PCCViewer.SearchTask=function(searchQuery){this.agt(searchQuery);var _search=new PCCViewer.Search();searchQuery=_search.agj(searchQuery);this.cS=_search.axP(searchQuery);try{_search.fe=_search.buildSearchObject();}catch(e){if(e.aCr){throw new Error(e.message);}else{throw new Error(e.message);}}this.search=function(text){_search.fq=[];_search.cO=0;_search.apX(text);return _search.fq;};};PCCViewer.SearchTask.prototype.agt=function(searchQuery){if(typeof searchQuery==='string'){return;}var adw;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){adw=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.aN.forEach(adw,function(aoc,K){if(typeof aoc.searchTerm!=='string'){throw new Error("Search term index "+K+" does not have a valid `searchTerm` string property.");}});};var PCCViewer=window.PCCViewer||{};PCCViewer.SearchResult=function(){this.bX=0;this.bC=0;this.bK=0;this.bo='';this.us='';this.XI=0;this.dH='';this.zI=0;this.sj='';this.Pb='';this.rm=null;};PCCViewer.SearchResult.prototype.getId=function(){return this.bX;};PCCViewer.SearchResult.prototype.getPageNumber=function(){return this.bC;};PCCViewer.SearchResult.prototype.getText=function(){return this.bo;};PCCViewer.SearchResult.prototype.getHighlightColor=function(){return this.us;};PCCViewer.SearchResult.prototype.getStartIndexInPage=function(){return this.XI;};PCCViewer.SearchResult.prototype.getContext=function(){return this.dH;};PCCViewer.SearchResult.prototype.getStartIndexInContext=function(){return this.zI;};PCCViewer.SearchResult.prototype.getSearchTerm=function(){return this.sj;};PCCViewer.SearchResult.prototype.getBoundingRectangle=function(){return this.rm;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.bC;}},"id":{enumerable:true,get:function(){return this.bX;}},"text":{enumerable:true,get:function(){return this.bo;}},"highlightColor":{enumerable:true,get:function(){return this.us;}},"startIndexInPage":{enumerable:true,get:function(){return this.XI;}},"context":{enumerable:true,get:function(){return this.dH;}},"startIndexInContext":{enumerable:true,get:function(){return this.zI;}},"searchTerm":{enumerable:true,get:function(){return this.sj;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}PCCViewer.SearchTaskResult=function(){this.bX=0;this.bK=0;this.bo='';this.us='';this.Vn=0;this.dH='';this.zI=0;this.sj='';};PCCViewer.SearchTaskResult.prototype.getId=function(){return this.bX;};PCCViewer.SearchTaskResult.prototype.getText=function(){return this.bo;};PCCViewer.SearchTaskResult.prototype.getHighlightColor=function(){return this.us;};PCCViewer.SearchTaskResult.prototype.getStartIndexInInput=function(){return this.Vn;};PCCViewer.SearchTaskResult.prototype.getContext=function(){return this.dH;};PCCViewer.SearchTaskResult.prototype.getStartIndexInContext=function(){return this.zI;};PCCViewer.SearchTaskResult.prototype.getSearchTerm=function(){return this.sj;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.bX;}},"text":{enumerable:true,get:function(){return this.bo;}},"highlightColor":{enumerable:true,get:function(){return this.us;}},"startIndexInInput":{enumerable:true,get:function(){return this.Vn;}},"context":{enumerable:true,get:function(){return this.dH;}},"startIndexInContext":{enumerable:true,get:function(){return this.zI;}},"searchTerm":{enumerable:true,get:function(){return this.sj;}}});}var PCCViewer=window.PCCViewer||{};PCCViewer.SearchRequest=function(){this.lc={};this.hC={};this.gH=[];this.xq=false;this.hQ=null;this.bZ=null;this.Uk=[];PCCViewer.EventEmitter.extend(this);};PCCViewer.SearchRequest.prototype.getSearchQuery=function(){return this.hC;};PCCViewer.SearchRequest.prototype.getResults=function(){return this.gH;};PCCViewer.SearchRequest.prototype.getIsComplete=function(){return this.xq;};PCCViewer.SearchRequest.prototype.getErrorCode=function(){return this.hQ;};PCCViewer.SearchRequest.prototype.getErrorMessage=function(){return this.bZ;};PCCViewer.SearchRequest.prototype.getPagesWithoutText=function(){return this.Uk;};PCCViewer.SearchRequest.prototype.cancel=function(){this.qU=true;this.trigger('SearchCancelled');};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchRequest.prototype,{"searchQuery":{enumerable:true,get:function(){return this.hC;}},"results":{enumerable:true,get:function(){return this.gH;}},"isComplete":{enumerable:true,get:function(){return this.xq;}},"errorCode":{enumerable:true,get:function(){return this.hQ;}},"errorMessage":{enumerable:true,get:function(){return this.bZ;}}});}(function(PCCViewer){PCCViewer.BurnRequest=function(bn){this.qd="";this.eE="";this.lC=0;this.qA="";this.hQ="";this.tJ=0;this.gx=false;this.vb=0;this.Ui="";this.qU=false;this.bk=PCCViewer.Deferred();this.dp=this.bk.getPromise();this.then=this.dp.then;this.bn=bn;this.hQ=null;this.fZ=undefined;this.uk=false;this.RD=null;PCCViewer.EventEmitter.extend(this);};PCCViewer.BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};PCCViewer.BurnRequest.prototype.cancel=function(){var G=this;this.qU=true;this.hQ="User Cancelled";setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});G.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});G.bk.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.BurnRequest.prototype.getProgress=function(){return this.lC;};PCCViewer.BurnRequest.prototype.getWorkerID=function(){return this.qd;};PCCViewer.BurnRequest.prototype.getOptions=function(){return this.bn;};PCCViewer.BurnRequest.prototype.getErrorCode=function(){return this.hQ;};PCCViewer.BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.RD;};PCCViewer.BurnRequest.prototype.aob=function(nv){this.Ui=nv;};PCCViewer.BurnRequest.prototype.VB=function(fZ){this.fZ=fZ;};PCCViewer.BurnRequest.prototype.aoS=function(){var G=this;this.hQ="Failure to generate Markup XML";setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});G.bk.reject(new PCCViewer.Error("MarkupXMLFail",G.hQ));},0);return this;};PCCViewer.BurnRequest.prototype.Jd=function(){var dR=new XMLHttpRequest();try{if(!this.Ui){throw new Error("XMl Markup data for burn is missing");}if(dR===null){throw new Error("AJAX (XMLHTTP) not supported.");}var G=this;var aks=function(){var WQ;if(!(/^[\x00-\x7F]*$/.test(G.fZ.aR.get_documentIdentifier()))){WQ=G.fZ.bn.imageHandlerUrl+'/ViewingSession/e'+G.fZ.bn.documentID+'/MarkupBurner/'+G.qd;}else{WQ=G.fZ.bn.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(G.fZ.bn.documentID)+'/MarkupBurner/'+G.qd;}dR.open("GET",WQ,true);dR.setRequestHeader('Content-Type','application/json');dR.onreadystatechange=ajn;dR.send();};var axV=function(he){if(he){if(G.qU===true){G.gx=false;return;}if(he.percentComplete>=0&&G.gx===true){if(he.percentComplete===100&&he.state==='complete'){if(he.processId){G.gx=false;G.qd=he.processId;G.eE=he.state;G.tJ+=1;G.vb=1000;G.lC= +(he.percentComplete);var Hk;if(!(/^[\x00-\x7F]*$/.test(G.fZ.aR.get_documentIdentifier()))){Hk=G.fZ.bn.imageHandlerUrl+'/ViewingSession/e'+G.fZ.bn.documentID+'/MarkupBurner/'+G.qd+"/Document";}else{Hk=G.fZ.bn.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(G.fZ.bn.documentID)+'/MarkupBurner/'+G.qd+"/Document";}if(G.bn.filename){Hk+="?ContentDispositionFilename="+G.bn.filename;}G.RD=Hk;G.uk=true;var axY= +(he.percentComplete);setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});G.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:axY});G.bk.resolve(Hk);},10);return;}}else{if(he.state==='error'){G.gx=false;G.hQ=he.errorCode;setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});G.bk.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+G.hQ));},0);G.gx=false;G.uk=true;return;}if(he.processId){var abS= +(he.percentComplete);if(G.lC!==abS){setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:abS});},10);}if(!G.qd){G.qd=he.processId;setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);G.eE=he.state;G.tJ=1;G.gx=true;G.vb=1000;G.lC= +(he.percentComplete);}if(he.percentComplete<100){if(G.tJ>1){G.vb+=1000;}G.tJ+=1;G.eE=he.state;G.lC= +(he.percentComplete);if(G.gx===true&&G.qU===false&&G.uk===false){setTimeout(aks,G.vb);}}}}}else{if(G.uk===false){var Qy=false;if(G.gx===false){if(he.state==='complete'){if(!G.RD){Qy=true;}else{G.uk=true;setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});G.bk.resolve(G.RD);},10);return;}}if(he.state==='processing'&&he.errorCode===null){if(he.percentComplete>=0&&he.percentComplete<100){if(G.tJ>1){G.vb+=1000;}G.tJ+=1;G.gx=true;G.eE=he.state;G.lC= +(he.percentComplete);if(G.gx===true&&G.qU===false){setTimeout(aks,G.vb);}}else{Qy=true;}}if(he.state==='error'||Qy===true){G.gx=false;G.hQ=he.errorCode;setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});G.bk.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+he.errorCode));},0);G.gx=false;G.uk=true;return;}}}}}};var ajn=function(){var fT,aG;if(dR.readyState===4){if(dR.status===200){try{fT=dR.responseText;if(!fT){setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});G.bk.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);G.uk=true;return;}else{if(typeof JSON!=='undefined'){aG=JSON.parse(fT);}else{aG=IPCC.cT.pa(fT);}setTimeout(function(){axV(aG);},0);}}catch(e){setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});G.bk.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);G.uk=true;return;}}else{G.gx=false;var aV=dR.status+" "+dR.statusText;setTimeout(function(){G.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});G.bk.reject(new PCCViewer.Error("StatusCode","Status Code "+aV));},0);G.uk=true;return;}}};var dh;if(!(/^[\x00-\x7F]*$/.test(G.fZ.aR.get_documentIdentifier()))){dh=G.fZ.bn.imageHandlerUrl+'/ViewingSession/e'+G.fZ.bn.documentID+'/MarkupBurner';}else{dh=G.fZ.bn.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(G.fZ.bn.documentID)+'/MarkupBurner';}dR.open("POST",dh,true);dR.setRequestHeader("Content-Type","application/xml");dR.onreadystatechange=ajn;G.gx=true;dR.send(G.Ui);}catch(e){this.gx=false;var bQ=this,hm=e.message;setTimeout(function(){bQ.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});bQ.bk.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+hm));},0);this.uk=true;}};if(Object.defineProperties){Object.defineProperties(PCCViewer.BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.ConversionRequest=function(bn){this.qd="";this.eE="";this.lC=0;this.hQ="";this.gx=false;this.qU=false;this.bn=bn;this.Nl=null;this.fZ=undefined;this.bk=PCCViewer.Deferred();this.dp=this.bk.getPromise();this.then=this.dp.then;PCCViewer.EventEmitter.extend(this);};PCCViewer.ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};PCCViewer.ConversionRequest.prototype.cancel=function(){var G=this;this.qU=true;this.hQ="User Cancelled";setTimeout(function(){G.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});G.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});G.bk.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.ConversionRequest.prototype.getProgress=function(){return this.lC;};PCCViewer.ConversionRequest.prototype.getWorkerID=function(){return this.qd;};PCCViewer.ConversionRequest.prototype.getOptions=function(){return this.bn;};PCCViewer.ConversionRequest.prototype.getErrorCode=function(){return this.hQ;};PCCViewer.ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.Nl;};PCCViewer.ConversionRequest.prototype.VB=function(fZ){this.fZ=fZ;};PCCViewer.ConversionRequest.prototype.Jd=function(){var G=this;G.gx=true;G.aAo().then(function onResolve(tF){G.qd=tF.processId;G.lC=tF.percentComplete;G.eE=tF.state;G.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});G.ayB(tF).then(function onResolve(apJ){G.gx=false;G.Nl=G.fZ.bn.imageHandlerUrl+'/WorkFile/'+apJ+"?ContentDispositionFilename="+G.bn.filename;if(tF.affinityToken){G.Nl+="&affinityToken="+encodeURIComponent(tF.affinityToken);}G.bk.resolve(G.Nl);G.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){G.gx=false;G.bk.reject(reason);G.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){G.gx=false;G.bk.reject(reason);G.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};PCCViewer.ConversionRequest.prototype.aAo=function(){var nB=PCCViewer.Deferred(),dh=this.fZ.bn.imageHandlerUrl+'/contentConverters/';IPCC.aN.GT({url:dh,method:'POST',headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:'json',body:{viewingSessionId:this.fZ.bn.documentID}}).then(function onResolve(jQ){var rV=JSON.parse(jQ);nB.resolve(rV);},function onReject(reason){nB.reject(reason);});return nB.getPromise();};PCCViewer.ConversionRequest.prototype.ayB=function(tF){var dh=this.fZ.bn.imageHandlerUrl+'/contentConverters/'+tF.processId,nB=PCCViewer.Deferred(),G=this;if(tF.affinityToken){var aBD={"Accusoft-Affinity-Token":tF.affinityToken};}(function poll(){setTimeout(function(){IPCC.aN.GT({url:dh,headers:aBD}).then(function onResolve(jQ){var rV=JSON.parse(jQ);G.qd=rV.processId;G.lC=rV.percentComplete;G.eE=rV.state;G.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:G.lC});if(rV.percentComplete===100){nB.resolve(rV.output.results[0].fileId);}else{poll();}},function onReject(reason){nB.reject(reason);});},3000);})();return nB.getPromise();};if(Object.defineProperties){Object.defineProperties(PCCViewer.ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}}});}})(PCCViewer||{});(function(PCCViewer){var Zf=function(){},jF={aeE:0,axx:1,avn:2};PCCViewer.ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.aN.wf(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var G=this;this.jF=jF.aeE;this.bn=viewerControl.bn;this._debug= ! !this.bn.debug;this.MP="Single";this.LH=[];this.rq={};if(!this.dK){this.dK=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.ax=domElement;if(viewerControl.qB){G.jF=jF.avn;G.WS(viewerControl.getPageCount());G.RC(G.ax);}else{G.jF=jF.axx;G.WS(1,0);viewerControl.on('PageCountReady',function(){G.WS(viewerControl.getPageCount(),1);G.RC(G.ax);});}viewerControl.on('PageRotated',function(bL){IPCC.aN.forEach(G.rq,function(bh){if(bh.aM===(bL.pageNumber-1)){if(bh.AI===true){G.Xe(bh);}}});});viewerControl.on('DocumentRotated',function(bL){IPCC.aN.forEach(G.rq,function(bh){if(bh.AI===true){G.Xe(bh);}});});};PCCViewer.ThumbnailControl.prototype.getViewerControl=function(){return this.dK;};PCCViewer.ThumbnailControl.prototype.WS=function(eQ,lb){lb=lb||0;var G=this,Kl=document.createDocumentFragment();for(var i=lb;i<eQ;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var cA=document.createElement('div');cA.className='pccThumbnail';var sx=document.createElement('div');sx.className='pccThumbnailView';sx.id='pcc-thumbnailPage-'+i+'-'+IPCC.CD();cA.appendChild(sx);_parent.appendChild(cA);Kl.appendChild(_parent);G.rq[i]={Zz:_parent,bp:cA,sx:sx,aM:i,bb:{},AI:false,kj:0,kb:0,ca:0};}IPCC.aN.forEach(G.rq,function(bh){var Yq=document.createElement('div'),wl=document.createElement('span'),azD=document.createTextNode(bh.aM+1);Yq.className='pccThumbnailLabel';wl.appendChild(azD);Yq.appendChild(wl);bh.bp.appendChild(Yq);bh.bp.onclick=function(){G.akP([bh.aM+1]);};});G.ax.appendChild(Kl);this.Yw();return this;};PCCViewer.ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};PCCViewer.ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.jF){return[];}return[].concat(this.LH);};PCCViewer.ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.jF){return this;}var eQ=this.dK.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.aN.forEach(pageNumbers,function(dX,K){if(isNaN(dX)){throw new Error(dX+' (array index '+K+') is not a number');}if(dX<1||dX>eQ){throw new Error(dX+' (array index '+K+') is out of range');}});this.akP([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}PCCViewer.ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var dX=Number(pageNumber);if(dX!==(dX|0)||dX<1||dX>this.dK.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var kn=false,G=this,bn=options||{};IPCC.aN.forEach(this.rq,function(bh){if(kn){return;}if(bh.aM+1===dX){kn=true;G.abe(bh,undefined,! !bn.forceAlignTop);}});return this;};PCCViewer.ThumbnailControl.prototype.abe=function(bh,nq,avj){nq=nq||IPCC.aN.UQ(this.ax.getBoundingClientRect());var vK=IPCC.aN.UQ(bh.Zz.getBoundingClientRect());if(vK.top>nq.top&&vK.bottom<nq.bottom){return;}var akF=window.getComputedStyle?getComputedStyle(bh.Zz):bh.Zz.currentStyle,iJ;if(vK.top<nq.top||avj){iJ=vK.top-nq.top+this.ax.scrollTop-parseInt(akF.marginTop,10);}else if(vK.bottom>nq.bottom){iJ=vK.bottom-nq.top-nq.height+this.ax.scrollTop+parseInt(akF.marginBottom,10);}if(iJ!==undefined){this.ax.scrollTop=iJ;}return this;};PCCViewer.ThumbnailControl.prototype.akP=function(jN){if(IPCC.aN.axc(this.LH,jN)){return this;}var Wg='pcc-thumbnail-selected',Ko=new RegExp(Wg),XJ=false,akN=[].concat(jN),akX=akN.shift(),acB=false,nq=IPCC.aN.UQ(this.ax.getBoundingClientRect()),G=this;IPCC.aN.forEach(this.rq,function(bh){if(bh.aM===akX-1){IPCC.aN.acp(bh.bp,Wg);XJ=true;akX=akN.shift()||0;if(!acB){acB=true;G.abe(bh,nq);}return;}if(Ko.test(bh.bp.className)){IPCC.aN.ajN(bh.bp,Wg);XJ=true;}});this.LH=jN;if(XJ){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.LH)});}return this;};PCCViewer.ThumbnailControl.prototype.arM=function(){var gI=this.Ll(),G=this,Aw;IPCC.aN.forEach(gI,function(bh){if(!Aw&&IPCC.aN.inArray(G.LH,bh.aM+1)){Aw=bh;}});if(!Aw){Aw=gI[0];}return Aw;};PCCViewer.ThumbnailControl.prototype.reflow=function(){if(!this.jF){return this;}var DZ,DV,aS,bI,NI,Pd,ca,Aw=this.arM();IPCC.aN.forEach(this.rq,function(bh){if(bh.AI){bh.bp.style.height=bh.sx.style.height='';bh.bp.style.width=bh.sx.style.width='';}});IPCC.aN.forEach(this.rq,function(bh){if(bh.AI){DZ=bh.bp.offsetWidth;DV=bh.bp.offsetHeight;ca=bh.bb.arT();if(Math.abs(ca)===90||Math.abs(ca)===270){bI=bh.bb.mH();aS=bh.bb.mj();}else{aS=bh.bb.mH();bI=bh.bb.mj();}NI=aS/bI;Pd=DZ/DV;var kj,kb;if(NI<Pd){kb=DV;kj=Math.floor(kb*aS/bI);}else{kj=DZ;kb=Math.floor(kj*bI/aS);}bh.kj=kj;bh.kb=kb;}});IPCC.aN.forEach(this.rq,function(bh){if(bh.AI&&bh.bb){bh.sx.style.height=bh.kb+'px';bh.sx.style.width=bh.kj+'px';bh.bb.Xn(IPCC.Web.UI.FitType.FullImage);bh.bb.co();}});if(Aw){this.abe(Aw);}this.Yw();return this;};PCCViewer.ThumbnailControl.prototype.destroy=function(){if(!this.jF){return this;}this.jF=jF.aeE;IPCC.aN.forEach(this.rq,function(bh){if(bh.bb&&bh.bb.dispose){bh.bb.dispose();}});while(this.ax.firstChild){this.ax.removeChild(this.ax.firstChild);}this.on=this.off=this.trigger=Zf;this.lc={};};PCCViewer.ThumbnailControl.prototype.getVisiblePages=function(){if(!this.jF){return[];}var gI=this.Ll();return IPCC.aN.map(gI,function(bh){return bh.aM+1;});};PCCViewer.ThumbnailControl.prototype.Ll=function Ll(){var JD=this.ax.getBoundingClientRect(),vK;function Zc(nq,OO){return(!(OO.top>=nq.bottom||OO.left>=nq.right||OO.bottom<=nq.top||OO.right<=nq.left));};return IPCC.aN.filter(this.rq,function(bh){vK=bh.bp.getBoundingClientRect();return Zc(JD,vK);});};PCCViewer.ThumbnailControl.prototype.Yw=function(){var G=this,gI=G.Ll();IPCC.aN.forEach(gI,function(bh){if(!bh.AI){bh.bb=G.kc(bh);bh.AI=true;}});return this;};PCCViewer.ThumbnailControl.prototype.RC=function RC(bp){var Rc={},G=this;function awc(dG,Ro,Ft){if(Rc[dG]){clearTimeout(Rc[dG]);Rc[dG]=undefined;}Rc[dG]=setTimeout(Ro,Ft||0);};IPCC.Web.UI.ao.addHandler(bp,'scroll',function(ev){awc('scroll',function(){G.Yw();},300);});};PCCViewer.ThumbnailControl.prototype.kc=function(bh,oK){var G=this;oK=oK||Zf;var be={documentIdentifier:G.bn.documentID,pageNumber:bh.aM,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:G.bn.imageHandlerUrl,encryption:G.bn.encryption,handleTouchEvents:false};var bb=IPCC.initializePageViewPlugin(bh.sx,be);bb.set_debug(G._debug);bb.set_mouseTool(IPCC.Web.UI.MouseTool.None);var xK=false;function LV(){oK();};bb.add_pageOpened(function(){G.Xe(bh);});bb.add_pageDisplayed(function(){if(!xK){LV();}});bb.add_textPageReady(function(){if(xK){bb.co();LV();}});bb.add_pageOpenFailed(function(){});bb.add_textExtractionFailed(function(){});be.artPage=G.dK.av.gS(G.dK.cl.getPage(bh.aM));be.artPage.DA(function(O){if(O.get_type()===608){xK=true;}});bb.axn(be);bb.set_mouseTool(IPCC.Web.UI.MouseTool.None);return bb;};PCCViewer.ThumbnailControl.prototype.Xe=function(bh){var G=this;var Gj=G.dK.av.Tw(bh.aM);var ca=bh.ca;var aex=ca;if(Gj!==bh.ca){aex=Gj-ca;}var bb=bh.bb,jh=bh.sx,bI,aS;jh.style.height='';jh.style.width='';if(Math.abs(Gj)===90||Math.abs(Gj)===270){bI=bb.mH();aS=bb.mj();}else{bI=bb.mj();aS=bb.mH();}var DZ=jh.offsetWidth,DV=jh.offsetHeight;if(bh.ca!==Gj){bb.rotate(aex);bh.ca=Gj;}var NI=aS/bI,Pd=DZ/DV;var kj,kb;if(NI<Pd){kb=DV;kj=Math.floor(kb*aS/bI);}else{kj=DZ;kb=Math.floor(kj*bI/aS);}jh.style.height=kb+'px';jh.style.width=kj+'px';};})(PCCViewer||{});;(function(PCCViewer){PCCViewer.eV={copyRectangle:function(F){return{x:F.x,y:F.y,width:F.width,height:F.height};},Common:function(be,dc){var bI;var aS;if(be.page){bI=be.page.get_pageHeight();aS=be.page.get_pageWidth();}else{bI=null;aS=null;}var bC=be.mark.getPageNumber();var by={uid:be.mark.getUid(),interactionMode:be.mark.getInteractionMode(),pageNumber:bC,type:be.mark.getType(),creationDateTime:IPCC.aN.yC(be.mark.h.aew()),modificationDateTime:IPCC.aN.yC(be.mark.h.aeZ()),data:PCCViewer.eV.Data(be.mark),conversation:PCCViewer.eV.Conversation(be.mark.getConversation())};function AQ(ba){return{x:ba.x,y:ba.y};};function aut(){var GR=IPCC.aN.map([].concat(be.mark.h,be.mark.cF),function(h){if(aS!==null){return{pageNumber:h.aM+1,pageData:{width:aS,height:bI},startIndex:h.get_startIndex(),textLength:h.get_textLength(),lines:IPCC.aN.map(h.ds,function(bm){if(bm.get_rectangle){return PCCViewer.eV.copyRectangle(bm.get_rectangle());}else{return PCCViewer.eV.copyRectangle(bm);}})};}else{return{pageNumber:h.aM+1,startIndex:h.get_startIndex(),textLength:h.get_textLength(),lines:IPCC.aN.map(h.ds,function(bm){if(bm.get_rectangle){return PCCViewer.eV.copyRectangle(bm.get_rectangle());}else{return PCCViewer.eV.copyRectangle(bm);}})};}});by.lineGroups=GR;};function adI(){if(be.mark.getRectangle){by.rectangle=PCCViewer.eV.copyRectangle(be.mark.getRectangle());if(aS!==null){by.pageData={width:aS,height:bI};}}if(be.mark.getStartPoint){by.startPoint=AQ(be.mark.getStartPoint());if(aS!==null){by.pageData=by.pageData||{width:aS,height:bI};}}if(be.mark.getEndPoint){by.endPoint=AQ(be.mark.getEndPoint());if(aS!==null){by.pageData=by.pageData||{width:aS,height:bI};}}if(be.mark.getPoints){var bE=be.mark.getPoints();by.points=IPCC.aN.map(bE,AQ);if(aS!==null){by.pageData={width:aS,height:bI};}}if(be.mark.h.ds){aut();}};if(aS!==undefined&&bI!==undefined&&aS!==0&&bI!==0){adI();dc(undefined,by);}else{be.vc.requestPageAttributes(bC).then(function aDq(aev){bI=aev.height;aS=aev.width;adI();dc(undefined,by);},function aDr(fK){dc(fK);});}},Data:function(by){return IPCC.aN.reduce(by.getDataKeys(),function(fo,bA){fo[bA]=by.getData(bA);return fo;},{});},Comment:function(dq){return{text:dq.getText(),data:PCCViewer.eV.Data(dq),creationDateTime:IPCC.aN.yC(dq.getCreationTime())};},Conversation:function(dA){return{comments:IPCC.aN.map(dA.getComments(),function(dq){return PCCViewer.eV.Comment(dq);}),data:PCCViewer.eV.Data(dA)};},EllipseAnnotation:function(be,dc){PCCViewer.eV.RectangleAnnotation(be,dc);},FreehandAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{color:be.mark.getColor(),opacity:be.mark.getOpacity(),path:be.mark.getPath(),thickness:be.mark.getThickness()});dc(undefined,by);});},FreehandSignature:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{color:be.mark.getColor(),path:be.mark.getPath(),thickness:be.mark.getThickness()});dc(undefined,by);});},HighlightAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}var dr=be.mark.getPosition();by=IPCC.aN.extend(by,{fillColor:be.mark.getFillColor(),textLength:dr.length,startIndex:dr.startIndex,selectedText:be.mark.getText()});dc(undefined,by);});},ImageStampAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}var aY=be.mark.getImage();by=IPCC.aN.extend(by,{imageDataUrl:aY.dataUrl,imageId:aY.id});dc(undefined,by);});},ImageStampRedaction:function(be,dc){PCCViewer.eV.ImageStampAnnotation(be,dc);},LineAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{color:be.mark.getColor(),endHeadType:be.mark.getEndHeadType(),opacity:be.mark.getOpacity(),thickness:be.mark.getThickness()});dc(undefined,by);});},PolylineAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{color:be.mark.getColor(),opacity:be.mark.getOpacity(),thickness:be.mark.getThickness()});dc(undefined,by);});},RectangleAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{borderColor:be.mark.getBorderColor(),borderThickness:be.mark.getBorderThickness(),fillColor:be.mark.getFillColor(),opacity:be.mark.getOpacity()});dc(undefined,by);});},RectangleRedaction:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{reason:be.mark.getReason()});dc(undefined,by);});},StampAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{label:be.mark.getLabel(),color:be.mark.getColor()});dc(undefined,by);});},StampRedaction:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{label:be.mark.getLabel()});dc(undefined,by);});},TextAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{borderColor:be.mark.getBorderColor(),borderThickness:be.mark.getBorderThickness(),fillColor:be.mark.getFillColor(),fontColor:be.mark.getFontColor(),fontName:be.mark.getFontName(),fontSize:be.mark.getFontSize(),fontStyle:be.mark.getFontStyle(),horizontalAlignment:be.mark.getHorizontalAlignment(),opacity:be.mark.getOpacity(),text:be.mark.getText()});dc(undefined,by);});},TextHyperlinkAnnotation:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}var dr=be.mark.getPosition();by=IPCC.aN.extend(by,{href:be.mark.getHref(),textLength:dr.length,startIndex:dr.startIndex,selectedText:be.mark.getText()});dc(undefined,by);});},TextInputSignature:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{fontColor:be.mark.getFontColor(),fontName:be.mark.getFontName(),text:be.mark.getText()});dc(undefined,by);});},TextRedaction:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{fontColor:be.mark.getFontColor(),fontName:be.mark.getFontName(),fontSize:be.mark.getFontSize(),text:be.mark.getText()});dc(undefined,by);});},TextSelectionRedaction:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}var dr=be.mark.getPosition();by=IPCC.aN.extend(by,{reason:be.mark.getReason(),textLength:dr.length,startIndex:dr.startIndex,selectedText:be.mark.getText()});dc(undefined,by);});},TextSignature:function(be,dc){PCCViewer.eV.Common(be,function(cE,by){if(cE){dc(cE);return;}by=IPCC.aN.extend(by,{color:be.mark.getColor(),fontName:be.mark.getFontName(),text:be.mark.getText()});dc(undefined,by);});},TransparentRectangleRedaction:function(be,dc){PCCViewer.eV.Common(be,dc);}};PCCViewer.ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var bk=PCCViewer.Deferred();var dp=bk.getPromise();var G=this,au,aBd=false;function ajM(fK){setTimeout(function(){bk.reject(fK);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){au=marks;}else if(marks){au=[marks];aBd=true;}else{ajM(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return dp;}var Pf;au=IPCC.aN.filter(au,function(mC,cO){var aid=mC instanceof PCCViewer.Mark&&mC===G.getMarkById(mC.getId())&& ! !PCCViewer.eV[mC.getType()];if(!aid&& !Pf){Pf=cO;}return aid;});if(Pf){ajM(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Pf+' because it is not a valid mark or a mark known to ViewerControl'));return dp;}var Qu=G.aR.get_pages();var dj=IPCC.aN.reduce(au,function(fo,mC){var bC=mC.getPageNumber();if(fo[bC]){return fo;}fo[bC]=Qu.getPage(bC-1);return fo;},{});function atz(O,aW,aDs){return function(oK){PCCViewer.eV[O.getType()]({mark:O,page:aW,vc:G},function(cE,bY){if(!cE){aDs(bY);oK();}else{bk.reject(cE);}});};};var uZ=[];var asy=IPCC.aN.map(au,function(mC,cO){return atz(mC,dj[mC.getPageNumber()],function(bY){uZ[cO]=bY;});});IPCC.aN.Ws(asy,function(){bk.resolve(uZ);});return dp;};})(PCCViewer||{});;(function(PCCViewer){PCCViewer.eH={calculateRectangle:function(by,bn){if(by.pageData===undefined||(by.pageData.width===bn.aS&&by.pageData.height===bn.bI)){return by.rectangle;}else{return{x:by.rectangle.x*bn.aS/by.pageData.width,y:by.rectangle.y*bn.bI/by.pageData.height,width:by.rectangle.width*bn.aS/by.pageData.width,height:by.rectangle.height*bn.bI/by.pageData.height};}},setRectangle:function(O,by,bn){O.setRectangle(PCCViewer.eH.calculateRectangle(by,bn));},setLines:function(O,by,bn){var afy,oa,dk=by.textLength+by.startIndex-1,dm=by.selectedText,dr={startIndex:by.startIndex,length:by.textLength};oa=[];var aM,BS;afy=IPCC.aN.reduce(by.lineGroups,function(fo,qf){aM=qf.pageNumber-1;fo[aM]=IPCC.aN.map(qf.lines,function(iJ){if(qf.pageData!==undefined){BS=PCCViewer.eH.calculateRectangle({rectangle:iJ,pageData:qf.pageData},bn);return new IPCC.Web.UI.Rectangle(BS.x,BS.y,BS.width,BS.height);}else{return new IPCC.Web.UI.Rectangle(iJ.x,iJ.y,iJ.width,iJ.height);}});oa.push({pageIndex:aM,endIndex:qf.startIndex+qf.textLength-1});return fo;},{});O.Ju(oa,dk,dm,dr,afy);},postCreate:function(O,by){O.h.acM(new Date(IPCC.aN.IL(by.creationDateTime)));O.h.Xr(new Date(IPCC.aN.IL(by.modificationDateTime)));return O;},calculatePoint:function(ba,LD,bn){if(LD===undefined||(LD.width===bn.aS&&LD.height===bn.bI)){return ba;}else{return{x:ba.x*bn.aS/LD.width,y:ba.y*bn.bI/LD.height};}},Data:function(by,bY){IPCC.aN.forEach(bY,function(dI,bA){by.setData(bA,dI);});},Comment:function(dA,dq){var oH=dA.addComment(dq.text);oH.setCreationTime(dq.creationDateTime);PCCViewer.eH.Data(oH,dq.data);},Conversation:function(O,dA){var ago=O.getConversation();IPCC.aN.forEach(dA.comments?dA.comments:[],function(oH){PCCViewer.eH.Comment(ago,oH);});PCCViewer.eH.Data(ago,dA.data);},Common:function(by,bn){if(by.uid===undefined){by.uid=IPCC.aN.akO();}var O=this.aiQ(by.pageNumber,by.type,{uid:by.uid});if(by.rectangle&&O.setRectangle){PCCViewer.eH.setRectangle(O,by,bn);}if(by.startPoint&&O.setStartPoint){O.setStartPoint(PCCViewer.eH.calculatePoint(by.startPoint,by.pageData,bn));}if(by.endPoint&&O.setEndPoint){O.setEndPoint(PCCViewer.eH.calculatePoint(by.endPoint,by.pageData,bn));}if(by.points&&O.setPoints){O.setPoints(IPCC.aN.map(by.points,function(ba){return PCCViewer.eH.calculatePoint(ba,by.pageData,bn);}));}if(by.lineGroups&&O.Ju){O.dM=by.uid;PCCViewer.eH.setLines(O,by,bn);}if(by.interactionMode){O.setInteractionMode(by.interactionMode);}PCCViewer.eH.Data(O,by.data);PCCViewer.eH.Conversation(O,by.conversation);return O;},EllipseAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.borderColor){O.setBorderColor(by.borderColor);}if(by.borderThickness){O.setBorderThickness(by.borderThickness);}if(by.fillColor){O.setFillColor(by.fillColor);}if(by.opacity){O.setOpacity(by.opacity);}return PCCViewer.eH.postCreate(O,by);},FreehandAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.color){O.setColor(by.color);}if(by.opacity){O.setOpacity(by.opacity);}if(by.path){O.setPath(by.path);}if(by.thickness){O.setThickness(by.thickness);}return PCCViewer.eH.postCreate(O,by);},FreehandSignature:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.color){O.setColor(by.color);}if(by.path){O.setPath(by.path);}if(by.thickness){O.setThickness(by.thickness);}return PCCViewer.eH.postCreate(O,by);},HighlightAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.fillColor){O.setFillColor(by.fillColor);}return PCCViewer.eH.postCreate(O,by);},ImageStampAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.imageDataUrl&&by.imageId){O.setImage({id:by.imageId,dataUrl:by.imageDataUrl});}return PCCViewer.eH.postCreate(O,by);},ImageStampRedaction:function(by,bn){return PCCViewer.eH.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.color){O.setColor(by.color);}if(by.endHeadType){O.setEndHeadType(by.endHeadType);}if(by.opacity){O.setOpacity(by.opacity);}if(by.thickness){O.setThickness(by.thickness);}return PCCViewer.eH.postCreate(O,by);},PolylineAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.color){O.setColor(by.color);}if(by.opacity){O.setOpacity(by.opacity);}if(by.thickness){O.setThickness(by.thickness);}return PCCViewer.eH.postCreate(O,by);},RectangleAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.borderColor){O.setBorderColor(by.borderColor);}if(by.borderThickness){O.setBorderThickness(by.borderThickness);}if(by.fillColor){O.setFillColor(by.fillColor);}if(by.opacity){O.setOpacity(by.opacity);}return PCCViewer.eH.postCreate(O,by);},RectangleRedaction:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.reason){O.setReason(by.reason);}return PCCViewer.eH.postCreate(O,by);},StampAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.label){O.setLabel(by.label);}if(by.color){O.setColor(by.color);}return PCCViewer.eH.postCreate(O,by);},StampRedaction:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.label){O.setLabel(by.label);}return PCCViewer.eH.postCreate(O,by);},TextAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.borderColor){O.setBorderColor(by.borderColor);}if(by.borderThickness){O.setBorderThickness(by.borderThickness);}if(by.fillColor){O.setFillColor(by.fillColor);}if(by.fontColor){O.setFontColor(by.fontColor);}if(by.fontName){O.setFontName(by.fontName);}if(by.fontSize){O.setFontSize(by.fontSize);}if(by.fontStyle){O.setFontStyle(by.fontStyle);}if(by.horizontalAlignment){O.setHorizontalAlignment(by.horizontalAlignment);}if(by.opacity){O.setOpacity(by.opacity);}if(by.text){O.setText(by.text);}return PCCViewer.eH.postCreate(O,by);},TextHyperlinkAnnotation:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.href){O.setHref(by.href);}return PCCViewer.eH.postCreate(O,by);},TextInputSignature:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.fontColor){O.setFontColor(by.fontColor);}if(by.fontName){O.setFontName(by.fontName);}if(by.text){O.setText(by.text);}return PCCViewer.eH.postCreate(O,by);},TextRedaction:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.fontColor){O.setFontColor(by.fontColor);}if(by.fontName){O.setFontName(by.fontName);}if(by.fontSize){O.setFontSize(by.fontSize);}if(by.text){O.setText(by.text);}return PCCViewer.eH.postCreate(O,by);},TextSelectionRedaction:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.reason){O.setReason(by.reason);}return PCCViewer.eH.postCreate(O,by);},TextSignature:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);if(by.color){O.setColor(by.color);}if(by.fontName){O.setFontName(by.fontName);}if(by.text){O.setText(by.text);}return PCCViewer.eH.postCreate(O,by);},TransparentRectangleRedaction:function(by,bn){var O=PCCViewer.eH.Common.apply(this,arguments);return PCCViewer.eH.postCreate(O,by);}};PCCViewer.ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.eY===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var G=this;var eQ=G.getPageCount();var eo;if(typeof values==='string'){try{eo=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{eo=values;}if(eo.constructor!==Array){eo=[eo];}function So(fK,cO){throw new Error('Cannot serialize mark (at index '+cO+') because of '+fK);};var Ze=IPCC.aN.map(G.getAllMarks(),function(O){return O.getUid();});IPCC.aN.forEach(eo,function validateObject(by,cO){if(!by.pageNumber||isNaN(+by.pageNumber)||by.pageNumber<1||by.pageNumber>eQ){So('unknown page number '+by.pageNumber,cO);}if(!PCCViewer.Mark.Type[by.type]){So('unknown type '+by.type,cO);}if(IPCC.aN.contains(Ze,by.uid)){So('uid '+by.uid+' is being duplicated or already exists',cO);}else if(by.uid!==undefined){Ze.push(by.uid);}});if(eo.length===0){return[];}var dj=G.aR.get_pages();var akB=dj.kc(0);var eb=akB.get_pageWidth();var fR=akB.get_pageHeight();var awv=[];dj.np(function(aW){awv.push(G.av.gS(aW));});var au=IPCC.aN.map(eo,function(by){var O=PCCViewer.eH[by.type].call(G,by,{aS:eb,bI:fR});if(by.uid===undefined){Ze.push(O.getUid());}var aW=dj.kc(by.pageNumber-1);aW.zs=true;return O;});return au;};})(PCCViewer||{});(function(PCCViewer){PCCViewer.LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.yS=layerRecordIds;this.dK=viewerControl;this.hQ="";this.gx=false;this.qU=false;this.lC=0;this.bk=PCCViewer.Deferred();this.dp=this.bk.getPromise();this.then=this.dp.then;this.uh=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};PCCViewer.LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};PCCViewer.LoadMarkupLayersRequest.prototype.getProgress=function(){return this.lC;};PCCViewer.LoadMarkupLayersRequest.prototype.cancel=function(){var G=this;this.qU=true;this.hQ="User Cancelled";setTimeout(function(){G.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});G.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});G.bk.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.dK;};PCCViewer.LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.hQ;};PCCViewer.LoadMarkupLayersRequest.prototype.Jd=function(){var G=this,Xl=1,WC,Xk=[];var uh=this.uh;var tK=function(aiz){var dh=WC+aiz;IPCC.aN.GT({url:dh,method:'GET'}).then(function onResolve(jQ){var sC=JSON.parse(jQ),Nt=G.axy(sC),fU,uZ=[],au,hA=[],aiw={},Ng=0,MW;for(var lG in Nt.hA){if(Nt.hA.hasOwnProperty(lG)){hA=hA.concat(Nt.hA[lG]);}}fU=new PCCViewer.MarkupLayer(G.dK,hA);fU.aCY={dh:dh};IPCC.aN.forEach(Nt.uZ,function(acn){uZ.push(acn);Ng++;aiw[acn.uid]=true;});if(sC.name){fU.setName(sC.name);}if(sC.originalXmlName){fU.setOriginalXmlName(sC.originalXmlName);}if(Ng>0){MW=function(ev){if(aiw[ev.mark.getUid()]){Ng--;}if(!Ng){G.dK.off(PCCViewer.EventType.MarkCreated,MW);G.dK.uH=true;}};G.dK.on(PCCViewer.EventType.MarkCreated,MW);G.dK.uH=false;try{au=G.dK.deserializeMarks(uZ);}catch(cE){G.gx=false;G.dK.off(PCCViewer.EventType.MarkCreated,MW);G.dK.uH=true;G.bk.reject(new PCCViewer.Error('Error',cE.message));G.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(uh){IPCC.aN.forEach(au,function(O){O.setVisible(false);});}fU.addMarks(au);}fU.UO=aiz;for(var wH in sC.data){if(sC.data.hasOwnProperty(wH)){fU.setData(wH,sC.data[wH]);}}G.dK.getMarkupLayerCollection().addItem(fU);Xk.push(fU);Xl--;G.lC=(G.yS.length-Xl)/G.yS.length;G.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:G.lC});if(G.lC===1){G.gx=false;G.bk.resolve(Xk);G.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:Xk});}},function onReject(fK){G.gx=false;G.bk.reject(new PCCViewer.Error("Error",fK));G.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});});};if(!(/^[\x00-\x7F]*$/.test(this.dK.aR.get_documentIdentifier()))){WC=this.dK.bn.imageHandlerUrl+'/MarkupLayers/e'+this.dK.bn.documentID+'/';}else{WC=this.dK.bn.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.dK.bn.documentID)+'/';}if(this.qU){return;}if(Object.prototype.toString.call(this.yS)==='[object Array]'&&this.yS.length>0){Xl=this.yS.length;this.gx=true;IPCC.aN.forEach(this.yS,tK,this);}else if(typeof this.yS==="string"){this.gx=true;tK(this.yS);}else{this.gx=false;this.bk.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};PCCViewer.LoadMarkupLayersRequest.prototype.axy=function(sC){var KI={},NJ={};IPCC.aN.forEach(sC.marks,function(UK){UK.conversation.comments=[];KI[UK.uid]=UK;},this);IPCC.aN.forEach(sC.comments,function(yV){if(KI[yV.markUid]){KI[yV.markUid].conversation.comments.push(yV);}else if(NJ[yV.markUid]){NJ[yV.markUid].push(yV);}else{NJ[yV.markUid]=[yV];}},this);return{uZ:KI,hA:NJ};};if(Object.defineProperties){Object.defineProperties(PCCViewer.LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.MarkupLayer=function(viewerControl,markReferences){var G=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.bX=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.dK=viewerControl;this.dG=undefined;this.UO=undefined;this.alh=undefined;this.au=[];this.hA={};this.oV=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.aN.forEach(markReferences,function(rR){var LJ=rR.markUid;rR.markupLayer=G;if(G.hA[LJ]){G.hA[LJ]=G.hA[LJ].concat(rR);}else{G.hA[LJ]=[rR];}});}var qi={};PCCViewer.EventEmitter.extend(qi);qi.QG=function(DR,cU){var G=this;return setTimeout(function(){G.trigger(DR,cU);},0);};PCCViewer.EventEmitter.extend(this);this.bY=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.Gz=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){G.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};PCCViewer.MarkupLayer.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};PCCViewer.MarkupLayer.prototype.getViewerControl=function(){return this.dK;};PCCViewer.MarkupLayer.prototype.addMarks=function(marks){var G=this,avN=function(dq){dq.ie=G;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var K=0;K<marks.length;K++){if(!(marks[K]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[K].getId())){marks.splice(K,1);continue;}IPCC.aN.forEach(marks[K].getConversation().getComments(),avN);}if(marks.length){this.au=this.au.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};PCCViewer.MarkupLayer.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var K=0;K<this.au.length;K++){for(var aK=0;aK<marks.length;aK++){if(this.au[K].getUid()===marks[aK].getUid()){this.au.splice(K,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[aK]]});break;}}}};PCCViewer.MarkupLayer.prototype.getMarks=function(){var ajp=[];IPCC.aN.forEach(this.au,function(O){ajp.push(O);});return ajp;};PCCViewer.MarkupLayer.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var K=0,adX=false,O;for(K;K<this.au.length;K++){O=this.au[K];if(O.getId()===markId){adX=true;break;}}return adX;};PCCViewer.MarkupLayer.prototype.getMarkReferences=function(){var hA=[];for(var lG in this.hA){if(this.hA.hasOwnProperty(lG)){hA=hA.concat(this.hA[lG]);}}return hA;};PCCViewer.MarkupLayer.prototype.hide=function(){var dK=this.dK;dK.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};PCCViewer.MarkupLayer.prototype.show=function(){var dK=this.dK;dK.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};PCCViewer.MarkupLayer.prototype.copyLayers=function(markupLayers){var dK=this.dK,G=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var au=[];IPCC.aN.forEach(markupLayers,function(ie){dK.getMarkupLayerCollection().getItem(ie.getId());au=au.concat(ie.getMarks());});var copiedMarks=dK.copyMarks(au);this.addMarks(copiedMarks);IPCC.aN.forEach(this.au,function(O){IPCC.aN.forEach(O.getConversation().getComments(),function(dq){dq.ie=G;});});return this;};PCCViewer.MarkupLayer.prototype.getId=function(){return this.bX;};PCCViewer.MarkupLayer.prototype.getName=function(){return this.dG;};PCCViewer.MarkupLayer.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.dG=name;return this;};PCCViewer.MarkupLayer.prototype.getRecordId=function(){return this.UO;};PCCViewer.MarkupLayer.prototype.destroy=function(){this.dK.getMarkupLayerCollection().removeItem(this.bX);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};PCCViewer.MarkupLayer.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.oV=interactionMode;IPCC.aN.forEach(this.au,function(O){O.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};PCCViewer.MarkupLayer.prototype.getOriginalXmlName=function(){return this.alh;};PCCViewer.MarkupLayer.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.alh=name;return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.MarkupLayer.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dK=viewerControl;this.ur={};this.au={};this.iX={};this.ml=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};PCCViewer.MarkupLayerCollection.prototype.getViewerControl=function(){return this.dK;};PCCViewer.MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.aN.forEach(this.ur,iterator,thisArg);return this;};PCCViewer.MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.ur[layerId];};PCCViewer.MarkupLayerCollection.prototype.getCount=function(){return this.ml;};PCCViewer.MarkupLayerCollection.prototype.getAll=function(){var ajD=[],Xy;for(Xy in this.ur){if(this.ur.hasOwnProperty(Xy)){ajD.push(this.ur[Xy]);}}return ajD;};PCCViewer.MarkupLayerCollection.prototype.addItem=function(layer){var G=this,hA,Yl=layer.hA,LY=function(O,rR){var dq=O.getConversation().addComment(rR.text);dq.creationTime=new Date(rR.creationDateTime);dq.ie=rR.markupLayer;for(var wH in rR.data){if(rR.data.hasOwnProperty(wH)){dq.setData(wH,rR.data[wH]);}}},ayO=function(azq){LY(G.au[xB],azq);},ahe=function(O){var lG=O.getUid();G.au[O.getUid()]=O;if(G.iX[lG]){IPCC.aN.forEach(G.iX[lG],function(qz){LY(O,qz);});delete G.iX[lG];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.ur[layer.getId()]=layer;for(var xB in Yl){if(Yl.hasOwnProperty(xB)){hA=Yl[xB];if(G.au[xB]){IPCC.aN.forEach(hA,ayO);}else if(G.iX[xB]){G.iX[xB]=G.iX[xB].concat(hA);}else{G.iX[xB]=hA;}}}IPCC.aN.forEach(layer.getMarks(),function(O){ahe(O);});this.ml++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.aN.forEach(ev.marks,function(O){ahe(O);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var axz=ev.de;IPCC.aN.forEach(ev.marks,function(O){var lG=O.getUid();IPCC.aN.forEach(G.au[lG].getConversation().getComments(),function(Ig){if(axz.id!==Ig.ie.id){var qz={creationDateTime:IPCC.aN.yC(Ig.creationTime),data:Ig.bY.xF(),markUid:O.getUid(),markupLayer:Ig.ie,text:Ig.text};if(G.iX[lG]){G.iX[lG]=G.iX[lG].concat([qz]);}else{G.iX[lG]=[qz];}}});G.wP(O);});});return this;};PCCViewer.MarkupLayerCollection.prototype.wP=function(O){var Ml;IPCC.aN.forEach(this.ur,function(fU){var ajx=fU.hasMark(O.getId());Ml=(typeof Ml!=='undefined')? +ajx^Ml: +ajx;});if(Ml===0){delete this.au[O.getUid()];}};PCCViewer.MarkupLayerCollection.prototype.removeItem=function(layerId){var fU=this.ur[layerId],G=this,azK=function(qz,bD){if(qz.markupLayer.getId()===layerId){G.iX[bX].splice(bD);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.aN.forEach(this.au,function(O){var gp=O.getConversation().getComments();var Oa=fU.hasMark(O.getId());IPCC.aN.forEach(gp,function(dq){if(Oa&&dq.ie.getId()!==layerId){var adU={"markUid":O.getUid(),"markupLayer":dq.ie,"text":dq.getText(),"data":dq.bY.bY,"creationDateTime":IPCC.aN.yC(dq.getCreationTime())};if(G.iX[O.getUid()]){G.iX[O.getUid()].push(adU);}else{G.iX[O.getUid()]=[adU];}O.getConversation().deleteComments(dq);}else if(Oa&&dq.ie.getId()===layerId){O.getConversation().deleteComments(dq);}else if(!Oa&&dq.ie.getId()===layerId){O.getConversation().deleteComments(dq);}});if(Oa&&G.au[O.getUid()]){G.wP(O);}});for(var bX in this.iX){if(this.iX.hasOwnProperty(bX)){IPCC.aN.forEach(this.iX[bX],azK);}}delete this.ur[layerId];this.ml--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};PCCViewer.MarkupLayerCollection.prototype.removeAll=function(){this.ur={};this.ml=0;return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}})(PCCViewer||{}); 